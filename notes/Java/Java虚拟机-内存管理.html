<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.43" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-v2-demo.mrhope.site/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html"><meta property="og:site_name" content="CS Way"><meta property="og:title" content="ä¸€ã€è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-05-16T12:07:59.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-05-16T12:07:59.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><link rel="manifest" href="/cs-way/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>ä¸€ã€è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ | CS Way</title><meta name="description" content="CS Way">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/cs-way/assets/style.ed81f444.css">
    <link rel="modulepreload" href="/cs-way/assets/app.7d4bd0aa.js"><link rel="modulepreload" href="/cs-way/assets/Javaè™šæ‹Ÿæœº-å†…å­˜ç®¡ç†.html.e6da0d65.js"><link rel="modulepreload" href="/cs-way/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/cs-way/assets/Javaè™šæ‹Ÿæœº-å†…å­˜ç®¡ç†.html.1b60750a.js"><link rel="prefetch" href="/cs-way/assets/index.html.428f64d0.js"><link rel="prefetch" href="/cs-way/assets/home.html.0bd41dd0.js"><link rel="prefetch" href="/cs-way/assets/slide.html.8837fb5e.js"><link rel="prefetch" href="/cs-way/assets/index.html.9539c43d.js"><link rel="prefetch" href="/cs-way/assets/JavaEE.html.f77c4b93.js"><link rel="prefetch" href="/cs-way/assets/JavaIO.html.043a1641.js"><link rel="prefetch" href="/cs-way/assets/JavaåŸºç¡€.html.10bc9e79.js"><link rel="prefetch" href="/cs-way/assets/Javaå®¹å™¨.html.2ceee697.js"><link rel="prefetch" href="/cs-way/assets/Javaå¹¶å‘åŸºç¡€.html.d176e322.js"><link rel="prefetch" href="/cs-way/assets/Javaå¹¶å‘è¿›é˜¶.html.24e1ca9e.js"><link rel="prefetch" href="/cs-way/assets/Javaç‰¹æ€§.html.133c685d.js"><link rel="prefetch" href="/cs-way/assets/Javaè™šæ‹Ÿæœº-JVMè°ƒä¼˜.html.aea2e824.js"><link rel="prefetch" href="/cs-way/assets/Javaè™šæ‹Ÿæœº-æ‰§è¡Œç³»ç»Ÿ.html.ca070534.js"><link rel="prefetch" href="/cs-way/assets/Javaé«˜çº§.html.23867857.js"><link rel="prefetch" href="/cs-way/assets/index.html.02e0653e.js"><link rel="prefetch" href="/cs-way/assets/index.html.a027ec4c.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ä¸­ä»‹è€….html.fcec0131.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-äº«å…ƒ.html.c01dd79c.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ä»£ç†.html.10ec8c02.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å•ä¾‹.html.0d885b0c.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-åŸå‹æ¨¡å¼.html.c7a958ae.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å‘½ä»¤.html.282b7bd4.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å¤‡å¿˜å½•.html.da0ffd6b.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å¤–è§‚.html.9f4c35dd.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼.html.b4bfec28.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å»ºé€ è€…æ¨¡å¼.html.19c7b3fc.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-æ¡¥æ¥.html.8f9a30fb.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-æ¨¡æ¿æ–¹æ³•.html.b7f3d90d.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-çŠ¶æ€.html.381db42b.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ç›®å½•.html.c5dd8249.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ç©ºå¯¹è±¡.html.1e2fb7cf.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ç­–ç•¥.html.5b66ebbd.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ç»„åˆ.html.2eb2cb18.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è£…é¥°.html.15164c1b.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€….html.b193f055.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è§£é‡Šå™¨.html.ce787a46.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è®¿é—®è€….html.11946150.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è´£ä»»é“¾.html.916275bb.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è¿­ä»£å™¨.html.e19bfac3.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-é€‚é…å™¨.html.b9bea4a6.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼.html.ef55b7fd.js"><link rel="prefetch" href="/cs-way/assets/é¢å‘å¯¹è±¡æ€æƒ³.html.5f004f29.js"><link rel="prefetch" href="/cs-way/assets/index.html.8a7d1052.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼ä¸­é—´ä»¶.html.b61da623.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼äº‹åŠ¡.html.7170a391.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼æœç´¢.html.d83bd2ad.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼æ•°æ®åº“.html.6b15d98a.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼æœåŠ¡.html.fc52b1ba.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼æ¶ˆæ¯.html.7961b79b.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼ç¼“å­˜.html.fa57d2aa.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼è®¡ç®—.html.bda1a102.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼è°ƒåº¦.html.889af8f6.js"><link rel="prefetch" href="/cs-way/assets/é…ç½®ä¸­å¿ƒ.html.fc79b407.js"><link rel="prefetch" href="/cs-way/assets/JS-è¿›é˜¶.html.202ada66.js"><link rel="prefetch" href="/cs-way/assets/JavaScript.html.689f32a1.js"><link rel="prefetch" href="/cs-way/assets/index.html.94f05edc.js"><link rel="prefetch" href="/cs-way/assets/å‰ç«¯åŸºç¡€.html.049f831d.js"><link rel="prefetch" href="/cs-way/assets/Docker.html.cacb3a30.js"><link rel="prefetch" href="/cs-way/assets/Git.html.139cfce4.js"><link rel="prefetch" href="/cs-way/assets/IDEA.html.3fa858b0.js"><link rel="prefetch" href="/cs-way/assets/index.html.42cdb1ee.js"><link rel="prefetch" href="/cs-way/assets/VSCode.html.b7f7095f.js"><link rel="prefetch" href="/cs-way/assets/æ„å»ºå·¥å…·.html.d3af6cc7.js"><link rel="prefetch" href="/cs-way/assets/æ­£åˆ™è¡¨è¾¾å¼.html.e57f6ffa.js"><link rel="prefetch" href="/cs-way/assets/index.html.4c938fe4.js"><link rel="prefetch" href="/cs-way/assets/ä»£ç å¯è¯»æ€§.html.bc4c00a2.js"><link rel="prefetch" href="/cs-way/assets/ä»£ç é£æ ¼è§„èŒƒ.html.c2840a92.js"><link rel="prefetch" href="/cs-way/assets/Linux.html.417259a1.js"><link rel="prefetch" href="/cs-way/assets/index.html.1ea15a64.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-å†…å­˜ç®¡ç†.html.272069f1.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-æ¦‚è¿°.html.43f3a0c6.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-æ­»é”.html.f244a44c.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-ç›®å½•.html.5ac8915d.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-è®¾å¤‡ç®¡ç†.html.caa64bce.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-è¿›ç¨‹ç®¡ç†.html.5a7b502a.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-é“¾æ¥.html.bdf0a6fb.js"><link rel="prefetch" href="/cs-way/assets/Leetcode-Databaseé¢˜è§£.html.4053ef8b.js"><link rel="prefetch" href="/cs-way/assets/MySQL.html.c258d858.js"><link rel="prefetch" href="/cs-way/assets/index.html.da039aed.js"><link rel="prefetch" href="/cs-way/assets/Redis.html.d3a30afa.js"><link rel="prefetch" href="/cs-way/assets/SQL.html.99bd980a.js"><link rel="prefetch" href="/cs-way/assets/æ•°æ®åº“ç³»ç»ŸåŸç†.html.67380b70.js"><link rel="prefetch" href="/cs-way/assets/Dubbo.html.de463de6.js"><link rel="prefetch" href="/cs-way/assets/Kafka.html.c378c4de.js"><link rel="prefetch" href="/cs-way/assets/PandoraBoot.html.47e9d634.js"><link rel="prefetch" href="/cs-way/assets/index.html.6cc0d80c.js"><link rel="prefetch" href="/cs-way/assets/RabbitMQ.html.689c5c33.js"><link rel="prefetch" href="/cs-way/assets/Spring-MVC.html.e626b019.js"><link rel="prefetch" href="/cs-way/assets/Spring.html.90033636.js"><link rel="prefetch" href="/cs-way/assets/SpringBoot.html.70d071c8.js"><link rel="prefetch" href="/cs-way/assets/Zookeeper.html.10a75aae.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-äºŒåˆ†æŸ¥æ‰¾.html.63c70b1d.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-ä½è¿ç®—.html.daa1db7e.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-åˆ†æ²».html.1a553bdb.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-åŠ¨æ€è§„åˆ’.html.c3f68fee.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-åŒæŒ‡é’ˆ.html.1487e549.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-å“ˆå¸Œè¡¨.html.e52afdc7.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-å›¾.html.434ae080.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-å­—ç¬¦ä¸².html.3f68eef2.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æ’åº.html.90904bb7.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æœç´¢.html.5160fa42.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æ•°å­¦.html.c78336c8.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æ•°ç»„ä¸çŸ©é˜µ.html.8f597b64.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æ ˆå’Œé˜Ÿåˆ—.html.7bb54104.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æ ‘.html.aa387938.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-ç›®å½•.html.2b49d038.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-è´ªå¿ƒæ€æƒ³.html.b407c0f1.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-é“¾è¡¨.html.b9bd0d6f.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£.html.f422ac13.js"><link rel="prefetch" href="/cs-way/assets/index.html.a92ef41f.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-10~19.html.51f8c9c4.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-20~29.html.f6d3292e.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-30~39.html.d93aa7cd.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-3~9.html.543cacba.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-40~49.html.7f8dfd63.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-50~59.html.3976e9d1.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-60~68.html.ae46cf87.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-ç›®å½•.html.2ed35101.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡offeré¢˜è§£.html.6c86aad2.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-å…¶å®ƒ.html.465f6b77.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-å¹¶æŸ¥é›†.html.3d3f5d9d.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-æ’åº.html.a81344ca.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-æ ˆå’Œé˜Ÿåˆ—.html.8bf786e2.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-ç›®å½•.html.fc28a6b7.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-ç¬¦å·è¡¨.html.7c772d84.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-ç®—æ³•åˆ†æ.html.abd49a6c.js"><link rel="prefetch" href="/cs-way/assets/index.html.a3ff312a.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼.html.1367e228.js"><link rel="prefetch" href="/cs-way/assets/å¾®æœåŠ¡.html.6b8a0d3b.js"><link rel="prefetch" href="/cs-way/assets/æ”»å‡»æŠ€æœ¯.html.de39e71d.js"><link rel="prefetch" href="/cs-way/assets/æ¶ˆæ¯é˜Ÿåˆ—.html.0cafff6f.js"><link rel="prefetch" href="/cs-way/assets/ç³»ç»Ÿè®¾è®¡åŸºç¡€.html.5213e40e.js"><link rel="prefetch" href="/cs-way/assets/ç¼“å­˜.html.b85ded02.js"><link rel="prefetch" href="/cs-way/assets/é›†ç¾¤.html.263dca74.js"><link rel="prefetch" href="/cs-way/assets/HTTP.html.200a36cf.js"><link rel="prefetch" href="/cs-way/assets/Netty.html.c41775fa.js"><link rel="prefetch" href="/cs-way/assets/index.html.3b112f6d.js"><link rel="prefetch" href="/cs-way/assets/Socket.html.5af740fc.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-ä¼ è¾“å±‚.html.645671ab.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-åº”ç”¨å±‚.html.49ad8f65.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-æ¦‚è¿°.html.b9aa4072.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-ç‰©ç†å±‚.html.72651189.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-ç›®å½•.html.009b9f13.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚.html.93c77949.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-é“¾è·¯å±‚.html.4453b416.js"><link rel="prefetch" href="/cs-way/assets/404.html.ffe43c9f.js"><link rel="prefetch" href="/cs-way/assets/index.html.a6c1a711.js"><link rel="prefetch" href="/cs-way/assets/index.html.27fc6baf.js"><link rel="prefetch" href="/cs-way/assets/index.html.6ed75a62.js"><link rel="prefetch" href="/cs-way/assets/index.html.6935d32d.js"><link rel="prefetch" href="/cs-way/assets/index.html.0ea6ff56.js"><link rel="prefetch" href="/cs-way/assets/index.html.8cd133c2.js"><link rel="prefetch" href="/cs-way/assets/index.html.e46980d9.js"><link rel="prefetch" href="/cs-way/assets/index.html.895c1ae8.js"><link rel="prefetch" href="/cs-way/assets/index.html.ed246a1a.js"><link rel="prefetch" href="/cs-way/assets/index.html.0b093ea5.js"><link rel="prefetch" href="/cs-way/assets/index.html.64abd695.js"><link rel="prefetch" href="/cs-way/assets/index.html.b699cda5.js"><link rel="prefetch" href="/cs-way/assets/index.html.0319d1c3.js"><link rel="prefetch" href="/cs-way/assets/home.html.4142b6cc.js"><link rel="prefetch" href="/cs-way/assets/slide.html.9640240c.js"><link rel="prefetch" href="/cs-way/assets/index.html.9251eb48.js"><link rel="prefetch" href="/cs-way/assets/JavaEE.html.9fc83fd9.js"><link rel="prefetch" href="/cs-way/assets/JavaIO.html.fc4d48de.js"><link rel="prefetch" href="/cs-way/assets/JavaåŸºç¡€.html.a425c219.js"><link rel="prefetch" href="/cs-way/assets/Javaå®¹å™¨.html.d467c0f1.js"><link rel="prefetch" href="/cs-way/assets/Javaå¹¶å‘åŸºç¡€.html.8c1c3cba.js"><link rel="prefetch" href="/cs-way/assets/Javaå¹¶å‘è¿›é˜¶.html.3a23bb9c.js"><link rel="prefetch" href="/cs-way/assets/Javaç‰¹æ€§.html.d9a0cfe6.js"><link rel="prefetch" href="/cs-way/assets/Javaè™šæ‹Ÿæœº-JVMè°ƒä¼˜.html.f931629c.js"><link rel="prefetch" href="/cs-way/assets/Javaè™šæ‹Ÿæœº-æ‰§è¡Œç³»ç»Ÿ.html.80fa91f8.js"><link rel="prefetch" href="/cs-way/assets/Javaé«˜çº§.html.af96693c.js"><link rel="prefetch" href="/cs-way/assets/index.html.b461b1fa.js"><link rel="prefetch" href="/cs-way/assets/index.html.b4348210.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ä¸­ä»‹è€….html.c6643104.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-äº«å…ƒ.html.bc3a7899.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ä»£ç†.html.8347cf68.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å•ä¾‹.html.97850c2a.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-åŸå‹æ¨¡å¼.html.6ce76659.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å‘½ä»¤.html.09f37b24.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å¤‡å¿˜å½•.html.86e0f77b.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å¤–è§‚.html.475d9b38.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼.html.10e71abe.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-å»ºé€ è€…æ¨¡å¼.html.f5e35426.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-æ¡¥æ¥.html.02ed150c.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-æ¨¡æ¿æ–¹æ³•.html.0c1027f4.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-çŠ¶æ€.html.52ebe0d1.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ç›®å½•.html.ebc3dd4a.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ç©ºå¯¹è±¡.html.30a8e364.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ç­–ç•¥.html.ecd0498e.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-ç»„åˆ.html.0d47725b.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è£…é¥°.html.f7f011d2.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€….html.13483dd0.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è§£é‡Šå™¨.html.6fd2b3e9.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è®¿é—®è€….html.24e4d866.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è´£ä»»é“¾.html.7b841710.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-è¿­ä»£å™¨.html.0cd7c749.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼-é€‚é…å™¨.html.0cb140f7.js"><link rel="prefetch" href="/cs-way/assets/è®¾è®¡æ¨¡å¼.html.0ef585d3.js"><link rel="prefetch" href="/cs-way/assets/é¢å‘å¯¹è±¡æ€æƒ³.html.2aa3c664.js"><link rel="prefetch" href="/cs-way/assets/index.html.44b06bb3.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼ä¸­é—´ä»¶.html.2d9a8049.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼äº‹åŠ¡.html.247165c7.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼æœç´¢.html.526d5aae.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼æ•°æ®åº“.html.e1c6bf6a.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼æœåŠ¡.html.355f3ae3.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼æ¶ˆæ¯.html.81ec7b2d.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼ç¼“å­˜.html.89d6eea4.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼è®¡ç®—.html.ae857f4d.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼è°ƒåº¦.html.50b63a8c.js"><link rel="prefetch" href="/cs-way/assets/é…ç½®ä¸­å¿ƒ.html.981f3b8a.js"><link rel="prefetch" href="/cs-way/assets/JS-è¿›é˜¶.html.48d76c12.js"><link rel="prefetch" href="/cs-way/assets/JavaScript.html.f407821d.js"><link rel="prefetch" href="/cs-way/assets/index.html.575d3779.js"><link rel="prefetch" href="/cs-way/assets/å‰ç«¯åŸºç¡€.html.b24a4af3.js"><link rel="prefetch" href="/cs-way/assets/Docker.html.e9879f2b.js"><link rel="prefetch" href="/cs-way/assets/Git.html.df4a94be.js"><link rel="prefetch" href="/cs-way/assets/IDEA.html.e04290f1.js"><link rel="prefetch" href="/cs-way/assets/index.html.351fdc2f.js"><link rel="prefetch" href="/cs-way/assets/VSCode.html.128dd00f.js"><link rel="prefetch" href="/cs-way/assets/æ„å»ºå·¥å…·.html.45032986.js"><link rel="prefetch" href="/cs-way/assets/æ­£åˆ™è¡¨è¾¾å¼.html.ecdd5154.js"><link rel="prefetch" href="/cs-way/assets/index.html.a0bb368c.js"><link rel="prefetch" href="/cs-way/assets/ä»£ç å¯è¯»æ€§.html.482d3ff5.js"><link rel="prefetch" href="/cs-way/assets/ä»£ç é£æ ¼è§„èŒƒ.html.00fe6f07.js"><link rel="prefetch" href="/cs-way/assets/Linux.html.dd0a80b2.js"><link rel="prefetch" href="/cs-way/assets/index.html.26779b51.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-å†…å­˜ç®¡ç†.html.edfe4e37.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-æ¦‚è¿°.html.12ad8a77.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-æ­»é”.html.330f9806.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-ç›®å½•.html.885b266b.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-è®¾å¤‡ç®¡ç†.html.8b09f397.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-è¿›ç¨‹ç®¡ç†.html.89abc9c9.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-é“¾æ¥.html.d7d060da.js"><link rel="prefetch" href="/cs-way/assets/Leetcode-Databaseé¢˜è§£.html.3312985f.js"><link rel="prefetch" href="/cs-way/assets/MySQL.html.1a996d8c.js"><link rel="prefetch" href="/cs-way/assets/index.html.591f2ac6.js"><link rel="prefetch" href="/cs-way/assets/Redis.html.3bfaa221.js"><link rel="prefetch" href="/cs-way/assets/SQL.html.666ca38c.js"><link rel="prefetch" href="/cs-way/assets/æ•°æ®åº“ç³»ç»ŸåŸç†.html.fffa0da8.js"><link rel="prefetch" href="/cs-way/assets/Dubbo.html.bb7ad564.js"><link rel="prefetch" href="/cs-way/assets/Kafka.html.cf920637.js"><link rel="prefetch" href="/cs-way/assets/PandoraBoot.html.44d042a4.js"><link rel="prefetch" href="/cs-way/assets/index.html.15c8fbfe.js"><link rel="prefetch" href="/cs-way/assets/RabbitMQ.html.618dc22b.js"><link rel="prefetch" href="/cs-way/assets/Spring-MVC.html.8e312e27.js"><link rel="prefetch" href="/cs-way/assets/Spring.html.4d694307.js"><link rel="prefetch" href="/cs-way/assets/SpringBoot.html.d9ed577f.js"><link rel="prefetch" href="/cs-way/assets/Zookeeper.html.85b94e90.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-äºŒåˆ†æŸ¥æ‰¾.html.1d169034.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-ä½è¿ç®—.html.11685b83.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-åˆ†æ²».html.b86ab840.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-åŠ¨æ€è§„åˆ’.html.df89fc3c.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-åŒæŒ‡é’ˆ.html.7ab8a736.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-å“ˆå¸Œè¡¨.html.b49b926a.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-å›¾.html.1ee816d0.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-å­—ç¬¦ä¸².html.4191249c.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æ’åº.html.fa75ff76.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æœç´¢.html.cc2d6dde.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æ•°å­¦.html.e9662f67.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æ•°ç»„ä¸çŸ©é˜µ.html.0a9f8e03.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æ ˆå’Œé˜Ÿåˆ—.html.9036be11.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-æ ‘.html.eaf85c7f.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-ç›®å½•.html.6f827702.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-è´ªå¿ƒæ€æƒ³.html.ce5d73eb.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£-é“¾è¡¨.html.ac0c106e.js"><link rel="prefetch" href="/cs-way/assets/Leetcodeé¢˜è§£.html.fae14de0.js"><link rel="prefetch" href="/cs-way/assets/index.html.bc6f0fb7.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-10~19.html.db18e06a.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-20~29.html.02ff6a24.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-30~39.html.2bb5255f.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-3~9.html.8bd027f8.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-40~49.html.0208cef9.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-50~59.html.f06c814a.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-60~68.html.f4d8881d.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡Offeré¢˜è§£-ç›®å½•.html.b53883fc.js"><link rel="prefetch" href="/cs-way/assets/å‰‘æŒ‡offeré¢˜è§£.html.1f04e09c.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-å…¶å®ƒ.html.3b8a85e1.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-å¹¶æŸ¥é›†.html.673400b8.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-æ’åº.html.154cac81.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-æ ˆå’Œé˜Ÿåˆ—.html.47117cf7.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-ç›®å½•.html.8b022a7b.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-ç¬¦å·è¡¨.html.e149f3f2.js"><link rel="prefetch" href="/cs-way/assets/ç®—æ³•-ç®—æ³•åˆ†æ.html.8dea9523.js"><link rel="prefetch" href="/cs-way/assets/index.html.27106679.js"><link rel="prefetch" href="/cs-way/assets/åˆ†å¸ƒå¼.html.c9331b8e.js"><link rel="prefetch" href="/cs-way/assets/å¾®æœåŠ¡.html.54a13558.js"><link rel="prefetch" href="/cs-way/assets/æ”»å‡»æŠ€æœ¯.html.4e83165f.js"><link rel="prefetch" href="/cs-way/assets/æ¶ˆæ¯é˜Ÿåˆ—.html.1cb4c0cc.js"><link rel="prefetch" href="/cs-way/assets/ç³»ç»Ÿè®¾è®¡åŸºç¡€.html.24efc180.js"><link rel="prefetch" href="/cs-way/assets/ç¼“å­˜.html.a3b6acb3.js"><link rel="prefetch" href="/cs-way/assets/é›†ç¾¤.html.54519b98.js"><link rel="prefetch" href="/cs-way/assets/HTTP.html.2e28783e.js"><link rel="prefetch" href="/cs-way/assets/Netty.html.b2a5c95a.js"><link rel="prefetch" href="/cs-way/assets/index.html.fb7ad9db.js"><link rel="prefetch" href="/cs-way/assets/Socket.html.f5349079.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-ä¼ è¾“å±‚.html.58e85c0d.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-åº”ç”¨å±‚.html.21eea6f4.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-æ¦‚è¿°.html.2c56fb4b.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-ç‰©ç†å±‚.html.ac6333db.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-ç›®å½•.html.ac9ea7d5.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚.html.ab88a2d8.js"><link rel="prefetch" href="/cs-way/assets/è®¡ç®—æœºç½‘ç»œ-é“¾è·¯å±‚.html.0193e332.js"><link rel="prefetch" href="/cs-way/assets/404.html.0c8252b8.js"><link rel="prefetch" href="/cs-way/assets/index.html.d5cc08ad.js"><link rel="prefetch" href="/cs-way/assets/index.html.1331f6ca.js"><link rel="prefetch" href="/cs-way/assets/index.html.da6c3a69.js"><link rel="prefetch" href="/cs-way/assets/index.html.1174fbbd.js"><link rel="prefetch" href="/cs-way/assets/index.html.c73d2264.js"><link rel="prefetch" href="/cs-way/assets/index.html.1e315145.js"><link rel="prefetch" href="/cs-way/assets/index.html.514b72a3.js"><link rel="prefetch" href="/cs-way/assets/index.html.1024e797.js"><link rel="prefetch" href="/cs-way/assets/index.html.33ef0ef0.js"><link rel="prefetch" href="/cs-way/assets/index.html.7c07e9c6.js"><link rel="prefetch" href="/cs-way/assets/index.html.6f722863.js"><link rel="prefetch" href="/cs-way/assets/index.html.5a1edb43.js"><link rel="prefetch" href="/cs-way/assets/404.a5288550.js"><link rel="prefetch" href="/cs-way/assets/Layout.27cd3fc2.js"><link rel="prefetch" href="/cs-way/assets/Slide.59f1c575.js"><link rel="prefetch" href="/cs-way/assets/Blog.f5deeaed.js"><link rel="prefetch" href="/cs-way/assets/giscus.es.d2953791.js"><link rel="prefetch" href="/cs-way/assets/auto.esm.15d52109.js"><link rel="prefetch" href="/cs-way/assets/index.1842ee54.js"><link rel="prefetch" href="/cs-way/assets/mermaid.esm.min.95aabeb7.js"><link rel="prefetch" href="/cs-way/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/cs-way/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/cs-way/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/cs-way/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/cs-way/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/cs-way/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/cs-way/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/cs-way/assets/photoswipe.esm.92018b73.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/cs-way/" class="home-link"><img class="logo" src="/cs-way/logo.svg" alt="CS Way"><!----><span class="site-name hide-in-pad">CS Way</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/cs-way/" class="nav-link" aria-label="ä¸»é¡µ"><i class="icon iconfont icon-home"></i>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è®¡ç®—æœºåŸºç¡€"><span class="title"><i class="icon iconfont icon-creative"></i>è®¡ç®—æœºåŸºç¡€</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cs-way/notes/%E6%95%B0%E6%8D%AE%E5%BA%93" class="nav-link" aria-label="æ•°æ®åº“"><!---->æ•°æ®åº“<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" class="nav-link" aria-label="æ“ä½œç³»ç»Ÿ"><!---->æ“ä½œç³»ç»Ÿ<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E7%BD%91%E7%BB%9C" class="nav-link" aria-label="ç½‘ç»œ"><!---->ç½‘ç»œ<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è½¯ä»¶å·¥ç¨‹"><span class="title"><i class="icon iconfont icon-creative"></i>è½¯ä»¶å·¥ç¨‹</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cs-way/notes/%E7%AE%97%E6%B3%95" class="nav-link" aria-label="ç®—æ³•"><!---->ç®—æ³•<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1" class="nav-link" aria-label="ç³»ç»Ÿè®¾è®¡"><!---->ç³»ç»Ÿè®¾è®¡<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/OOP" class="nav-link" aria-label="OOP"><!---->OOP<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E5%B7%A5%E7%A8%8B%E8%B4%A8%E9%87%8F" class="nav-link" aria-label="å·¥ç¨‹è´¨é‡"><!---->å·¥ç¨‹è´¨é‡<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ç ”å‘"><span class="title"><!---->ç ”å‘</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cs-way/notes/Java" class="nav-link active" aria-label="java"><!---->java<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E6%A1%86%E6%9E%B6" class="nav-link" aria-label="æ¡†æ¶"><!---->æ¡†æ¶<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6" class="nav-link" aria-label="ä¸­é—´ä»¶"><!---->ä¸­é—´ä»¶<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E5%89%8D%E7%AB%AF" class="nav-link" aria-label="å‰ç«¯"><!---->å‰ç«¯<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/cs-way/notes/%E5%B7%A5%E5%85%B7/" class="nav-link" aria-label="å·¥å…·è½¯ä»¶"><i class="icon iconfont icon-creative"></i>å·¥å…·è½¯ä»¶<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://vuepress-theme-hope.github.io/v2/zh/" rel="noopener noreferrer" target="_blank" aria-label="ä¸»é¢˜æ–‡æ¡£" class="nav-link"><i class="icon iconfont icon-note"></i>ä¸»é¢˜æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/kabitonn/cs-note" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><!----><span class="title">Java</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/cs-way/notes/Java/Java%E5%B9%B6%E5%8F%91%E5%9F%BA%E7%A1%80.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸€ã€çº¿ç¨‹"><!---->ä¸€ã€çº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E5%B9%B6%E5%8F%91%E8%BF%9B%E9%98%B6.html" class="nav-link sidebar-link sidebar-page" aria-label="å…«ã€ä»»åŠ¡å–æ¶ˆä¸å…³é—­"><!---->å…«ã€ä»»åŠ¡å–æ¶ˆä¸å…³é—­<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E5%9F%BA%E7%A1%80.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸€ã€æ•°æ®ç±»å‹"><!---->ä¸€ã€æ•°æ®ç±»å‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E5%AE%B9%E5%99%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸€ã€æ¦‚è§ˆ"><!---->ä¸€ã€æ¦‚è§ˆ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E7%89%B9%E6%80%A7.html" class="nav-link sidebar-link sidebar-page" aria-label="Java 8 ç‰¹æ€§"><!---->Java 8 ç‰¹æ€§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="ä¸€ã€è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ"><!---->ä¸€ã€è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#ç¨‹åºè®¡æ•°å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç¨‹åºè®¡æ•°å™¨"><!---->ç¨‹åºè®¡æ•°å™¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#java-è™šæ‹Ÿæœºæ ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Java è™šæ‹Ÿæœºæ ˆ"><!---->Java è™šæ‹Ÿæœºæ ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#æœ¬åœ°æ–¹æ³•æ ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æœ¬åœ°æ–¹æ³•æ ˆ"><!---->æœ¬åœ°æ–¹æ³•æ ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å †" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å †"><!---->å †<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#æ–¹æ³•åŒº" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ–¹æ³•åŒº"><!---->æ–¹æ³•åŒº<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#è¿è¡Œæ—¶å¸¸é‡æ± " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¿è¡Œæ—¶å¸¸é‡æ± "><!---->è¿è¡Œæ—¶å¸¸é‡æ± <!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å…¨å±€å­—ç¬¦ä¸²æ± -string-poolä¹Ÿæœ‰å«åšstring-literal-pool" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…¨å±€å­—ç¬¦ä¸²æ± (string poolä¹Ÿæœ‰å«åšstring literal pool)"><!---->å…¨å±€å­—ç¬¦ä¸²æ± (string poolä¹Ÿæœ‰å«åšstring literal pool)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#classæ–‡ä»¶å¸¸é‡æ± -class-constant-pool" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="classæ–‡ä»¶å¸¸é‡æ± (class constant pool)"><!---->classæ–‡ä»¶å¸¸é‡æ± (class constant pool)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å¯¹æ¯”" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¯¹æ¯”"><!---->å¯¹æ¯”<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å¸¸é‡æ± è¡¥å……å†…å®¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¸¸é‡æ± è¡¥å……å†…å®¹"><!---->å¸¸é‡æ± è¡¥å……å†…å®¹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_1-string-ç±»å’Œå¸¸é‡æ± " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. String ç±»å’Œå¸¸é‡æ± "><!---->1. String ç±»å’Œå¸¸é‡æ± <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_2-8ç§åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»å’Œå¸¸é‡æ± " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. 8ç§åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»å’Œå¸¸é‡æ± "><!---->2. 8ç§åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»å’Œå¸¸é‡æ± <!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#ç›´æ¥å†…å­˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç›´æ¥å†…å­˜"><!---->ç›´æ¥å†…å­˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E6%89%A7%E8%A1%8C%E7%B3%BB%E7%BB%9F.html" class="nav-link sidebar-link sidebar-page" aria-label="äº”ã€ç±»æ–‡ä»¶ç»“æ„"><!---->äº”ã€ç±»æ–‡ä»¶ç»“æ„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-JVM%E8%B0%83%E4%BC%98.html" class="nav-link sidebar-link sidebar-page" aria-label="JDKç›‘æ§"><!---->JDKç›‘æ§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/JavaEE.html" class="nav-link sidebar-link sidebar-page" aria-label="Servlet ä»‹ç»"><!---->Servlet ä»‹ç»<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/JavaIO.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸€ã€æ¦‚è§ˆ"><!---->ä¸€ã€æ¦‚è§ˆ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->ä¸€ã€è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">Vika</a></span><span property="author" content="Vika"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´5æœˆ16æ—¥</span><meta property="datePublished" content="2022-05-16T12:07:59.000Z"></span><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 53 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT53M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#ä¸€ã€è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ" class="router-link-active router-link-exact-active toc-link level1">ä¸€ã€è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#ç¨‹åºè®¡æ•°å™¨" class="router-link-active router-link-exact-active toc-link level2">ç¨‹åºè®¡æ•°å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#java-è™šæ‹Ÿæœºæ ˆ" class="router-link-active router-link-exact-active toc-link level2">Java è™šæ‹Ÿæœºæ ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#æœ¬åœ°æ–¹æ³•æ ˆ" class="router-link-active router-link-exact-active toc-link level2">æœ¬åœ°æ–¹æ³•æ ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å †" class="router-link-active router-link-exact-active toc-link level2">å †</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#æ–¹æ³•åŒº" class="router-link-active router-link-exact-active toc-link level2">æ–¹æ³•åŒº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#è¿è¡Œæ—¶å¸¸é‡æ± " class="router-link-active router-link-exact-active toc-link level2">è¿è¡Œæ—¶å¸¸é‡æ± </a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å…¨å±€å­—ç¬¦ä¸²æ± -string-poolä¹Ÿæœ‰å«åšstring-literal-pool" class="router-link-active router-link-exact-active toc-link level3">å…¨å±€å­—ç¬¦ä¸²æ± (string poolä¹Ÿæœ‰å«åšstring literal pool)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#classæ–‡ä»¶å¸¸é‡æ± -class-constant-pool" class="router-link-active router-link-exact-active toc-link level3">classæ–‡ä»¶å¸¸é‡æ± (class constant pool)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å¯¹æ¯”" class="router-link-active router-link-exact-active toc-link level3">å¯¹æ¯”</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å¸¸é‡æ± è¡¥å……å†…å®¹" class="router-link-active router-link-exact-active toc-link level3">å¸¸é‡æ± è¡¥å……å†…å®¹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_1-string-ç±»å’Œå¸¸é‡æ± " class="router-link-active router-link-exact-active toc-link level4">1. String ç±»å’Œå¸¸é‡æ± </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_2-8ç§åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»å’Œå¸¸é‡æ± " class="router-link-active router-link-exact-active toc-link level4">2. 8ç§åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»å’Œå¸¸é‡æ± </a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#ç›´æ¥å†…å­˜" class="router-link-active router-link-exact-active toc-link level2">ç›´æ¥å†…å­˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#äºŒã€å¯¹è±¡æ¢ç§˜" class="router-link-active router-link-exact-active toc-link level1">äºŒã€å¯¹è±¡æ¢ç§˜</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å¯¹è±¡çš„åˆ›å»º" class="router-link-active router-link-exact-active toc-link level2">å¯¹è±¡çš„åˆ›å»º</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#step1-ç±»åŠ è½½æ£€æŸ¥" class="router-link-active router-link-exact-active toc-link level4">Step1:ç±»åŠ è½½æ£€æŸ¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#step2-åˆ†é…å†…å­˜" class="router-link-active router-link-exact-active toc-link level4">Step2:åˆ†é…å†…å­˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#step3-åˆå§‹åŒ–é›¶å€¼" class="router-link-active router-link-exact-active toc-link level4">Step3:åˆå§‹åŒ–é›¶å€¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#step4-è®¾ç½®å¯¹è±¡å¤´" class="router-link-active router-link-exact-active toc-link level4">Step4:è®¾ç½®å¯¹è±¡å¤´</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#step5-æ‰§è¡Œ-init-æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level4">Step5:æ‰§è¡Œ init æ–¹æ³•</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å¯¹è±¡çš„å†…å­˜å¸ƒå±€" class="router-link-active router-link-exact-active toc-link level2">å¯¹è±¡çš„å†…å­˜å¸ƒå±€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å¯¹è±¡çš„è®¿é—®å®šä½" class="router-link-active router-link-exact-active toc-link level2">å¯¹è±¡çš„è®¿é—®å®šä½</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#ä¸‰ã€åƒåœ¾æ”¶é›†" class="router-link-active router-link-exact-active toc-link level1">ä¸‰ã€åƒåœ¾æ”¶é›†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶" class="router-link-active router-link-exact-active toc-link level2">åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_1-å¼•ç”¨è®¡æ•°ç®—æ³•" class="router-link-active router-link-exact-active toc-link level3">1. å¼•ç”¨è®¡æ•°ç®—æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_2-å¯è¾¾æ€§åˆ†æç®—æ³•" class="router-link-active router-link-exact-active toc-link level3">2. å¯è¾¾æ€§åˆ†æç®—æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_3-ä¸å¯è¾¾çš„å¯¹è±¡å¹¶é-éæ­»ä¸å¯" class="router-link-active router-link-exact-active toc-link level3">3. ä¸å¯è¾¾çš„å¯¹è±¡å¹¶éâ€œéæ­»ä¸å¯â€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_4-finalize" class="router-link-active router-link-exact-active toc-link level3">4. finalize()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_5-æ–¹æ³•åŒºçš„å›æ”¶" class="router-link-active router-link-exact-active toc-link level3">5. æ–¹æ³•åŒºçš„å›æ”¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å¸¸é‡çš„å›æ”¶" class="router-link-active router-link-exact-active toc-link level4">å¸¸é‡çš„å›æ”¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#æ— ç”¨ç±»çš„å›æ”¶" class="router-link-active router-link-exact-active toc-link level4">æ— ç”¨ç±»çš„å›æ”¶</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å¼•ç”¨ç±»å‹" class="router-link-active router-link-exact-active toc-link level2">å¼•ç”¨ç±»å‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_1-å¼ºå¼•ç”¨" class="router-link-active router-link-exact-active toc-link level3">1. å¼ºå¼•ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_2-è½¯å¼•ç”¨" class="router-link-active router-link-exact-active toc-link level3">2. è½¯å¼•ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_3-å¼±å¼•ç”¨" class="router-link-active router-link-exact-active toc-link level3">3. å¼±å¼•ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_4-è™šå¼•ç”¨" class="router-link-active router-link-exact-active toc-link level3">4. è™šå¼•ç”¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#åƒåœ¾æ”¶é›†ç®—æ³•" class="router-link-active router-link-exact-active toc-link level2">åƒåœ¾æ”¶é›†ç®—æ³•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_1-æ ‡è®°-æ¸…é™¤" class="router-link-active router-link-exact-active toc-link level3">1. æ ‡è®° - æ¸…é™¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_2-æ ‡è®°-æ•´ç†" class="router-link-active router-link-exact-active toc-link level3">2. æ ‡è®° - æ•´ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_3-å¤åˆ¶" class="router-link-active router-link-exact-active toc-link level3">3. å¤åˆ¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_4-åˆ†ä»£æ”¶é›†" class="router-link-active router-link-exact-active toc-link level3">4. åˆ†ä»£æ”¶é›†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#åƒåœ¾æ”¶é›†å™¨" class="router-link-active router-link-exact-active toc-link level2">åƒåœ¾æ”¶é›†å™¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_1-serial-æ”¶é›†å™¨" class="router-link-active router-link-exact-active toc-link level3">1. Serial æ”¶é›†å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_2-parnew-æ”¶é›†å™¨" class="router-link-active router-link-exact-active toc-link level3">2. ParNew æ”¶é›†å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_3-parallel-scavenge-æ”¶é›†å™¨" class="router-link-active router-link-exact-active toc-link level3">3. Parallel Scavenge æ”¶é›†å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_4-serial-old-æ”¶é›†å™¨" class="router-link-active router-link-exact-active toc-link level3">4. Serial Old æ”¶é›†å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_5-parallel-old-æ”¶é›†å™¨" class="router-link-active router-link-exact-active toc-link level3">5. Parallel Old æ”¶é›†å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_6-cms-æ”¶é›†å™¨" class="router-link-active router-link-exact-active toc-link level3">6. CMS æ”¶é›†å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_7-g1-æ”¶é›†å™¨" class="router-link-active router-link-exact-active toc-link level3">7. G1 æ”¶é›†å™¨</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å››ã€å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥" class="router-link-active router-link-exact-active toc-link level1">å››ã€å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å†…å­˜åˆ†é…ç­–ç•¥" class="router-link-active router-link-exact-active toc-link level2">å†…å­˜åˆ†é…ç­–ç•¥</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_1-å¯¹è±¡ä¼˜å…ˆåœ¨-eden-åˆ†é…" class="router-link-active router-link-exact-active toc-link level3">1. å¯¹è±¡ä¼˜å…ˆåœ¨ Eden åˆ†é…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_2-å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£" class="router-link-active router-link-exact-active toc-link level3">2. å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_3-é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£" class="router-link-active router-link-exact-active toc-link level3">3. é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_4-åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š" class="router-link-active router-link-exact-active toc-link level3">4. åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_5-ç©ºé—´åˆ†é…æ‹…ä¿" class="router-link-active router-link-exact-active toc-link level3">5. ç©ºé—´åˆ†é…æ‹…ä¿</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#minor-gc-å’Œ-full-gc" class="router-link-active router-link-exact-active toc-link level2">Minor GC å’Œ Full GC</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#full-gc-çš„è§¦å‘æ¡ä»¶" class="router-link-active router-link-exact-active toc-link level2">Full GC çš„è§¦å‘æ¡ä»¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_1-è°ƒç”¨-system-gc" class="router-link-active router-link-exact-active toc-link level3">1. è°ƒç”¨ System.gc()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_2-è€å¹´ä»£ç©ºé—´ä¸è¶³" class="router-link-active router-link-exact-active toc-link level3">2. è€å¹´ä»£ç©ºé—´ä¸è¶³</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_3-ç©ºé—´åˆ†é…æ‹…ä¿å¤±è´¥" class="router-link-active router-link-exact-active toc-link level3">3. ç©ºé—´åˆ†é…æ‹…ä¿å¤±è´¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_4-jdk-1-7-åŠä»¥å‰çš„æ°¸ä¹…ä»£ç©ºé—´ä¸è¶³" class="router-link-active router-link-exact-active toc-link level3">4. JDK 1.7 åŠä»¥å‰çš„æ°¸ä¹…ä»£ç©ºé—´ä¸è¶³</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#_5-concurrent-mode-failure" class="router-link-active router-link-exact-active toc-link level3">5. Concurrent Mode Failure</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html#å‚è€ƒèµ„æ–™" class="router-link-active router-link-exact-active toc-link level1">å‚è€ƒèµ„æ–™</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><ul><li><a href="#%E4%B8%80%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA%E5%9F%9F">ä¸€ã€è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ</a><ul><li><a href="#%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8">ç¨‹åºè®¡æ•°å™¨</a></li><li><a href="#Java-%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88">Java è™šæ‹Ÿæœºæ ˆ</a></li><li><a href="#%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%A0%88">æœ¬åœ°æ–¹æ³•æ ˆ</a></li><li><a href="#%E5%A0%86">å †</a></li><li><a href="#%E6%96%B9%E6%B3%95%E5%8C%BA">æ–¹æ³•åŒº</a></li><li><a href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E5%B8%B8%E9%87%8F%E6%B1%A0">è¿è¡Œæ—¶å¸¸é‡æ± </a><ul><li><a href="#%E5%85%A8%E5%B1%80%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B1%A0string-pool%E4%B9%9F%E6%9C%89%E5%8F%AB%E5%81%9Astring-literal-pool">å…¨å±€å­—ç¬¦ä¸²æ± (string poolä¹Ÿæœ‰å«åšstring literal pool)</a></li><li><a href="#class%E6%96%87%E4%BB%B6%E5%B8%B8%E9%87%8F%E6%B1%A0class-constant-pool">classæ–‡ä»¶å¸¸é‡æ± (class constant pool)</a></li><li><a href="#%E5%AF%B9%E6%AF%94">å¯¹æ¯”</a></li><li><a href="#%E5%B8%B8%E9%87%8F%E6%B1%A0%E8%A1%A5%E5%85%85%E5%86%85%E5%AE%B9">å¸¸é‡æ± è¡¥å……å†…å®¹</a></li></ul></li><li><a href="#%E7%9B%B4%E6%8E%A5%E5%86%85%E5%AD%98">ç›´æ¥å†…å­˜</a></li></ul></li><li><a href="#%E4%BA%8C%E5%AF%B9%E8%B1%A1%E6%8E%A2%E7%A7%98">äºŒã€å¯¹è±¡æ¢ç§˜</a><ul><li><a href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA">å¯¹è±¡çš„åˆ›å»º</a></li><li><a href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80">å¯¹è±¡çš„å†…å­˜å¸ƒå±€</a></li><li><a href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%AE%BF%E9%97%AE%E5%AE%9A%E4%BD%8D">å¯¹è±¡çš„è®¿é—®å®šä½</a></li></ul></li><li><a href="#%E4%B8%89%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86">ä¸‰ã€åƒåœ¾æ”¶é›†</a><ul><li><a href="#%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%98%AF%E5%90%A6%E5%8F%AF%E8%A2%AB%E5%9B%9E%E6%94%B6">åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶</a><ul><li><a href="#1-%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0%E7%AE%97%E6%B3%95">1. å¼•ç”¨è®¡æ•°ç®—æ³•</a></li><li><a href="#2-%E5%8F%AF%E8%BE%BE%E6%80%A7%E5%88%86%E6%9E%90%E7%AE%97%E6%B3%95">2. å¯è¾¾æ€§åˆ†æç®—æ³•</a></li><li><a href="#3-%E4%B8%8D%E5%8F%AF%E8%BE%BE%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%B9%B6%E9%9D%9E%E9%9D%9E%E6%AD%BB%E4%B8%8D%E5%8F%AF">3. ä¸å¯è¾¾çš„å¯¹è±¡å¹¶éâ€œéæ­»ä¸å¯â€</a></li><li><a href="#4-finalize">4. finalize()</a></li><li><a href="#5-%E6%96%B9%E6%B3%95%E5%8C%BA%E7%9A%84%E5%9B%9E%E6%94%B6">5. æ–¹æ³•åŒºçš„å›æ”¶</a></li></ul></li><li><a href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B">å¼•ç”¨ç±»å‹</a><ul><li><a href="#1-%E5%BC%BA%E5%BC%95%E7%94%A8">1. å¼ºå¼•ç”¨</a></li><li><a href="#2-%E8%BD%AF%E5%BC%95%E7%94%A8">2. è½¯å¼•ç”¨</a></li><li><a href="#3-%E5%BC%B1%E5%BC%95%E7%94%A8">3. å¼±å¼•ç”¨</a></li><li><a href="#4-%E8%99%9A%E5%BC%95%E7%94%A8">4. è™šå¼•ç”¨</a></li></ul></li><li><a href="#%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E7%AE%97%E6%B3%95">åƒåœ¾æ”¶é›†ç®—æ³•</a><ul><li><a href="#1-%E6%A0%87%E8%AE%B0---%E6%B8%85%E9%99%A4">1. æ ‡è®° - æ¸…é™¤</a></li><li><a href="#2-%E6%A0%87%E8%AE%B0---%E6%95%B4%E7%90%86">2. æ ‡è®° - æ•´ç†</a></li><li><a href="#3-%E5%A4%8D%E5%88%B6">3. å¤åˆ¶</a></li><li><a href="#4-%E5%88%86%E4%BB%A3%E6%94%B6%E9%9B%86">4. åˆ†ä»£æ”¶é›†</a></li></ul></li><li><a href="#%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8">åƒåœ¾æ”¶é›†å™¨</a><ul><li><a href="#1-Serial-%E6%94%B6%E9%9B%86%E5%99%A8">1. Serial æ”¶é›†å™¨</a></li><li><a href="#2-ParNew-%E6%94%B6%E9%9B%86%E5%99%A8">2. ParNew æ”¶é›†å™¨</a></li><li><a href="#3-Parallel-Scavenge-%E6%94%B6%E9%9B%86%E5%99%A8">3. Parallel Scavenge æ”¶é›†å™¨</a></li><li><a href="#4-Serial-Old-%E6%94%B6%E9%9B%86%E5%99%A8">4. Serial Old æ”¶é›†å™¨</a></li><li><a href="#5-Parallel-Old-%E6%94%B6%E9%9B%86%E5%99%A8">5. Parallel Old æ”¶é›†å™¨</a></li><li><a href="#6-CMS-%E6%94%B6%E9%9B%86%E5%99%A8">6. CMS æ”¶é›†å™¨</a></li><li><a href="#7-G1-%E6%94%B6%E9%9B%86%E5%99%A8">7. G1 æ”¶é›†å™¨</a></li></ul></li></ul></li><li><a href="#%E5%9B%9B%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E4%B8%8E%E5%9B%9E%E6%94%B6%E7%AD%96%E7%95%A5">å››ã€å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥</a><ul><li><a href="#%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5">å†…å­˜åˆ†é…ç­–ç•¥</a><ul><li><a href="#1-%E5%AF%B9%E8%B1%A1%E4%BC%98%E5%85%88%E5%9C%A8-Eden-%E5%88%86%E9%85%8D">1. å¯¹è±¡ä¼˜å…ˆåœ¨ Eden åˆ†é…</a></li><li><a href="#2-%E5%A4%A7%E5%AF%B9%E8%B1%A1%E7%9B%B4%E6%8E%A5%E8%BF%9B%E5%85%A5%E8%80%81%E5%B9%B4%E4%BB%A3">2. å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£</a></li><li><a href="#3-%E9%95%BF%E6%9C%9F%E5%AD%98%E6%B4%BB%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%BF%9B%E5%85%A5%E8%80%81%E5%B9%B4%E4%BB%A3">3. é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£</a></li><li><a href="#4-%E5%8A%A8%E6%80%81%E5%AF%B9%E8%B1%A1%E5%B9%B4%E9%BE%84%E5%88%A4%E5%AE%9A">4. åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š</a></li><li><a href="#5-%E7%A9%BA%E9%97%B4%E5%88%86%E9%85%8D%E6%8B%85%E4%BF%9D">5. ç©ºé—´åˆ†é…æ‹…ä¿</a></li></ul></li><li><a href="#Minor-GC-%E5%92%8C-Full-GC">Minor GC å’Œ Full GC</a></li><li><a href="#Full-GC-%E7%9A%84%E8%A7%A6%E5%8F%91%E6%9D%A1%E4%BB%B6">Full GC çš„è§¦å‘æ¡ä»¶</a><ul><li><a href="#1-%E8%B0%83%E7%94%A8-Systemgc">1. è°ƒç”¨ System.gc()</a></li><li><a href="#2-%E8%80%81%E5%B9%B4%E4%BB%A3%E7%A9%BA%E9%97%B4%E4%B8%8D%E8%B6%B3">2. è€å¹´ä»£ç©ºé—´ä¸è¶³</a></li><li><a href="#3-%E7%A9%BA%E9%97%B4%E5%88%86%E9%85%8D%E6%8B%85%E4%BF%9D%E5%A4%B1%E8%B4%A5">3. ç©ºé—´åˆ†é…æ‹…ä¿å¤±è´¥</a></li><li><a href="#4-JDK-17-%E5%8F%8A%E4%BB%A5%E5%89%8D%E7%9A%84%E6%B0%B8%E4%B9%85%E4%BB%A3%E7%A9%BA%E9%97%B4%E4%B8%8D%E8%B6%B3">4. JDK 1.7 åŠä»¥å‰çš„æ°¸ä¹…ä»£ç©ºé—´ä¸è¶³</a></li><li><a href="#5-Concurrent-Mode-Failure">5. Concurrent Mode Failure</a></li></ul></li></ul></li><li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a></li></ul><p>æœ¬æ–‡å¤§éƒ¨åˆ†å†…å®¹å‚è€ƒ <strong>å‘¨å¿—æ˜ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹</strong> ï¼Œæƒ³è¦æ·±å…¥å­¦ä¹ çš„è¯è¯·çœ‹åŸä¹¦ã€‚</p><h1 id="ä¸€ã€è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ" aria-hidden="true">#</a> ä¸€ã€è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ</h1><p><strong>JDK 1.8 ä¹‹å‰ï¼š</strong></p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/5778d113-8e13-4c53-b5bf-801e58080b97.png" width="400px"></div><br><p><strong>JDK 1.8 ï¼š</strong></p><div align="center"><p><img src="/cs-way/assets/2019-3Javaè¿è¡Œæ—¶æ•°æ®åŒºåŸŸJDK1.8.f23fb4f9.png" alt="" title=":size=550" loading="lazy"></p></div><p><strong>çº¿ç¨‹ç§æœ‰çš„ï¼š</strong></p><ul><li>ç¨‹åºè®¡æ•°å™¨</li><li>è™šæ‹Ÿæœºæ ˆ</li><li>æœ¬åœ°æ–¹æ³•æ ˆ</li></ul><p><strong>çº¿ç¨‹å…±äº«çš„ï¼š</strong></p><ul><li>å †</li><li>æ–¹æ³•åŒº</li><li>ç›´æ¥å†…å­˜ (éè¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€éƒ¨åˆ†)</li></ul><h2 id="ç¨‹åºè®¡æ•°å™¨" tabindex="-1"><a class="header-anchor" href="#ç¨‹åºè®¡æ•°å™¨" aria-hidden="true">#</a> ç¨‹åºè®¡æ•°å™¨</h2><p>ç¨‹åºè®¡æ•°å™¨æ˜¯ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ã€‚<strong>å­—èŠ‚ç è§£é‡Šå™¨å·¥ä½œæ—¶é€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œåˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤ç­‰åŠŸèƒ½éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªè®¡æ•°å™¨æ¥å®Œæˆã€‚</strong></p><p>å¦å¤–ï¼Œ<strong>ä¸ºäº†çº¿ç¨‹åˆ‡æ¢åèƒ½æ¢å¤åˆ°æ­£ç¡®çš„æ‰§è¡Œä½ç½®ï¼Œæ¯æ¡çº¿ç¨‹éƒ½éœ€è¦æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ï¼Œå„çº¿ç¨‹ä¹‹é—´è®¡æ•°å™¨äº’ä¸å½±å“ï¼Œç‹¬ç«‹å­˜å‚¨ï¼Œæˆ‘ä»¬ç§°è¿™ç±»å†…å­˜åŒºåŸŸä¸ºâ€œçº¿ç¨‹ç§æœ‰â€çš„å†…å­˜ã€‚</strong></p><p><strong>ä»ä¸Šé¢çš„ä»‹ç»ä¸­æˆ‘ä»¬çŸ¥é“ç¨‹åºè®¡æ•°å™¨ä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨ï¼š</strong></p><ol><li>å­—èŠ‚ç è§£é‡Šå™¨é€šè¿‡æ”¹å˜ç¨‹åºè®¡æ•°å™¨æ¥ä¾æ¬¡è¯»å–æŒ‡ä»¤ï¼Œä»è€Œå®ç°ä»£ç çš„æµç¨‹æ§åˆ¶ï¼Œå¦‚ï¼šé¡ºåºæ‰§è¡Œã€é€‰æ‹©ã€å¾ªç¯ã€å¼‚å¸¸å¤„ç†ã€‚</li><li>åœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œç¨‹åºè®¡æ•°å™¨ç”¨äºè®°å½•å½“å‰çº¿ç¨‹æ‰§è¡Œçš„ä½ç½®ï¼Œä»è€Œå½“çº¿ç¨‹è¢«åˆ‡æ¢å›æ¥çš„æ—¶å€™èƒ½å¤ŸçŸ¥é“è¯¥çº¿ç¨‹ä¸Šæ¬¡è¿è¡Œåˆ°å“ªå„¿äº†ã€‚</li></ol><p>ç¨‹åºè®¡æ•°å™¨ç§æœ‰ä¸»è¦æ˜¯ä¸ºäº†<strong>çº¿ç¨‹åˆ‡æ¢åèƒ½æ¢å¤åˆ°æ­£ç¡®çš„æ‰§è¡Œä½ç½®</strong>ã€‚</p><p><strong>æ³¨æ„ï¼šç¨‹åºè®¡æ•°å™¨æ˜¯å”¯ä¸€ä¸€ä¸ªä¸ä¼šå‡ºç° OutOfMemoryError çš„å†…å­˜åŒºåŸŸï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸéšç€çº¿ç¨‹çš„åˆ›å»ºè€Œåˆ›å»ºï¼Œéšç€çº¿ç¨‹çš„ç»“æŸè€Œæ­»äº¡ã€‚</strong></p><p>è®°å½•æ­£åœ¨æ‰§è¡Œçš„è™šæ‹Ÿæœºå­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€(å¦‚æœæ­£åœ¨æ‰§è¡Œçš„æ˜¯æœ¬åœ°æ–¹æ³•åˆ™ä¸ºç©º)ã€‚</p><h2 id="java-è™šæ‹Ÿæœºæ ˆ" tabindex="-1"><a class="header-anchor" href="#java-è™šæ‹Ÿæœºæ ˆ" aria-hidden="true">#</a> Java è™šæ‹Ÿæœºæ ˆ</h2><p><strong>ä¸ç¨‹åºè®¡æ•°å™¨ä¸€æ ·ï¼ŒJava è™šæ‹Ÿæœºæ ˆä¹Ÿæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸå’Œçº¿ç¨‹ç›¸åŒï¼Œæè¿°çš„æ˜¯ Java æ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡å‹ï¼Œæ¯æ¬¡æ–¹æ³•è°ƒç”¨çš„æ•°æ®éƒ½æ˜¯é€šè¿‡æ ˆä¼ é€’çš„ã€‚</strong></p><p><strong>Java å†…å­˜å¯ä»¥ç²—ç³™çš„åŒºåˆ†ä¸ºå †å†…å­˜(Heap)å’Œæ ˆå†…å­˜ (Stack),å…¶ä¸­æ ˆå°±æ˜¯ç°åœ¨è¯´çš„è™šæ‹Ÿæœºæ ˆï¼Œæˆ–è€…è¯´æ˜¯è™šæ‹Ÿæœºæ ˆä¸­å±€éƒ¨å˜é‡è¡¨éƒ¨åˆ†ã€‚</strong> (å®é™…ä¸Šï¼ŒJava è™šæ‹Ÿæœºæ ˆæ˜¯ç”±ä¸€ä¸ªä¸ªæ ˆå¸§ç»„æˆï¼Œè€Œæ¯ä¸ªæ ˆå¸§ä¸­éƒ½æ‹¥æœ‰ï¼šå±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ä¿¡æ¯ã€‚)</p><p>æ¯ä¸ª Java æ–¹æ³•åœ¨æ‰§è¡Œçš„åŒæ—¶ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€å¸¸é‡æ± å¼•ç”¨ç­‰ä¿¡æ¯ã€‚ä»æ–¹æ³•è°ƒç”¨ç›´è‡³æ‰§è¡Œå®Œæˆçš„è¿‡ç¨‹ï¼Œå¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§åœ¨ Java è™šæ‹Ÿæœºæ ˆä¸­å…¥æ ˆå’Œå‡ºæ ˆçš„è¿‡ç¨‹ã€‚</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/8442519f-0b4d-48f4-8229-56f984363c69.png" width="400px"></div><br><p><strong>å±€éƒ¨å˜é‡è¡¨ä¸»è¦å­˜æ”¾äº†ç¼–è¯‘å™¨å¯çŸ¥çš„å„ç§æ•°æ®ç±»å‹</strong>(booleanã€byteã€charã€shortã€intã€floatã€longã€double)ã€<strong>å¯¹è±¡å¼•ç”¨</strong>(reference ç±»å‹ï¼Œå®ƒä¸åŒäºå¯¹è±¡æœ¬èº«ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡èµ·å§‹åœ°å€çš„å¼•ç”¨æŒ‡é’ˆï¼Œä¹Ÿå¯èƒ½æ˜¯æŒ‡å‘ä¸€ä¸ªä»£è¡¨å¯¹è±¡çš„å¥æŸ„æˆ–å…¶ä»–ä¸æ­¤å¯¹è±¡ç›¸å…³çš„ä½ç½®)ã€‚</p><p>å¯ä»¥é€šè¿‡ -Xss è¿™ä¸ªè™šæ‹Ÿæœºå‚æ•°æ¥æŒ‡å®šæ¯ä¸ªçº¿ç¨‹çš„ Java è™šæ‹Ÿæœºæ ˆå†…å­˜å¤§å°ï¼Œåœ¨ JDK 1.4 ä¸­é»˜è®¤ä¸º 256Kï¼Œè€Œåœ¨ JDK 1.5+ é»˜è®¤ä¸º 1Mï¼š</p><div class="language-java ext-java"><pre class="language-java"><code>java <span class="token operator">-</span><span class="token class-name">Xss2M</span> <span class="token class-name">HackTheJava</span>
</code></pre></div><p>è¯¥åŒºåŸŸå¯èƒ½æŠ›å‡ºä»¥ä¸‹å¼‚å¸¸ï¼š</p><ul><li><strong>StackOverFlowErrorï¼š</strong> è‹¥ Java è™šæ‹Ÿæœºæ ˆçš„å†…å­˜å¤§å°ä¸å…è®¸åŠ¨æ€æ‰©å±•ï¼Œé‚£ä¹ˆå½“çº¿ç¨‹è¯·æ±‚æ ˆçš„æ·±åº¦è¶…è¿‡å½“å‰ Java è™šæ‹Ÿæœºæ ˆçš„æœ€å¤§æ·±åº¦çš„æ—¶å€™ï¼Œå°±æŠ›å‡º StackOverFlowError å¼‚å¸¸ã€‚</li><li><strong>OutOfMemoryErrorï¼š</strong> è‹¥ Java è™šæ‹Ÿæœºæ ˆçš„å†…å­˜å¤§å°å…è®¸åŠ¨æ€æ‰©å±•ï¼Œä¸”å½“çº¿ç¨‹è¯·æ±‚æ ˆæ—¶å†…å­˜ç”¨å®Œäº†ï¼Œæ— æ³•å†åŠ¨æ€æ‰©å±•äº†ï¼Œæ­¤æ—¶æŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚</li></ul><p>Java è™šæ‹Ÿæœºæ ˆä¹Ÿæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰å„è‡ªçš„ Java è™šæ‹Ÿæœºæ ˆï¼Œè€Œä¸”éšç€çº¿ç¨‹çš„åˆ›å»ºè€Œåˆ›å»ºï¼Œéšç€çº¿ç¨‹çš„æ­»äº¡è€Œæ­»äº¡ã€‚</p><p>ä¸ºäº†<strong>ä¿è¯çº¿ç¨‹ä¸­çš„å±€éƒ¨å˜é‡ä¸è¢«åˆ«çš„çº¿ç¨‹è®¿é—®åˆ°</strong>ï¼Œè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæ˜¯çº¿ç¨‹ç§æœ‰çš„ã€‚</p><p><strong>æ‰©å±•ï¼šé‚£ä¹ˆæ–¹æ³•/å‡½æ•°å¦‚ä½•è°ƒç”¨ï¼Ÿ</strong></p><p>Java æ ˆå¯ç”¨ç±»æ¯”æ•°æ®ç»“æ„ä¸­æ ˆï¼ŒJava æ ˆä¸­ä¿å­˜çš„ä¸»è¦å†…å®¹æ˜¯æ ˆå¸§ï¼Œæ¯ä¸€æ¬¡å‡½æ•°è°ƒç”¨éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„æ ˆå¸§è¢«å‹å…¥ Java æ ˆï¼Œæ¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨ç»“æŸåï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæ ˆå¸§è¢«å¼¹å‡ºã€‚</p><p>Java æ–¹æ³•æœ‰ä¸¤ç§è¿”å›æ–¹å¼ï¼š</p><ol><li>return è¯­å¥ã€‚</li><li>æŠ›å‡ºå¼‚å¸¸ã€‚</li></ol><p>ä¸ç®¡å“ªç§è¿”å›æ–¹å¼éƒ½ä¼šå¯¼è‡´æ ˆå¸§è¢«å¼¹å‡ºã€‚</p><h2 id="æœ¬åœ°æ–¹æ³•æ ˆ" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°æ–¹æ³•æ ˆ" aria-hidden="true">#</a> æœ¬åœ°æ–¹æ³•æ ˆ</h2><p>æœ¬åœ°æ–¹æ³•æ ˆä¸ Java è™šæ‹Ÿæœºæ ˆç±»ä¼¼ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«åªä¸è¿‡æ˜¯æœ¬åœ°æ–¹æ³•æ ˆä¸ºæœ¬åœ°æ–¹æ³•æœåŠ¡ã€‚åœ¨ HotSpot è™šæ‹Ÿæœºä¸­å’Œ Java è™šæ‹Ÿæœºæ ˆåˆäºŒä¸ºä¸€ã€‚</p><p>æœ¬åœ°æ–¹æ³•ä¸€èˆ¬æ˜¯ç”¨å…¶å®ƒè¯­è¨€(Cã€C++ æˆ–æ±‡ç¼–è¯­è¨€ç­‰)ç¼–å†™çš„ï¼Œå¹¶ä¸”è¢«ç¼–è¯‘ä¸ºåŸºäºæœ¬æœºç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„ç¨‹åºï¼Œå¯¹å¾…è¿™äº›æ–¹æ³•éœ€è¦ç‰¹åˆ«å¤„ç†ã€‚</p><p>æœ¬åœ°æ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œåœ¨æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œç”¨äºå­˜æ”¾è¯¥æœ¬åœ°æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€å‡ºå£ä¿¡æ¯ã€‚</p><p>æ–¹æ³•æ‰§è¡Œå®Œæ¯•åç›¸åº”çš„æ ˆå¸§ä¹Ÿä¼šå‡ºæ ˆå¹¶é‡Šæ”¾å†…å­˜ç©ºé—´ï¼Œä¹Ÿä¼šå‡ºç° StackOverFlowError å’Œ OutOfMemoryError ä¸¤ç§å¼‚å¸¸ã€‚</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/66a6899d-c6b0-4a47-8569-9d08f0baf86c.png" width="300px"></div><br><h2 id="å †" tabindex="-1"><a class="header-anchor" href="#å †" aria-hidden="true">#</a> å †</h2><p>Java è™šæ‹Ÿæœºæ‰€ç®¡ç†çš„å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—ï¼ŒJava å †æ˜¯æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œåœ¨è™šæ‹Ÿæœºå¯åŠ¨æ—¶åˆ›å»ºã€‚<strong>æ­¤å†…å­˜åŒºåŸŸçš„å”¯ä¸€ç›®çš„å°±æ˜¯å­˜æ”¾å¯¹è±¡å®ä¾‹ï¼Œå‡ ä¹æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚</strong></p><p>æ‰€æœ‰å¯¹è±¡éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ï¼Œæ˜¯åƒåœ¾æ”¶é›†çš„ä¸»è¦åŒºåŸŸ(&quot;GC å †&quot;)ã€‚</p><p>ç°ä»£çš„åƒåœ¾æ”¶é›†å™¨åŸºæœ¬éƒ½æ˜¯é‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œå…¶ä¸»è¦çš„æ€æƒ³æ˜¯é’ˆå¯¹ä¸åŒç±»å‹çš„å¯¹è±¡é‡‡å–ä¸åŒçš„åƒåœ¾å›æ”¶ç®—æ³•ã€‚å¯ä»¥å°†å †åˆ†æˆä¸¤å—ï¼š</p><ul><li>æ–°ç”Ÿä»£(Young Generation)</li><li>è€å¹´ä»£(Old Generation)</li></ul><blockquote><p>Javaè™šæ‹Ÿæœºè§„èŒƒä¸­ï¼š Javaå †å¯ä»¥å¤„äºç‰©ç†ä¸Šä¸è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œåªè¦é€»è¾‘ä¸Šè¿ç»­å³å¯ã€‚å®ç°æ—¶æ—¢å¯ä»¥å®ç°æˆå›ºå®šå¤§å°çš„ä¹Ÿå¯æ˜¯å¯æ‰©å±•çš„ï¼Œå½“å‰ä¸»æµè™šæ‹Ÿæœºéƒ½æ˜¯å¯æ‰©å±•æ¥å®ç°çš„(é€šè¿‡ -Xms å’Œ -Xmx è¿™ä¸¤ä¸ªè™šæ‹Ÿæœºå‚æ•°æ¥æŒ‡å®šä¸€ä¸ªç¨‹åºçš„å †å†…å­˜å¤§å°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è®¾ç½®åˆå§‹å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°è®¾ç½®æœ€å¤§å€¼)ã€‚</p></blockquote><p>å¦‚æœå †ä¸­æ²¡æœ‰å†…å­˜å®Œæˆå®ä¾‹åˆ†é…ï¼Œä¸”æ— æ³•æ‰©å±•æ—¶ï¼Œä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚</p><h2 id="æ–¹æ³•åŒº" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•åŒº" aria-hidden="true">#</a> æ–¹æ³•åŒº</h2><p>ç”¨äºå­˜æ”¾å·²è¢«åŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚</p><blockquote><p>Javaè™šæ‹Ÿæœºè§„èŒƒä¸­ï¼Œæ–¹æ³•åŒºæè¿°ä¸ºå †çš„ä¸€ä¸ªé€»è¾‘éƒ¨åˆ†ï¼Œä½†å´æœ‰ä¸€ä¸ªåˆ«åNon-Heap(éå †)ï¼Œç›®çš„ä¸Javaå †åŒºåˆ†ï¼›å’Œå †ä¸€æ ·ä¸éœ€è¦è¿ç»­çš„å†…å­˜ï¼Œå¯ä»¥é€‰æ‹©å›ºå®šå¤§å°æˆ–è€…å¯åŠ¨æ€æ‰©å±•ï¼Œæ— æ³•æ»¡è¶³å†…å­˜åˆ†é…éœ€æ±‚æ—¶ä¸€æ ·ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚</p></blockquote><p>å¯¹è¿™å—åŒºåŸŸè¿›è¡Œåƒåœ¾å›æ”¶çš„ä¸»è¦ç›®æ ‡æ˜¯å¯¹å¸¸é‡æ± çš„å›æ”¶å’Œå¯¹ç±»çš„å¸è½½ï¼Œä½†æ˜¯ä¸€èˆ¬æ¯”è¾ƒéš¾å®ç°ã€‚</p><p>HotSpot è™šæ‹ŸæœºæŠŠå®ƒå½“æˆæ°¸ä¹…ä»£æ¥è¿›è¡Œåƒåœ¾å›æ”¶ã€‚ä½†å¾ˆéš¾ç¡®å®šæ°¸ä¹…ä»£çš„å¤§å°ï¼Œå› ä¸ºå®ƒå—åˆ°å¾ˆå¤šå› ç´ å½±å“ï¼Œå¹¶ä¸”æ¯æ¬¡ Full GC ä¹‹åæ°¸ä¹…ä»£çš„å¤§å°éƒ½ä¼šæ”¹å˜ï¼Œæ‰€ä»¥ç»å¸¸ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸(æ°¸ä¹…ä»£æœ‰ -XX:MaxPermSizeçš„ä¸Šé™)ã€‚ä¸ºäº†æ›´å®¹æ˜“ç®¡ç†æ–¹æ³•åŒºï¼Œä» JDK 1.8 å¼€å§‹ï¼Œç§»é™¤æ°¸ä¹…ä»£(JDK1.7 å°±å·²ç»å¼€å§‹äº†)ï¼Œå¹¶æŠŠæ–¹æ³•åŒºç§»è‡³å…ƒç©ºé—´ï¼Œå®ƒä½äºæœ¬åœ°å†…å­˜(ç›´æ¥å†…å­˜)ä¸­ï¼Œè€Œä¸æ˜¯è™šæ‹Ÿæœºå†…å­˜ä¸­ã€‚</p><p><strong>æ–¹æ³•åŒºå’Œæ°¸ä¹…ä»£çš„å…³ç³»</strong></p><p>æ–¹æ³•åŒºæ˜¯ä¸€ä¸ª JVM è§„èŒƒï¼Œæ°¸ä¹…ä»£ä¸å…ƒç©ºé—´éƒ½æ˜¯å…¶ä¸€ç§å®ç°æ–¹å¼ã€‚åœ¨ JDK 1.8 ä¹‹åï¼ŒåŸæ¥æ°¸ä¹…ä»£çš„æ•°æ®è¢«åˆ†åˆ°äº†å †å’Œå…ƒç©ºé—´ä¸­ã€‚å…ƒç©ºé—´å­˜å‚¨ç±»çš„å…ƒä¿¡æ¯ï¼Œé™æ€å˜é‡å’Œå¸¸é‡æ± ç­‰æ”¾å…¥å †ä¸­ã€‚</p><blockquote><p>ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹åªæ˜¯è§„å®šäº†æœ‰æ–¹æ³•åŒºè¿™ä¹ˆä¸ªæ¦‚å¿µå’Œå®ƒçš„ä½œç”¨ï¼Œå¹¶æ²¡æœ‰è§„å®šå¦‚ä½•å»å®ç°å®ƒã€‚é‚£ä¹ˆï¼Œåœ¨ä¸åŒçš„ JVM ä¸Šæ–¹æ³•åŒºçš„å®ç°è‚¯å®šæ˜¯ä¸åŒçš„äº†ã€‚ <strong>æ–¹æ³•åŒºå’Œæ°¸ä¹…ä»£çš„å…³ç³»å¾ˆåƒ Java ä¸­æ¥å£å’Œç±»çš„å…³ç³»ï¼Œç±»å®ç°äº†æ¥å£ï¼Œè€Œæ°¸ä¹…ä»£å°±æ˜¯ HotSpot è™šæ‹Ÿæœºå¯¹è™šæ‹Ÿæœºè§„èŒƒä¸­æ–¹æ³•åŒºçš„ä¸€ç§å®ç°æ–¹å¼ã€‚</strong> ä¹Ÿå°±æ˜¯è¯´ï¼Œæ°¸ä¹…ä»£æ˜¯ HotSpot çš„æ¦‚å¿µï¼Œæ–¹æ³•åŒºæ˜¯ Java è™šæ‹Ÿæœºè§„èŒƒä¸­çš„å®šä¹‰ï¼Œæ˜¯ä¸€ç§è§„èŒƒï¼Œè€Œæ°¸ä¹…ä»£æ˜¯ä¸€ç§å®ç°ï¼Œä¸€ä¸ªæ˜¯æ ‡å‡†ä¸€ä¸ªæ˜¯å®ç°ï¼Œå…¶ä»–çš„è™šæ‹Ÿæœºå®ç°å¹¶æ²¡æœ‰æ°¸ä¹…ä»£è¿™ä¸€è¯´æ³•ã€‚</p></blockquote><p><strong>ä¸ºä»€ä¹ˆè¦å°†æ°¸ä¹…ä»£ (PermGen) æ›¿æ¢ä¸ºå…ƒç©ºé—´ (MetaSpace) å‘¢?</strong></p><ul><li>ç§»é™¤æ°¸ä¹…ä»£æ˜¯ä¸ºèåˆHotSpot JVMä¸ JRockit VMè€Œåšå‡ºçš„åŠªåŠ›ï¼Œå› ä¸ºJRockitæ²¡æœ‰æ°¸ä¹…ä»£ï¼Œä¸éœ€è¦é…ç½®æ°¸ä¹…ä»£ã€‚</li><li>æ•´ä¸ªæ°¸ä¹…ä»£æœ‰ä¸€ä¸ª JVM æœ¬èº«è®¾ç½®å›ºå®šå¤§å°ä¸Šé™ï¼Œæ— æ³•è¿›è¡Œè°ƒæ•´ï¼Œè€Œå…ƒç©ºé—´ä½¿ç”¨çš„æ˜¯ç›´æ¥å†…å­˜ï¼Œå—æœ¬æœºå¯ç”¨å†…å­˜çš„é™åˆ¶ï¼Œå¹¶ä¸”æ°¸è¿œä¸ä¼šå¾—åˆ° java.lang.OutOfMemoryErrorã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>-XXï¼šMaxMetaspaceSize</code> æ ‡å¿—è®¾ç½®æœ€å¤§å…ƒç©ºé—´å¤§å°ï¼Œé»˜è®¤å€¼ä¸º unlimitedï¼Œè¿™æ„å‘³ç€å®ƒåªå—ç³»ç»Ÿå†…å­˜çš„é™åˆ¶ã€‚<code>-XXï¼šMetaspaceSize</code> è°ƒæ•´æ ‡å¿—å®šä¹‰å…ƒç©ºé—´çš„åˆå§‹å¤§å°å¦‚æœæœªæŒ‡å®šæ­¤æ ‡å¿—ï¼Œåˆ™ Metaspace å°†æ ¹æ®è¿è¡Œæ—¶çš„åº”ç”¨ç¨‹åºéœ€æ±‚åŠ¨æ€åœ°é‡æ–°è°ƒæ•´å¤§å°ã€‚</li></ul><p>å½“ç„¶è¿™åªæ˜¯å…¶ä¸­ä¸€ä¸ªåŸå› ï¼Œè¿˜æœ‰å¾ˆå¤šåº•å±‚çš„åŸå› ï¼Œè¿™é‡Œå°±ä¸æäº†ã€‚</p><p>æ¨èé˜…è¯»ï¼š</p><ul><li>ã€ŠJava8å†…å­˜æ¨¡å‹â€”æ°¸ä¹…ä»£(PermGen)å’Œå…ƒç©ºé—´(Metaspace)ã€‹ï¼š<a href="http://www.cnblogs.com/paddix/p/5309550.html" target="_blank" rel="noopener noreferrer">http://www.cnblogs.com/paddix/p/5309550.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="è¿è¡Œæ—¶å¸¸é‡æ± " tabindex="-1"><a class="header-anchor" href="#è¿è¡Œæ—¶å¸¸é‡æ± " aria-hidden="true">#</a> è¿è¡Œæ—¶å¸¸é‡æ± </h2><p>è¿è¡Œæ—¶å¸¸é‡æ± æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚</p><p>Class æ–‡ä»¶ä¸­é™¤äº†æœ‰ç±»çš„ç‰ˆæœ¬ã€å­—æ®µã€æ–¹æ³•ã€æ¥å£ç­‰æè¿°ä¿¡æ¯å¤–ï¼Œè¿˜æœ‰å¸¸é‡æ± ä¿¡æ¯(ç”¨äºå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨)</p><p>Class æ–‡ä»¶ä¸­çš„å¸¸é‡æ± (ç¼–è¯‘å™¨ç”Ÿæˆçš„å­—é¢é‡å’Œç¬¦å·å¼•ç”¨)ä¼šåœ¨ç±»åŠ è½½åè¢«æ”¾å…¥è¿™ä¸ªåŒºåŸŸã€‚</p><p><strong>JDK1.7 åŠä¹‹åç‰ˆæœ¬çš„ JVM å·²ç»å°†å­—ç¬¦ä¸²å¸¸é‡æ± ä»æ–¹æ³•åŒºä¸­ç§»äº†å‡ºæ¥ï¼Œåœ¨ Java å †(Heap)ä¸­å¼€è¾Ÿäº†ä¸€å—åŒºåŸŸå­˜æ”¾è¿è¡Œæ—¶å¸¸é‡æ± ã€‚</strong></p><div align="center"><p><img src="/cs-way/assets/26038433.a8211a8b.jpg" alt="" title=":size=600" loading="lazy"></p></div><p>é™¤äº†åœ¨ç¼–è¯‘æœŸç”Ÿæˆçš„å¸¸é‡ï¼Œè¿˜å…è®¸åŠ¨æ€ç”Ÿæˆï¼Œä¾‹å¦‚ String ç±»çš„ intern()ã€‚</p><p>å¸¸é‡æ± æ— æ³•å†ç”³è¯·åˆ°å†…å­˜æ—¶æŠ›å‡ºOutOfMemoryErrorå¼‚å¸¸</p><p>æ¨èé˜…è¯»ï¼š</p><ul><li>ã€ŠJava ä¸­å‡ ç§å¸¸é‡æ± çš„åŒºåˆ†ã€‹ï¼š <a href="https://blog.csdn.net/qq_26222859/article/details/73135660" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_26222859/article/details/73135660<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h3 id="å…¨å±€å­—ç¬¦ä¸²æ± -string-poolä¹Ÿæœ‰å«åšstring-literal-pool" tabindex="-1"><a class="header-anchor" href="#å…¨å±€å­—ç¬¦ä¸²æ± -string-poolä¹Ÿæœ‰å«åšstring-literal-pool" aria-hidden="true">#</a> å…¨å±€å­—ç¬¦ä¸²æ± (string poolä¹Ÿæœ‰å«åšstring literal pool)</h3><p>å…¨å±€å­—ç¬¦ä¸²æ± é‡Œçš„å†…å®¹æ˜¯åœ¨ç±»åŠ è½½å®Œæˆï¼Œç»è¿‡éªŒè¯ï¼Œå‡†å¤‡é˜¶æ®µä¹‹ååœ¨å †ä¸­ç”Ÿæˆå­—ç¬¦ä¸²å¯¹è±¡å®ä¾‹ï¼Œç„¶åå°†è¯¥å­—ç¬¦ä¸²å¯¹è±¡å®ä¾‹çš„å¼•ç”¨å€¼å­˜åˆ°string poolä¸­(è®°ä½ï¼šstring poolä¸­å­˜çš„æ˜¯å¼•ç”¨å€¼è€Œä¸æ˜¯å…·ä½“çš„å®ä¾‹å¯¹è±¡ï¼Œå…·ä½“çš„å®ä¾‹å¯¹è±¡æ˜¯åœ¨å †ä¸­å¼€è¾Ÿçš„ä¸€å—ç©ºé—´å­˜æ”¾çš„ã€‚)ã€‚ åœ¨HotSpot VMé‡Œå®ç°çš„string poolåŠŸèƒ½çš„æ˜¯ä¸€ä¸ªStringTableç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œé‡Œé¢å­˜çš„æ˜¯é©»ç•™å­—ç¬¦ä¸²(ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ç”¨åŒå¼•å·æ‹¬èµ·æ¥çš„)çš„å¼•ç”¨(è€Œä¸æ˜¯é©»ç•™å­—ç¬¦ä¸²å®ä¾‹æœ¬èº«)ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨å †ä¸­çš„æŸäº›å­—ç¬¦ä¸²å®ä¾‹è¢«è¿™ä¸ªStringTableå¼•ç”¨ä¹‹åå°±ç­‰åŒè¢«èµ‹äºˆäº†&quot;é©»ç•™å­—ç¬¦ä¸²&quot;çš„èº«ä»½ã€‚è¿™ä¸ªStringTableåœ¨æ¯ä¸ªHotSpot VMçš„å®ä¾‹åªæœ‰ä¸€ä»½ï¼Œè¢«æ‰€æœ‰çš„ç±»å…±äº«ã€‚</p><h3 id="classæ–‡ä»¶å¸¸é‡æ± -class-constant-pool" tabindex="-1"><a class="header-anchor" href="#classæ–‡ä»¶å¸¸é‡æ± -class-constant-pool" aria-hidden="true">#</a> classæ–‡ä»¶å¸¸é‡æ± (class constant pool)</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œclassæ–‡ä»¶ä¸­é™¤äº†åŒ…å«ç±»çš„ç‰ˆæœ¬ã€å­—æ®µã€æ–¹æ³•ã€æ¥å£ç­‰æè¿°ä¿¡æ¯å¤–ï¼Œè¿˜æœ‰ä¸€é¡¹ä¿¡æ¯å°±æ˜¯å¸¸é‡æ± (constant pool table)ï¼Œç”¨äºå­˜æ”¾ç¼–è¯‘å™¨ç”Ÿæˆçš„å„ç§å­—é¢é‡(Literal)å’Œç¬¦å·å¼•ç”¨(Symbolic References)ã€‚ å­—é¢é‡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å¸¸é‡æ¦‚å¿µï¼Œå¦‚æ–‡æœ¬å­—ç¬¦ä¸²ã€è¢«å£°æ˜ä¸ºfinalçš„å¸¸é‡å€¼ç­‰ã€‚ ç¬¦å·å¼•ç”¨æ˜¯ä¸€ç»„ç¬¦å·æ¥æè¿°æ‰€å¼•ç”¨çš„ç›®æ ‡ï¼Œç¬¦å·å¯ä»¥æ˜¯ä»»ä½•å½¢å¼çš„å­—é¢é‡ï¼Œåªè¦ä½¿ç”¨æ—¶èƒ½æ— æ­§ä¹‰åœ°å®šä½åˆ°ç›®æ ‡å³å¯(å®ƒä¸ç›´æ¥å¼•ç”¨åŒºåˆ†ä¸€ä¸‹ï¼Œç›´æ¥å¼•ç”¨ä¸€èˆ¬æ˜¯æŒ‡å‘æ–¹æ³•åŒºçš„æœ¬åœ°æŒ‡é’ˆï¼Œç›¸å¯¹åç§»é‡æˆ–æ˜¯ä¸€ä¸ªèƒ½é—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„)ã€‚ä¸€èˆ¬åŒ…æ‹¬ä¸‹é¢ä¸‰ç±»å¸¸é‡ï¼š</p><ul><li>ç±»å’Œæ¥å£çš„å…¨é™å®šå</li><li>å­—æ®µçš„åç§°å’Œæè¿°ç¬¦</li><li>æ–¹æ³•çš„åç§°å’Œæè¿°ç¬¦</li></ul><h3 id="å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#å¯¹æ¯”" aria-hidden="true">#</a> å¯¹æ¯”</h3><ol><li>å…¨å±€å¸¸é‡æ± åœ¨æ¯ä¸ªVMä¸­åªæœ‰ä¸€ä»½ï¼Œå­˜æ”¾çš„æ˜¯å­—ç¬¦ä¸²å¸¸é‡çš„å¼•ç”¨å€¼ã€‚</li><li>classå¸¸é‡æ± æ˜¯åœ¨ç¼–è¯‘çš„æ—¶å€™æ¯ä¸ªclasséƒ½æœ‰çš„ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µï¼Œå­˜æ”¾çš„æ˜¯å¸¸é‡çš„ç¬¦å·å¼•ç”¨ã€‚</li><li>è¿è¡Œæ—¶å¸¸é‡æ± æ˜¯åœ¨ç±»åŠ è½½å®Œæˆä¹‹åï¼Œå°†æ¯ä¸ªclasså¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨å€¼è½¬å­˜åˆ°è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªclasséƒ½æœ‰ä¸€ä¸ªè¿è¡Œæ—¶å¸¸é‡æ± ï¼Œç±»åœ¨è§£æä¹‹åï¼Œå°†ç¬¦å·å¼•ç”¨æ›¿æ¢æˆç›´æ¥å¼•ç”¨ï¼Œä¸å…¨å±€å¸¸é‡æ± ä¸­çš„å¼•ç”¨å€¼ä¿æŒä¸€è‡´ã€‚</li></ol><h3 id="å¸¸é‡æ± è¡¥å……å†…å®¹" tabindex="-1"><a class="header-anchor" href="#å¸¸é‡æ± è¡¥å……å†…å®¹" aria-hidden="true">#</a> å¸¸é‡æ± è¡¥å……å†…å®¹</h3><h4 id="_1-string-ç±»å’Œå¸¸é‡æ± " tabindex="-1"><a class="header-anchor" href="#_1-string-ç±»å’Œå¸¸é‡æ± " aria-hidden="true">#</a> 1. String ç±»å’Œå¸¸é‡æ± </h4><p>åœ¨JDK1.7ä¹‹å‰è¿è¡Œæ—¶å¸¸é‡æ± é€»è¾‘åŒ…å«å­—ç¬¦ä¸²å¸¸é‡æ± å­˜æ”¾åœ¨æ–¹æ³•åŒº, æ­¤æ—¶hotspotè™šæ‹Ÿæœºå¯¹æ–¹æ³•åŒºçš„å®ç°ä¸ºæ°¸ä¹…ä»£</p><p>åœ¨JDK1.7 å­—ç¬¦ä¸²å¸¸é‡æ± è¢«ä»æ–¹æ³•åŒºæ‹¿åˆ°äº†å †ä¸­, è¿™é‡Œæ²¡æœ‰æåˆ°è¿è¡Œæ—¶å¸¸é‡æ± ,ä¹Ÿå°±æ˜¯è¯´å­—ç¬¦ä¸²å¸¸é‡æ± è¢«å•ç‹¬æ‹¿åˆ°å †,è¿è¡Œæ—¶å¸¸é‡æ± å‰©ä¸‹çš„ä¸œè¥¿è¿˜åœ¨æ–¹æ³•åŒº, ä¹Ÿå°±æ˜¯hotspotä¸­çš„æ°¸ä¹…ä»£</p><p>åœ¨JDK1.8 hotspotç§»é™¤äº†æ°¸ä¹…ä»£ç”¨å…ƒç©ºé—´(Metaspace)å–è€Œä»£ä¹‹, è¿™æ—¶å€™å­—ç¬¦ä¸²å¸¸é‡æ± è¿˜åœ¨å †, è¿è¡Œæ—¶å¸¸é‡æ± è¿˜åœ¨æ–¹æ³•åŒº, åªä¸è¿‡æ–¹æ³•åŒºçš„å®ç°ä»æ°¸ä¹…ä»£å˜æˆäº†å…ƒç©ºé—´(Metaspace)</p><p><strong>String å¯¹è±¡çš„ä¸¤ç§åˆ›å»ºæ–¹å¼ï¼š</strong></p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;abcd&quot;</span><span class="token punctuation">;</span><span class="token comment">//å…ˆæ£€æŸ¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æœ‰æ²¡æœ‰&quot;abcd&quot;ï¼Œå¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ²¡æœ‰ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªï¼Œç„¶å str1 æŒ‡å‘å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„å¯¹è±¡ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ç›´æ¥å°† str1 æŒ‡å‘&quot;abcd&quot;&quot;ï¼›</span>
<span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;abcd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å †ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</span>
<span class="token class-name">String</span> str3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;abcd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å †ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1<span class="token operator">==</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str2<span class="token operator">==</span>str3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre></div><p>è¿™ä¸¤ç§ä¸åŒçš„åˆ›å»ºæ–¹æ³•æ˜¯æœ‰å·®åˆ«çš„ã€‚</p><ul><li>ç¬¬ä¸€ç§æ–¹å¼æ˜¯åœ¨å¸¸é‡æ± ä¸­æ‹¿å¯¹è±¡ï¼›</li><li>ç¬¬äºŒç§æ–¹å¼æ˜¯ç›´æ¥åœ¨å †å†…å­˜ç©ºé—´åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</li></ul><p>è®°ä½ä¸€ç‚¹ï¼š<strong>åªè¦ä½¿ç”¨ new æ–¹æ³•ï¼Œä¾¿éœ€è¦åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</strong></p><div align="center"><p><img src="/cs-way/assets/2019-3String-Pool-Java1-450x249.680ec583.png" alt="" title=":size=500" loading="lazy"></p></div><p><strong>String s1 = new String(&quot;abc&quot;);è¿™å¥è¯åˆ›å»ºäº†å‡ ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Ÿ</strong></p><p><strong>å°†åˆ›å»º 1 æˆ– 2 ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœæ± ä¸­å·²å­˜åœ¨å­—ç¬¦ä¸²å¸¸é‡â€œabcâ€ï¼Œåˆ™åªä¼šåœ¨å †ç©ºé—´åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡â€œabcâ€ã€‚å¦‚æœæ± ä¸­æ²¡æœ‰å­—ç¬¦ä¸²å¸¸é‡â€œabcâ€ï¼Œé‚£ä¹ˆå®ƒå°†é¦–å…ˆåœ¨æ± ä¸­åˆ›å»ºï¼Œç„¶ååœ¨å †ç©ºé—´ä¸­åˆ›å»ºï¼Œå› æ­¤å°†åˆ›å»ºæ€»å…± 2 ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ã€‚</strong></p><p><strong>éªŒè¯ï¼š</strong></p><div class="language-java ext-java"><pre class="language-java"><code>		<span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å †å†…å­˜çš„åœ°å€å€¼</span>
		<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¾“å‡º false,å› ä¸ºä¸€ä¸ªæ˜¯å †å†…å­˜ï¼Œä¸€ä¸ªæ˜¯å¸¸é‡æ± çš„å†…å­˜ï¼Œæ•…ä¸¤è€…æ˜¯ä¸åŒçš„ã€‚</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¾“å‡º true</span>
</code></pre></div><p><strong>String ç±»å‹çš„å¸¸é‡æ± æ¯”è¾ƒç‰¹æ®Šã€‚å®ƒçš„ä¸»è¦ä½¿ç”¨æ–¹æ³•æœ‰ä¸¤ç§ï¼š</strong></p><ul><li>ç›´æ¥ä½¿ç”¨åŒå¼•å·å£°æ˜å‡ºæ¥çš„ String å¯¹è±¡ä¼šç›´æ¥å­˜å‚¨åœ¨å¸¸é‡æ± ä¸­ã€‚</li><li>å¦‚æœä¸æ˜¯ç”¨åŒå¼•å·å£°æ˜çš„ String å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ String æä¾›çš„ intern æ–¹æ³•ã€‚String.intern() æ˜¯ä¸€ä¸ª Native æ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼šå¦‚æœè¿è¡Œæ—¶å¸¸é‡æ± ä¸­å·²ç»åŒ…å«ä¸€ä¸ªç­‰äºæ­¤ String å¯¹è±¡å†…å®¹çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å¸¸é‡æ± ä¸­è¯¥å­—ç¬¦ä¸²çš„å¼•ç”¨ï¼›å¦‚æœæ²¡æœ‰ï¼ŒJDK1.7ä¹‹å‰(ä¸åŒ…å«1.7)çš„å¤„ç†æ–¹å¼æ˜¯åœ¨å¸¸é‡æ± ä¸­åˆ›å»ºä¸æ­¤ String å†…å®¹ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›å¸¸é‡æ± ä¸­åˆ›å»ºçš„å­—ç¬¦ä¸²çš„å¼•ç”¨ï¼ŒJDK1.7ä»¥åŠä¹‹åçš„å¤„ç†æ–¹å¼æ˜¯åœ¨å¸¸é‡æ± ä¸­è®°å½•æ­¤å­—ç¬¦ä¸²é¦–æ¬¡å‡ºç°çš„å®ä¾‹å¼•ç”¨ï¼Œå¹¶è¿”å›è¯¥å¼•ç”¨ï¼Œä¸ä¼šåœ¨å¤åˆ¶å®ä¾‹ã€‚</li></ul><div class="language-java ext-java"><pre class="language-java"><code>	      <span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;è®¡ç®—æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	      <span class="token class-name">String</span> s2 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	      <span class="token class-name">String</span> s3 <span class="token operator">=</span> <span class="token string">&quot;è®¡ç®—æœº&quot;</span><span class="token punctuation">;</span>
	      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¡ç®—æœº</span>
	      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//falseï¼Œå› ä¸ºä¸€ä¸ªæ˜¯å †å†…å­˜ä¸­çš„ String å¯¹è±¡ä¸€ä¸ªæ˜¯å¸¸é‡æ± ä¸­çš„ String å¯¹è±¡ï¼Œnewçš„æ“ä½œå®ä¾‹äº†ä¸¤ä¸ªå¯¹è±¡</span>
	      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s3 <span class="token operator">==</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//trueï¼Œå› ä¸ºä¸¤ä¸ªéƒ½æ˜¯å¸¸é‡æ± ä¸­çš„ String å¯¹è±¡</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>        <span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;str&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token string">&quot;ing&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> str1<span class="token operator">+</span>str2<span class="token punctuation">;</span> <span class="token comment">//åœ¨å †ä¸Šåˆ›å»ºçš„æ–°çš„å¯¹è±¡ï¼Œå¸¸é‡æ± ä¸­è¿˜ä¸å­˜åœ¨å¯¹åº”å®ä¾‹</span>
        <span class="token class-name">String</span> s<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> str3<span class="token operator">=</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token operator">==</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true å¸¸é‡æ± ä¸­å­—é¢é‡çš„å¼•ç”¨æ˜¯å †ä¸­çš„å¼•ç”¨å®ä¾‹ï¼Œå› ä¸º&quot;string&quot;ç¬¬ä¸€æ¬¡å‡ºç°æ˜¯åœ¨å †ä¸­</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token operator">==</span>str3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true å¸¸é‡æ± ä¸­å­—é¢é‡çš„å¼•ç”¨æ˜¯å †ä¸­çš„å¼•ç”¨å®ä¾‹ï¼Œstr3æŸ¥æ‰¾æ—¶å·²å‡ºç°åœ¨å¸¸é‡æ± ä¸­</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//460141958 åœ°å€</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//460141958 åœ°å€</span>
</code></pre></div><p><a href="https://tech.meituan.com/2014/03/06/in-depth-understanding-string-intern.html" target="_blank" rel="noopener noreferrer">æ·±å…¥è§£æString#intern<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><strong>å­—ç¬¦ä¸²æ‹¼æ¥:</strong></p><div class="language-java ext-java"><pre class="language-java"><code>		  <span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;str&quot;</span><span class="token punctuation">;</span>
		  <span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token string">&quot;ing&quot;</span><span class="token punctuation">;</span>
		 
		  <span class="token class-name">String</span> str3 <span class="token operator">=</span> <span class="token string">&quot;str&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;ing&quot;</span><span class="token punctuation">;</span><span class="token comment">//å¸¸é‡æ± ä¸­çš„å¯¹è±¡</span>
		  <span class="token class-name">String</span> str4 <span class="token operator">=</span> str1 <span class="token operator">+</span> str2<span class="token punctuation">;</span> <span class="token comment">//åœ¨å †ä¸Šåˆ›å»ºçš„æ–°çš„å¯¹è±¡ï¼Œå¸¸é‡æ± ä¸­è¿˜ä¸å­˜åœ¨å¯¹åº”å®ä¾‹</span>
		  <span class="token class-name">String</span> str5 <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">;</span><span class="token comment">//å¸¸é‡æ± ä¸­çš„å¯¹è±¡</span>
		  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str3 <span class="token operator">==</span> str4<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
		  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str3 <span class="token operator">==</span> str5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
		  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str4 <span class="token operator">==</span> str5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre></div><div align="center"><p><img src="/cs-way/assets/å­—ç¬¦ä¸²æ‹¼æ¥.ce55136b.png" alt="" title=":size=400" loading="lazy"></p></div><p>å°½é‡é¿å…å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå› ä¸ºè¿™æ ·ä¼šé‡æ–°åˆ›å»ºå¯¹è±¡ã€‚å¦‚æœéœ€è¦æ”¹å˜å­—ç¬¦ä¸²çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ StringBuilder æˆ–è€… StringBufferã€‚</p><p><strong>&quot;+&quot;çš„æ‹¼æ¥</strong></p><ul><li>å¸¸é‡å­—ç¬¦ä¸²çš„â€œ+â€æ“ä½œï¼Œç¼–è¯‘é˜¶æ®µç›´æ¥ä¼šåˆæˆä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</li><li>å¯¹äºfinalå­—æ®µï¼Œç¼–è¯‘æœŸç›´æ¥è¿›è¡Œäº†å¸¸é‡æ›¿æ¢(è€Œå¯¹äºéfinalå­—æ®µåˆ™æ˜¯åœ¨è¿è¡ŒæœŸè¿›è¡Œèµ‹å€¼å¤„ç†çš„)ã€‚</li><li>å¸¸é‡å­—ç¬¦ä¸²å’Œå˜é‡æ‹¼æ¥æ—¶(å¦‚ï¼šString str3=baseStr + &quot;01&quot;;)ä¼šè°ƒç”¨stringBuilder.append()åœ¨å †ä¸Šåˆ›å»ºæ–°çš„å¯¹è±¡</li><li>å˜é‡å’Œå˜é‡æ‹¼æ¥æ—¶åŒæ ·ä¼šè°ƒç”¨stringBuilder.append()åœ¨å †ä¸Šåˆ›å»ºæ–°çš„å¯¹è±¡</li></ul><h4 id="_2-8ç§åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»å’Œå¸¸é‡æ± " tabindex="-1"><a class="header-anchor" href="#_2-8ç§åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»å’Œå¸¸é‡æ± " aria-hidden="true">#</a> 2. 8ç§åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»å’Œå¸¸é‡æ± </h4><ul><li><strong>Java åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»çš„å¤§éƒ¨åˆ†éƒ½å®ç°äº†å¸¸é‡æ± æŠ€æœ¯ï¼Œå³ Byte,Short,Integer,Long,Character,Booleanï¼›è¿™ 5 ç§åŒ…è£…ç±»é»˜è®¤åˆ›å»ºäº†æ•°å€¼[-128ï¼Œ127] çš„ç›¸åº”ç±»å‹çš„ç¼“å­˜æ•°æ®ï¼Œä½†æ˜¯è¶…å‡ºæ­¤èŒƒå›´ä»ç„¶ä¼šå»åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</strong></li><li><strong>ä¸¤ç§æµ®ç‚¹æ•°ç±»å‹çš„åŒ…è£…ç±» Float,Double å¹¶æ²¡æœ‰å®ç°å¸¸é‡æ± æŠ€æœ¯ã€‚</strong></li></ul><div class="language-java ext-java"><pre class="language-java"><code>		<span class="token class-name">Integer</span> i1 <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span>
		<span class="token class-name">Integer</span> i2 <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i1 <span class="token operator">==</span> i2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¾“å‡º true</span>
		<span class="token class-name">Integer</span> i11 <span class="token operator">=</span> <span class="token number">333</span><span class="token punctuation">;</span>
		<span class="token class-name">Integer</span> i22 <span class="token operator">=</span> <span class="token number">333</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i11 <span class="token operator">==</span> i22<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¾“å‡º false</span>
		<span class="token class-name">Double</span> i3 <span class="token operator">=</span> <span class="token number">1.2</span><span class="token punctuation">;</span>
		<span class="token class-name">Double</span> i4 <span class="token operator">=</span> <span class="token number">1.2</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i3 <span class="token operator">==</span> i4<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¾“å‡º false</span>
</code></pre></div><p><strong>Integer ç¼“å­˜æºä»£ç ï¼š</strong></p><div class="language-java ext-java"><pre class="language-java"><code><span class="token doc-comment comment">/**
*æ­¤æ–¹æ³•å°†å§‹ç»ˆç¼“å­˜-128 åˆ° 127(åŒ…æ‹¬ç«¯ç‚¹)èŒƒå›´å†…çš„å€¼ï¼Œå¹¶å¯ä»¥ç¼“å­˜æ­¤èŒƒå›´ä¹‹å¤–çš„å…¶ä»–å€¼ã€‚
*/</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>low <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>high<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>low<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre></div><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><ol><li>Integer i1=40ï¼›Java åœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šç›´æ¥å°†ä»£ç å°è£…æˆ Integer i1=Integer.valueOf(40);ï¼Œä»è€Œä½¿ç”¨å¸¸é‡æ± ä¸­çš„å¯¹è±¡ã€‚</li><li>Integer i1 = new Integer(40);è¿™ç§æƒ…å†µä¸‹ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</li></ol><div class="language-java ext-java"><pre class="language-java"><code>  <span class="token class-name">Integer</span> i1 <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
  <span class="token class-name">Integer</span> i2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i1<span class="token operator">==</span>i2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡º false</span>
</code></pre></div><p><strong>Integer æ¯”è¾ƒæ›´ä¸°å¯Œçš„ä¸€ä¸ªä¾‹å­:</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>  <span class="token class-name">Integer</span> i1 <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
  <span class="token class-name">Integer</span> i2 <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
  <span class="token class-name">Integer</span> i3 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token class-name">Integer</span> i4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Integer</span> i5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Integer</span> i6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;i1=i2   &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i1 <span class="token operator">==</span> i2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;i1=i2+i3   &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i1 <span class="token operator">==</span> i2 <span class="token operator">+</span> i3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;i1=i4   &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i1 <span class="token operator">==</span> i4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;i4=i5   &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i4 <span class="token operator">==</span> i5<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;i4=i5+i6   &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i4 <span class="token operator">==</span> i5 <span class="token operator">+</span> i6<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;40=i5+i6   &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">40</span> <span class="token operator">==</span> i5 <span class="token operator">+</span> i6<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ç»“æœï¼š</p><div class="language-text ext-text"><pre class="language-text"><code>i1=i2   true
i1=i2+i3   true
i1=i4   false
i4=i5   false
i4=i5+i6   true
40=i5+i6   true
</code></pre></div><p>è§£é‡Šï¼š</p><p>è¯­å¥ i4 == i5 + i6ï¼Œå› ä¸º+è¿™ä¸ªæ“ä½œç¬¦ä¸é€‚ç”¨äº Integer å¯¹è±¡ï¼Œé¦–å…ˆ i5 å’Œ i6 è¿›è¡Œè‡ªåŠ¨æ‹†ç®±æ“ä½œï¼Œè¿›è¡Œæ•°å€¼ç›¸åŠ ï¼Œå³ i4 == 40ã€‚ç„¶å Integer å¯¹è±¡æ— æ³•ä¸æ•°å€¼è¿›è¡Œç›´æ¥æ¯”è¾ƒï¼Œæ‰€ä»¥ i4 è‡ªåŠ¨æ‹†ç®±è½¬ä¸º int å€¼ 40ï¼Œæœ€ç»ˆè¿™æ¡è¯­å¥è½¬ä¸º 40 == 40 è¿›è¡Œæ•°å€¼æ¯”è¾ƒã€‚</p><h2 id="ç›´æ¥å†…å­˜" tabindex="-1"><a class="header-anchor" href="#ç›´æ¥å†…å­˜" aria-hidden="true">#</a> ç›´æ¥å†…å­˜</h2><p><strong>ç›´æ¥å†…å­˜å¹¶ä¸æ˜¯è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿä¸æ˜¯è™šæ‹Ÿæœºè§„èŒƒä¸­å®šä¹‰çš„å†…å­˜åŒºåŸŸï¼Œä½†æ˜¯è¿™éƒ¨åˆ†å†…å­˜ä¹Ÿè¢«é¢‘ç¹åœ°ä½¿ç”¨ã€‚è€Œä¸”ä¹Ÿå¯èƒ½å¯¼è‡´ OutOfMemoryError å¼‚å¸¸å‡ºç°ã€‚</strong></p><p>JDK1.4 ä¸­æ–°åŠ å…¥çš„ <strong>NIO(New Input/Output) ç±»</strong>ï¼Œå¼•å…¥äº†ä¸€ç§åŸºäº<strong>é€šé“(Channel)</strong> ä¸<strong>ç¼“å­˜åŒº(Buffer)</strong> çš„ I/O æ–¹å¼ï¼Œå®ƒå¯ä»¥ç›´æ¥ä½¿ç”¨ Native å‡½æ•°åº“ç›´æ¥åˆ†é…å †å¤–å†…å­˜ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªå­˜å‚¨åœ¨ Java å †ä¸­çš„ DirectByteBuffer å¯¹è±¡ä½œä¸ºè¿™å—å†…å­˜çš„å¼•ç”¨è¿›è¡Œæ“ä½œã€‚è¿™æ ·å°±èƒ½åœ¨ä¸€äº›åœºæ™¯ä¸­æ˜¾è‘—æé«˜æ€§èƒ½ï¼Œå› ä¸º<strong>é¿å…äº†åœ¨ Java å †å’Œ Native å †ä¹‹é—´æ¥å›å¤åˆ¶æ•°æ®</strong>ã€‚</p><p>æœ¬æœºç›´æ¥å†…å­˜çš„åˆ†é…ä¸ä¼šå—åˆ° Java å †çš„é™åˆ¶ï¼Œä½†æ˜¯ï¼Œæ—¢ç„¶æ˜¯å†…å­˜å°±ä¼šå—åˆ°æœ¬æœºæ€»å†…å­˜å¤§å°ä»¥åŠå¤„ç†å™¨å¯»å€ç©ºé—´çš„é™åˆ¶ã€‚</p><h1 id="äºŒã€å¯¹è±¡æ¢ç§˜" tabindex="-1"><a class="header-anchor" href="#äºŒã€å¯¹è±¡æ¢ç§˜" aria-hidden="true">#</a> äºŒã€å¯¹è±¡æ¢ç§˜</h1><p>é€šè¿‡ä¸Šé¢çš„ä»‹ç»æˆ‘ä»¬å¤§æ¦‚çŸ¥é“äº†è™šæ‹Ÿæœºçš„å†…å­˜æƒ…å†µï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†çš„äº†è§£ä¸€ä¸‹ HotSpot è™šæ‹Ÿæœºåœ¨ Java å †ä¸­å¯¹è±¡åˆ†é…ã€å¸ƒå±€å’Œè®¿é—®çš„å…¨è¿‡ç¨‹ã€‚</p><h2 id="å¯¹è±¡çš„åˆ›å»º" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡çš„åˆ›å»º" aria-hidden="true">#</a> å¯¹è±¡çš„åˆ›å»º</h2><p>ä¸‹å›¾ä¾¿æ˜¯ Java å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œæˆ‘å»ºè®®æœ€å¥½æ˜¯èƒ½é»˜å†™å‡ºæ¥ï¼Œå¹¶ä¸”è¦æŒæ¡æ¯ä¸€æ­¥åœ¨åšä»€ä¹ˆã€‚</p><div align="center"><p><img src="/cs-way/assets/Javaåˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹.7e67249d.png" alt="" title=":size=450" loading="lazy"></p></div><h4 id="step1-ç±»åŠ è½½æ£€æŸ¥" tabindex="-1"><a class="header-anchor" href="#step1-ç±»åŠ è½½æ£€æŸ¥" aria-hidden="true">#</a> Step1:ç±»åŠ è½½æ£€æŸ¥</h4><p>è™šæ‹Ÿæœºé‡åˆ°ä¸€æ¡ new æŒ‡ä»¤æ—¶ï¼Œé¦–å…ˆå°†å»æ£€æŸ¥è¿™ä¸ªæŒ‡ä»¤çš„å‚æ•°æ˜¯å¦èƒ½åœ¨å¸¸é‡æ± ä¸­å®šä½åˆ°è¿™ä¸ªç±»çš„ç¬¦å·å¼•ç”¨ï¼Œå¹¶ä¸”æ£€æŸ¥è¿™ä¸ªç¬¦å·å¼•ç”¨ä»£è¡¨çš„ç±»æ˜¯å¦å·²è¢«åŠ è½½è¿‡ã€è§£æå’Œåˆå§‹åŒ–è¿‡ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£å¿…é¡»å…ˆæ‰§è¡Œç›¸åº”çš„ç±»åŠ è½½è¿‡ç¨‹ã€‚</p><h4 id="step2-åˆ†é…å†…å­˜" tabindex="-1"><a class="header-anchor" href="#step2-åˆ†é…å†…å­˜" aria-hidden="true">#</a> Step2:åˆ†é…å†…å­˜</h4><p>åœ¨<strong>ç±»åŠ è½½æ£€æŸ¥</strong>é€šè¿‡åï¼Œæ¥ä¸‹æ¥è™šæ‹Ÿæœºå°†ä¸ºæ–°ç”Ÿå¯¹è±¡<strong>åˆ†é…å†…å­˜</strong>ã€‚å¯¹è±¡æ‰€éœ€çš„å†…å­˜å¤§å°åœ¨ç±»åŠ è½½å®Œæˆåä¾¿å¯ç¡®å®šï¼Œä¸ºå¯¹è±¡åˆ†é…ç©ºé—´çš„ä»»åŠ¡ç­‰åŒäºæŠŠä¸€å—ç¡®å®šå¤§å°çš„å†…å­˜ä» Java å †ä¸­åˆ’åˆ†å‡ºæ¥ã€‚<strong>åˆ†é…æ–¹å¼</strong>æœ‰ <strong>â€œæŒ‡é’ˆç¢°æ’â€</strong> å’Œ <strong>â€œç©ºé—²åˆ—è¡¨â€</strong> ä¸¤ç§ï¼Œ<strong>é€‰æ‹©é‚£ç§åˆ†é…æ–¹å¼ç”± Java å †æ˜¯å¦è§„æ•´å†³å®šï¼Œè€Œ Java å †æ˜¯å¦è§„æ•´åˆç”±æ‰€é‡‡ç”¨çš„åƒåœ¾æ”¶é›†å™¨æ˜¯å¦å¸¦æœ‰å‹ç¼©æ•´ç†åŠŸèƒ½å†³å®š</strong>ã€‚</p><p><strong>å†…å­˜åˆ†é…çš„ä¸¤ç§æ–¹å¼ï¼š(è¡¥å……å†…å®¹ï¼Œéœ€è¦æŒæ¡)</strong></p><p>é€‰æ‹©ä»¥ä¸Šä¸¤ç§æ–¹å¼ä¸­çš„å“ªä¸€ç§ï¼Œå–å†³äº Java å †å†…å­˜æ˜¯å¦è§„æ•´ã€‚è€Œ Java å †å†…å­˜æ˜¯å¦è§„æ•´ï¼Œå–å†³äº GC æ”¶é›†å™¨çš„ç®—æ³•æ˜¯&quot;æ ‡è®°-æ¸…é™¤&quot;ï¼Œè¿˜æ˜¯&quot;æ ‡è®°-æ•´ç†&quot;(ä¹Ÿç§°ä½œ&quot;æ ‡è®°-å‹ç¼©&quot;)ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¤åˆ¶ç®—æ³•å†…å­˜ä¹Ÿæ˜¯è§„æ•´çš„</p><div align="center"><p><img src="/cs-way/assets/å†…å­˜åˆ†é…çš„ä¸¤ç§æ–¹å¼.82bdfd34.png" alt="" title=":size=800" loading="lazy"></p></div><p><strong>å†…å­˜åˆ†é…å¹¶å‘é—®é¢˜(è¡¥å……å†…å®¹ï¼Œéœ€è¦æŒæ¡)</strong></p><p>åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜ï¼Œå°±æ˜¯çº¿ç¨‹å®‰å…¨ï¼Œå› ä¸ºåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œåˆ›å»ºå¯¹è±¡æ˜¯å¾ˆé¢‘ç¹çš„äº‹æƒ…ï¼Œä½œä¸ºè™šæ‹Ÿæœºæ¥è¯´ï¼Œå¿…é¡»è¦ä¿è¯çº¿ç¨‹æ˜¯å®‰å…¨çš„ï¼Œé€šå¸¸æ¥è®²ï¼Œè™šæ‹Ÿæœºé‡‡ç”¨ä¸¤ç§æ–¹å¼æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼š</p><ul><li><strong>CAS+å¤±è´¥é‡è¯•ï¼š</strong> CAS æ˜¯ä¹è§‚é”çš„ä¸€ç§å®ç°æ–¹å¼ã€‚æ‰€è°“ä¹è§‚é”å°±æ˜¯ï¼Œæ¯æ¬¡ä¸åŠ é”è€Œæ˜¯å‡è®¾æ²¡æœ‰å†²çªè€Œå»å®ŒæˆæŸé¡¹æ“ä½œï¼Œå¦‚æœå› ä¸ºå†²çªå¤±è´¥å°±é‡è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ã€‚<strong>è™šæ‹Ÿæœºé‡‡ç”¨ CAS é…ä¸Šå¤±è´¥é‡è¯•çš„æ–¹å¼ä¿è¯æ›´æ–°æ“ä½œçš„åŸå­æ€§ã€‚</strong></li><li><strong>TLAB(æœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å†²Thread Local Allocation Buffer)ï¼š</strong> ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹é¢„å…ˆåœ¨ Eden åŒºåˆ†é…ä¸€å—å„¿å†…å­˜ï¼ŒJVM åœ¨ç»™çº¿ç¨‹ä¸­çš„å¯¹è±¡åˆ†é…å†…å­˜æ—¶ï¼Œé¦–å…ˆåœ¨ TLAB åˆ†é…ï¼Œå½“å¯¹è±¡å¤§äº TLAB ä¸­çš„å‰©ä½™å†…å­˜æˆ– TLAB çš„å†…å­˜å·²ç”¨å°½æ—¶ï¼Œå†é‡‡ç”¨ä¸Šè¿°çš„ CAS è¿›è¡Œå†…å­˜åˆ†é…(-XX:+/-UseTLAB)</li></ul><h4 id="step3-åˆå§‹åŒ–é›¶å€¼" tabindex="-1"><a class="header-anchor" href="#step3-åˆå§‹åŒ–é›¶å€¼" aria-hidden="true">#</a> Step3:åˆå§‹åŒ–é›¶å€¼</h4><p>å†…å­˜åˆ†é…å®Œæˆåï¼Œè™šæ‹Ÿæœºéœ€è¦å°†åˆ†é…åˆ°çš„å†…å­˜ç©ºé—´éƒ½åˆå§‹åŒ–ä¸ºé›¶å€¼(ä¸åŒ…æ‹¬å¯¹è±¡å¤´)ï¼Œè¿™ä¸€æ­¥æ“ä½œä¿è¯äº†å¯¹è±¡çš„å®ä¾‹å­—æ®µåœ¨ Java ä»£ç ä¸­å¯ä»¥ä¸èµ‹åˆå§‹å€¼å°±ç›´æ¥ä½¿ç”¨ï¼Œç¨‹åºèƒ½è®¿é—®åˆ°è¿™äº›å­—æ®µçš„æ•°æ®ç±»å‹æ‰€å¯¹åº”çš„é›¶å€¼ã€‚</p><h4 id="step4-è®¾ç½®å¯¹è±¡å¤´" tabindex="-1"><a class="header-anchor" href="#step4-è®¾ç½®å¯¹è±¡å¤´" aria-hidden="true">#</a> Step4:è®¾ç½®å¯¹è±¡å¤´</h4><p>åˆå§‹åŒ–é›¶å€¼å®Œæˆä¹‹åï¼Œ<strong>è™šæ‹Ÿæœºè¦å¯¹å¯¹è±¡è¿›è¡Œå¿…è¦çš„è®¾ç½®</strong>ï¼Œä¾‹å¦‚è¿™ä¸ªå¯¹è±¡æ˜¯é‚£ä¸ªç±»çš„å®ä¾‹ã€å¦‚ä½•æ‰èƒ½æ‰¾åˆ°ç±»çš„å…ƒæ•°æ®ä¿¡æ¯ã€å¯¹è±¡çš„å“ˆå¸Œç ã€å¯¹è±¡çš„ GC åˆ†ä»£å¹´é¾„ç­‰ä¿¡æ¯ã€‚ <strong>è¿™äº›ä¿¡æ¯å­˜æ”¾åœ¨å¯¹è±¡å¤´(Object Header)ä¸­ã€‚</strong> å¦å¤–ï¼Œæ ¹æ®è™šæ‹Ÿæœºå½“å‰è¿è¡ŒçŠ¶æ€çš„ä¸åŒï¼Œå¦‚æ˜¯å¦å¯ç”¨åå‘é”ç­‰ï¼Œå¯¹è±¡å¤´ä¼šæœ‰ä¸åŒçš„è®¾ç½®æ–¹å¼ã€‚</p><h4 id="step5-æ‰§è¡Œ-init-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#step5-æ‰§è¡Œ-init-æ–¹æ³•" aria-hidden="true">#</a> Step5:æ‰§è¡Œ init æ–¹æ³•</h4><p>åœ¨ä¸Šé¢å·¥ä½œéƒ½å®Œæˆä¹‹åï¼Œä»è™šæ‹Ÿæœºçš„è§†è§’æ¥çœ‹ï¼Œä¸€ä¸ªæ–°çš„å¯¹è±¡å·²ç»äº§ç”Ÿäº†ï¼Œä½†ä» Java ç¨‹åºçš„è§†è§’æ¥çœ‹ï¼Œå¯¹è±¡åˆ›å»ºæ‰åˆšå¼€å§‹ï¼Œ<code>&lt;init&gt;</code> æ–¹æ³•è¿˜æ²¡æœ‰æ‰§è¡Œï¼Œæ‰€æœ‰çš„å­—æ®µéƒ½è¿˜ä¸ºé›¶ã€‚æ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œæ‰§è¡Œ new æŒ‡ä»¤ä¹‹åä¼šæ¥ç€æ‰§è¡Œ <code>&lt;init&gt;</code> æ–¹æ³•ï¼ŒæŠŠå¯¹è±¡æŒ‰ç…§ç¨‹åºå‘˜çš„æ„æ„¿è¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™æ ·ä¸€ä¸ªçœŸæ­£å¯ç”¨çš„å¯¹è±¡æ‰ç®—å®Œå…¨äº§ç”Ÿå‡ºæ¥ã€‚</p><h2 id="å¯¹è±¡çš„å†…å­˜å¸ƒå±€" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡çš„å†…å­˜å¸ƒå±€" aria-hidden="true">#</a> å¯¹è±¡çš„å†…å­˜å¸ƒå±€</h2><p>åœ¨ Hotspot è™šæ‹Ÿæœºä¸­ï¼Œå¯¹è±¡åœ¨å†…å­˜ä¸­çš„å¸ƒå±€å¯ä»¥åˆ†ä¸º 3 å—åŒºåŸŸï¼š<strong>å¯¹è±¡å¤´</strong>ã€<strong>å®ä¾‹æ•°æ®</strong>å’Œ<strong>å¯¹é½å¡«å……</strong>ã€‚</p><p><strong>Hotspot è™šæ‹Ÿæœºçš„å¯¹è±¡å¤´åŒ…æ‹¬ä¸¤éƒ¨åˆ†ä¿¡æ¯</strong>ï¼Œ<strong>ç¬¬ä¸€éƒ¨åˆ†ç”¨äºå­˜å‚¨å¯¹è±¡è‡ªèº«çš„è‡ªèº«è¿è¡Œæ—¶æ•°æ®</strong>(å“ˆå¸Œç ã€GC åˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€æ ‡å¿—ç­‰ç­‰)ï¼Œ<strong>å¦ä¸€éƒ¨åˆ†æ˜¯ç±»å‹æŒ‡é’ˆ</strong>ï¼Œå³å¯¹è±¡æŒ‡å‘å®ƒçš„ç±»å…ƒæ•°æ®çš„æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯é‚£ä¸ªç±»çš„å®ä¾‹ã€‚</p><p><strong>å®ä¾‹æ•°æ®éƒ¨åˆ†æ˜¯å¯¹è±¡çœŸæ­£å­˜å‚¨çš„æœ‰æ•ˆä¿¡æ¯</strong>ï¼Œä¹Ÿæ˜¯åœ¨ç¨‹åºä¸­æ‰€å®šä¹‰çš„å„ç§ç±»å‹çš„å­—æ®µå†…å®¹ã€‚çˆ¶ç±»ç»§æ‰¿çš„å’Œå­ç±»å®šä¹‰çš„éƒ½éœ€è¦è®°å½•ï¼Œå­˜å‚¨é¡ºåºå—åˆ°è™šæ‹Ÿæœºåˆ†é…ç­–ç•¥å‡½æ•°å’Œå­—æ®µå®šä¹‰é¡ºåºå½±å“ã€‚</p><p><strong>å¯¹é½å¡«å……éƒ¨åˆ†ä¸æ˜¯å¿…ç„¶å­˜åœ¨çš„ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„å«ä¹‰ï¼Œä»…ä»…èµ·å ä½ä½œç”¨ã€‚</strong> å› ä¸º Hotspot è™šæ‹Ÿæœºçš„è‡ªåŠ¨å†…å­˜ç®¡ç†ç³»ç»Ÿè¦æ±‚å¯¹è±¡èµ·å§‹åœ°å€å¿…é¡»æ˜¯ 8 å­—èŠ‚çš„æ•´æ•°å€ï¼Œæ¢å¥è¯è¯´å°±æ˜¯å¯¹è±¡çš„å¤§å°å¿…é¡»æ˜¯ 8 å­—èŠ‚çš„æ•´æ•°å€ã€‚è€Œå¯¹è±¡å¤´éƒ¨åˆ†æ­£å¥½æ˜¯ 8 å­—èŠ‚çš„å€æ•°(1 å€æˆ– 2 å€)ï¼Œå› æ­¤ï¼Œå½“å¯¹è±¡å®ä¾‹æ•°æ®éƒ¨åˆ†æ²¡æœ‰å¯¹é½æ—¶ï¼Œå°±éœ€è¦é€šè¿‡å¯¹é½å¡«å……æ¥è¡¥å…¨ã€‚</p><h2 id="å¯¹è±¡çš„è®¿é—®å®šä½" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡çš„è®¿é—®å®šä½" aria-hidden="true">#</a> å¯¹è±¡çš„è®¿é—®å®šä½</h2><p>å»ºç«‹å¯¹è±¡å°±æ˜¯ä¸ºäº†ä½¿ç”¨å¯¹è±¡ï¼Œæˆ‘ä»¬çš„ Java ç¨‹åºé€šè¿‡æ ˆä¸Šçš„ reference æ•°æ®æ¥æ“ä½œå †ä¸Šçš„å…·ä½“å¯¹è±¡(referenceç±»å‹åœ¨è™šæ‹Ÿæœºè§„èŒƒä¸­åªè§„å®šäº†ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨)ã€‚å¯¹è±¡çš„è®¿é—®æ–¹å¼(å¼•ç”¨é€šè¿‡ä½•ç§æ–¹å¼å»å®šä½)ç”±è™šæ‹Ÿæœºå®ç°è€Œå®šï¼Œç›®å‰ä¸»æµçš„è®¿é—®æ–¹å¼æœ‰<strong>â‘ ä½¿ç”¨å¥æŸ„</strong>å’Œ<strong>â‘¡ç›´æ¥æŒ‡é’ˆ</strong>ä¸¤ç§ï¼š</p><ol><li><strong>å¥æŸ„ï¼š</strong> å¦‚æœä½¿ç”¨å¥æŸ„çš„è¯ï¼Œé‚£ä¹ˆ Java å †ä¸­å°†ä¼šåˆ’åˆ†å‡ºä¸€å—å†…å­˜æ¥ä½œä¸ºå¥æŸ„æ± ï¼Œreference ä¸­å­˜å‚¨çš„å°±æ˜¯å¯¹è±¡çš„å¥æŸ„åœ°å€ï¼Œè€Œå¥æŸ„ä¸­åŒ…å«äº†å¯¹è±¡å®ä¾‹æ•°æ®ä¸ç±»å‹æ•°æ®å„è‡ªçš„å…·ä½“åœ°å€ä¿¡æ¯ï¼›</li></ol><div align="center"><p><img src="/cs-way/assets/å¯¹è±¡çš„è®¿é—®å®šä½-ä½¿ç”¨å¥æŸ„.30a5c34a.png" alt="" title=":size=600" loading="lazy"></p></div><ol start="2"><li><strong>ç›´æ¥æŒ‡é’ˆï¼š</strong> å¦‚æœä½¿ç”¨ç›´æ¥æŒ‡é’ˆè®¿é—®ï¼Œé‚£ä¹ˆ Java å †å¯¹è±¡çš„å¸ƒå±€ä¸­å°±å¿…é¡»è€ƒè™‘å¦‚ä½•æ”¾ç½®è®¿é—®ç±»å‹æ•°æ®çš„ç›¸å…³ä¿¡æ¯ï¼Œè€Œ reference ä¸­å­˜å‚¨çš„ç›´æ¥å°±æ˜¯å¯¹è±¡çš„åœ°å€ã€‚</li></ol><div align="center"><p><img src="/cs-way/assets/å¯¹è±¡çš„è®¿é—®å®šä½-ç›´æ¥æŒ‡é’ˆ.91297a49.png" alt="" title=":size=600" loading="lazy"></p></div><p><strong>è¿™ä¸¤ç§å¯¹è±¡è®¿é—®æ–¹å¼å„æœ‰ä¼˜åŠ¿ã€‚ä½¿ç”¨å¥æŸ„æ¥è®¿é—®çš„æœ€å¤§å¥½å¤„æ˜¯ reference ä¸­å­˜å‚¨çš„æ˜¯ç¨³å®šçš„å¥æŸ„åœ°å€ï¼Œåœ¨å¯¹è±¡è¢«ç§»åŠ¨æ—¶åªä¼šæ”¹å˜å¥æŸ„ä¸­çš„å®ä¾‹æ•°æ®æŒ‡é’ˆï¼Œè€Œ reference æœ¬èº«ä¸éœ€è¦ä¿®æ”¹ã€‚ä½¿ç”¨ç›´æ¥æŒ‡é’ˆè®¿é—®æ–¹å¼æœ€å¤§çš„å¥½å¤„å°±æ˜¯é€Ÿåº¦å¿«ï¼Œå®ƒèŠ‚çœäº†ä¸€æ¬¡æŒ‡é’ˆå®šä½çš„æ—¶é—´å¼€é”€ã€‚</strong></p><p>HotSpotä½¿ç”¨ç¬¬äºŒç§æ–¹å¼è¿›è¡Œå¯¹è±¡è®¿é—®</p><h1 id="ä¸‰ã€åƒåœ¾æ”¶é›†" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€åƒåœ¾æ”¶é›†" aria-hidden="true">#</a> ä¸‰ã€åƒåœ¾æ”¶é›†</h1><p>åƒåœ¾æ”¶é›†ä¸»è¦æ˜¯é’ˆå¯¹å †å’Œæ–¹æ³•åŒºè¿›è¡Œã€‚ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆè¿™ä¸‰ä¸ªåŒºåŸŸå±äºçº¿ç¨‹ç§æœ‰çš„ï¼Œåªå­˜åœ¨äºçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œçº¿ç¨‹ç»“æŸä¹‹åå°±ä¼šæ¶ˆå¤±ï¼Œå› æ­¤ä¸éœ€è¦å¯¹è¿™ä¸‰ä¸ªåŒºåŸŸè¿›è¡Œåƒåœ¾å›æ”¶ã€‚</p><h2 id="åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶" tabindex="-1"><a class="header-anchor" href="#åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶" aria-hidden="true">#</a> åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶</h2><h3 id="_1-å¼•ç”¨è®¡æ•°ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#_1-å¼•ç”¨è®¡æ•°ç®—æ³•" aria-hidden="true">#</a> 1. å¼•ç”¨è®¡æ•°ç®—æ³•</h3><p>ä¸ºå¯¹è±¡æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼Œå½“å¯¹è±¡å¢åŠ ä¸€ä¸ªå¼•ç”¨æ—¶è®¡æ•°å™¨åŠ  1ï¼Œå¼•ç”¨å¤±æ•ˆæ—¶è®¡æ•°å™¨å‡ 1ã€‚å¼•ç”¨è®¡æ•°ä¸º 0 çš„å¯¹è±¡å¯è¢«å›æ”¶ã€‚</p><p>åœ¨ä¸¤ä¸ªå¯¹è±¡å‡ºç°å¾ªç¯å¼•ç”¨çš„æƒ…å†µä¸‹ï¼Œæ­¤æ—¶å¼•ç”¨è®¡æ•°å™¨æ°¸è¿œä¸ä¸º 0ï¼Œå¯¼è‡´æ— æ³•å¯¹å®ƒä»¬è¿›è¡Œå›æ”¶ã€‚æ­£æ˜¯å› ä¸ºå¾ªç¯å¼•ç”¨çš„å­˜åœ¨ï¼Œå› æ­¤ Java è™šæ‹Ÿæœºä¸ä½¿ç”¨å¼•ç”¨è®¡æ•°ç®—æ³•ã€‚</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">Object</span> instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Test</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Test</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span>instance <span class="token operator">=</span> b<span class="token punctuation">;</span>
        b<span class="token punctuation">.</span>instance <span class="token operator">=</span> a<span class="token punctuation">;</span>
        a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        b <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œa ä¸ b å¼•ç”¨çš„å¯¹è±¡å®ä¾‹äº’ç›¸æŒæœ‰äº†å¯¹è±¡çš„å¼•ç”¨ï¼Œå› æ­¤å½“æˆ‘ä»¬æŠŠå¯¹ a å¯¹è±¡ä¸ b å¯¹è±¡çš„å¼•ç”¨å»é™¤ä¹‹åï¼Œç”±äºä¸¤ä¸ªå¯¹è±¡è¿˜å­˜åœ¨äº’ç›¸ä¹‹é—´çš„å¼•ç”¨ï¼Œå¯¼è‡´ä¸¤ä¸ª Test å¯¹è±¡æ— æ³•è¢«å›æ”¶ã€‚</p><h3 id="_2-å¯è¾¾æ€§åˆ†æç®—æ³•" tabindex="-1"><a class="header-anchor" href="#_2-å¯è¾¾æ€§åˆ†æç®—æ³•" aria-hidden="true">#</a> 2. å¯è¾¾æ€§åˆ†æç®—æ³•</h3><p>ä»¥ GC Roots ä¸ºèµ·å§‹ç‚¹è¿›è¡Œæœç´¢ï¼Œå¯è¾¾çš„å¯¹è±¡éƒ½æ˜¯å­˜æ´»çš„ï¼Œä¸å¯è¾¾çš„å¯¹è±¡å¯è¢«å›æ”¶ã€‚</p><p>Java è™šæ‹Ÿæœºä½¿ç”¨è¯¥ç®—æ³•æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶ï¼ŒGC Roots ä¸€èˆ¬åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p><ul><li>è™šæ‹Ÿæœºæ ˆä¸­å±€éƒ¨å˜é‡è¡¨ä¸­å¼•ç”¨çš„å¯¹è±¡</li><li>æœ¬åœ°æ–¹æ³•æ ˆä¸­ JNI (å³ä¸€èˆ¬æ‰€è¯´çš„Nativeæ–¹æ³•)ä¸­å¼•ç”¨çš„å¯¹è±¡</li><li>æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡</li><li>æ–¹æ³•åŒºä¸­çš„å¸¸é‡å¼•ç”¨çš„å¯¹è±¡</li></ul><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/83d909d2-3858-4fe1-8ff4-16471db0b180.png" width="350px"></div><br><h3 id="_3-ä¸å¯è¾¾çš„å¯¹è±¡å¹¶é-éæ­»ä¸å¯" tabindex="-1"><a class="header-anchor" href="#_3-ä¸å¯è¾¾çš„å¯¹è±¡å¹¶é-éæ­»ä¸å¯" aria-hidden="true">#</a> 3. ä¸å¯è¾¾çš„å¯¹è±¡å¹¶éâ€œéæ­»ä¸å¯â€</h3><p>å³ä½¿åœ¨å¯è¾¾æ€§åˆ†ææ³•ä¸­ä¸å¯è¾¾çš„å¯¹è±¡ï¼Œä¹Ÿå¹¶éæ˜¯â€œéæ­»ä¸å¯â€çš„ï¼Œè¿™æ—¶å€™å®ƒä»¬æš‚æ—¶å¤„äºâ€œç¼“åˆ‘é˜¶æ®µâ€ï¼Œè¦çœŸæ­£å®£å‘Šä¸€ä¸ªå¯¹è±¡æ­»äº¡ï¼Œè‡³å°‘è¦ç»å†ä¸¤æ¬¡æ ‡è®°è¿‡ç¨‹ï¼›å¯è¾¾æ€§åˆ†ææ³•ä¸­ä¸å¯è¾¾çš„å¯¹è±¡è¢«ç¬¬ä¸€æ¬¡æ ‡è®°å¹¶ä¸”è¿›è¡Œä¸€æ¬¡ç­›é€‰ï¼Œç­›é€‰çš„æ¡ä»¶æ˜¯æ­¤å¯¹è±¡æ˜¯å¦æœ‰å¿…è¦æ‰§è¡Œ finalize æ–¹æ³•ã€‚å½“å¯¹è±¡æ²¡æœ‰è¦†ç›– finalize æ–¹æ³•ï¼Œæˆ– finalize æ–¹æ³•å·²ç»è¢«è™šæ‹Ÿæœºè°ƒç”¨è¿‡æ—¶ï¼Œè™šæ‹Ÿæœºå°†è¿™ä¸¤ç§æƒ…å†µè§†ä¸ºæ²¡æœ‰å¿…è¦æ‰§è¡Œã€‚</p><p>è¢«åˆ¤å®šä¸ºéœ€è¦æ‰§è¡Œ finalize çš„å¯¹è±¡å°†ä¼šè¢«æ”¾åœ¨ä¸€ä¸ªF-Queueçš„é˜Ÿåˆ—ä¸­è¿›è¡Œç¬¬äºŒæ¬¡æ ‡è®°ï¼›åœ¨ finalize() ä¸­æ‹¯æ•‘è‡ªå·±é™¤éè¿™ä¸ªå¯¹è±¡ä¸å¼•ç”¨é“¾ä¸Šçš„ä»»ä½•ä¸€ä¸ªå¯¹è±¡å»ºç«‹å…³è”(è­¬å¦‚æŠŠè‡ªå·±thiså…³é”®å­—èµ‹å€¼ç»™æŸä¸ªç±»å˜é‡æˆ–å¯¹è±¡çš„æˆå‘˜å˜é‡)ï¼Œå¦åˆ™å°±ä¼šè¢«çœŸçš„å›æ”¶ã€‚</p><h3 id="_4-finalize" tabindex="-1"><a class="header-anchor" href="#_4-finalize" aria-hidden="true">#</a> 4. finalize()</h3><p>ç±»ä¼¼ C++ çš„ææ„å‡½æ•°ï¼Œç”¨äºå…³é—­å¤–éƒ¨èµ„æº(è‡ªæˆ‘å®‰æ…°)ã€‚ä½†æ˜¯ try-finally ç­‰æ–¹å¼å¯ä»¥åšå¾—æ›´å¥½ï¼Œå¹¶ä¸”è¯¥æ–¹æ³•è¿è¡Œä»£ä»·å¾ˆé«˜ï¼Œä¸ç¡®å®šæ€§å¤§ï¼Œæ— æ³•ä¿è¯å„ä¸ªå¯¹è±¡çš„è°ƒç”¨é¡ºåºï¼Œå› æ­¤æœ€å¥½ä¸è¦ä½¿ç”¨ã€‚</p><p>å½“ä¸€ä¸ªå¯¹è±¡å¯è¢«å›æ”¶æ—¶ï¼Œå¦‚æœéœ€è¦æ‰§è¡Œè¯¥å¯¹è±¡çš„ finalize() æ–¹æ³•ï¼Œé‚£ä¹ˆå°±æœ‰å¯èƒ½åœ¨è¯¥æ–¹æ³•ä¸­è®©å¯¹è±¡é‡æ–°è¢«å¼•ç”¨ï¼Œä»è€Œå®ç°è‡ªæ•‘ã€‚è‡ªæ•‘åªèƒ½è¿›è¡Œä¸€æ¬¡ï¼Œå¦‚æœå›æ”¶çš„å¯¹è±¡ä¹‹å‰è°ƒç”¨äº† finalize() æ–¹æ³•è‡ªæ•‘ï¼Œåé¢å›æ”¶æ—¶ä¸ä¼šå†è°ƒç”¨è¯¥æ–¹æ³•ã€‚</p><h3 id="_5-æ–¹æ³•åŒºçš„å›æ”¶" tabindex="-1"><a class="header-anchor" href="#_5-æ–¹æ³•åŒºçš„å›æ”¶" aria-hidden="true">#</a> 5. æ–¹æ³•åŒºçš„å›æ”¶</h3><p>å› ä¸ºæ–¹æ³•åŒºä¸»è¦å­˜æ”¾æ°¸ä¹…ä»£å¯¹è±¡ï¼Œè€Œæ°¸ä¹…ä»£å¯¹è±¡çš„å›æ”¶ç‡æ¯”æ–°ç”Ÿä»£ä½å¾ˆå¤šï¼Œæ‰€ä»¥åœ¨æ–¹æ³•åŒºä¸Šè¿›è¡Œå›æ”¶æ€§ä»·æ¯”ä¸é«˜ã€‚</p><p>ä¸»è¦æ˜¯å¯¹å¸¸é‡æ± çš„å›æ”¶å’Œå¯¹ç±»çš„å¸è½½ã€‚</p><p>ä¸ºäº†é¿å…å†…å­˜æº¢å‡ºï¼Œåœ¨å¤§é‡ä½¿ç”¨åå°„å’ŒåŠ¨æ€ä»£ç†çš„åœºæ™¯éƒ½éœ€è¦è™šæ‹Ÿæœºå…·å¤‡ç±»å¸è½½åŠŸèƒ½ã€‚</p><h4 id="å¸¸é‡çš„å›æ”¶" tabindex="-1"><a class="header-anchor" href="#å¸¸é‡çš„å›æ”¶" aria-hidden="true">#</a> å¸¸é‡çš„å›æ”¶</h4><p>è¿è¡Œæ—¶å¸¸é‡æ± ä¸»è¦å›æ”¶çš„æ˜¯åºŸå¼ƒçš„å¸¸é‡ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¸¸é‡æ˜¯åºŸå¼ƒå¸¸é‡å‘¢ï¼Ÿ</p><p>å¸¸é‡æ± ä¸­å­—é¢é‡çš„å›æ”¶ä¸ºä¾‹ï¼Œå‡å¦‚åœ¨å¸¸é‡æ± ä¸­å­˜åœ¨å­—ç¬¦ä¸² &quot;abc&quot;ï¼Œå¦‚æœå½“å‰æ²¡æœ‰ä»»ä½• String å¯¹è±¡å¼•ç”¨è¯¥å­—ç¬¦ä¸²å¸¸é‡çš„è¯ï¼Œå°±è¯´æ˜å¸¸é‡ &quot;abc&quot; å°±æ˜¯åºŸå¼ƒå¸¸é‡ï¼Œå¦‚æœè¿™æ—¶å‘ç”Ÿå†…å­˜å›æ”¶çš„è¯è€Œä¸”æœ‰å¿…è¦çš„è¯ï¼Œ&quot;abc&quot; å°±ä¼šè¢«ç³»ç»Ÿæ¸…ç†å‡ºå¸¸é‡æ± ã€‚</p><p>å¸¸é‡æ± ä¸­å…¶ä»–ç±»(æ¥å£)ã€æ–¹æ³•ã€å­—æ®µçš„ç¬¦å·å¼•ç”¨ä¹Ÿç±»ä¼¼ã€‚</p><h4 id="æ— ç”¨ç±»çš„å›æ”¶" tabindex="-1"><a class="header-anchor" href="#æ— ç”¨ç±»çš„å›æ”¶" aria-hidden="true">#</a> æ— ç”¨ç±»çš„å›æ”¶</h4><p>ç±»çš„å¸è½½æ¡ä»¶å¾ˆå¤šï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶(ä»…ä»…å¯ä»¥è€Œä¸æ˜¯å¿…ç„¶å›æ”¶)ï¼Œå¹¶ä¸”æ»¡è¶³äº†æ¡ä»¶ä¹Ÿä¸ä¸€å®šä¼šè¢«å¸è½½ï¼š</p><ul><li>è¯¥ç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç»è¢«å›æ”¶ï¼Œæ­¤æ—¶å †ä¸­ä¸å­˜åœ¨è¯¥ç±»çš„ä»»ä½•å®ä¾‹ã€‚</li><li>åŠ è½½è¯¥ç±»çš„ ClassLoader å·²ç»è¢«å›æ”¶ã€‚</li><li>è¯¥ç±»å¯¹åº”çš„ Class å¯¹è±¡æ²¡æœ‰åœ¨ä»»ä½•åœ°æ–¹è¢«å¼•ç”¨ï¼Œä¹Ÿå°±æ— æ³•åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡åå°„è®¿é—®è¯¥ç±»æ–¹æ³•ã€‚</li></ul><p>åœ¨å¤§é‡ä½¿ç”¨åå°„ã€åŠ¨æ€ä»£ç†ã€CGLIBç­‰ByteCodeæ¡†æ¶ã€åŠ¨æ€ç”ŸæˆJSPä»¥åŠOSGIè¿™ç±»é¢‘ç¹å®šä¹‰ClassLoaderçš„åœºæ™¯éœ€è¦è™šæ‹Ÿæœºå…·å¤‡ç±»å¸è½½åŠŸèƒ½ï¼Œä¿è¯æ–¹æ³•åŒº(æ°¸ä¹…ä»£)ä¸ä¼šæº¢å‡º</p><h2 id="å¼•ç”¨ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å¼•ç”¨ç±»å‹" aria-hidden="true">#</a> å¼•ç”¨ç±»å‹</h2><p>æ— è®ºæ˜¯é€šè¿‡å¼•ç”¨è®¡æ•°ç®—æ³•åˆ¤æ–­å¯¹è±¡çš„å¼•ç”¨æ•°é‡ï¼Œè¿˜æ˜¯é€šè¿‡å¯è¾¾æ€§åˆ†æç®—æ³•åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯è¾¾ï¼Œåˆ¤å®šå¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶éƒ½ä¸å¼•ç”¨æœ‰å…³ã€‚</p><p>Java æä¾›äº†å››ç§å¼ºåº¦ä¸åŒçš„å¼•ç”¨ç±»å‹ã€‚</p><h3 id="_1-å¼ºå¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-å¼ºå¼•ç”¨" aria-hidden="true">#</a> 1. å¼ºå¼•ç”¨</h3><p>è¢«å¼ºå¼•ç”¨å…³è”çš„å¯¹è±¡ä¸ä¼šè¢«å›æ”¶ã€‚</p><p>ä½¿ç”¨ new ä¸€ä¸ªæ–°å¯¹è±¡çš„æ–¹å¼æ¥åˆ›å»ºå¼ºå¼•ç”¨ã€‚</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-è½¯å¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#_2-è½¯å¼•ç”¨" aria-hidden="true">#</a> 2. è½¯å¼•ç”¨</h3><p>æè¿°ä¸€äº›è¿˜æœ‰ç”¨ä½†å¹¶éå¿…éœ€çš„å¯¹è±¡ è¢«è½¯å¼•ç”¨å…³è”çš„å¯¹è±¡åªæœ‰åœ¨å†…å­˜ä¸å¤Ÿçš„æƒ…å†µä¸‹æ‰ä¼šè¢«å›æ”¶ã€‚</p><p>ä½¿ç”¨ SoftReference ç±»æ¥åˆ›å»ºè½¯å¼•ç”¨ã€‚</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SoftReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> sf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SoftReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
obj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token comment">// ä½¿å¯¹è±¡åªè¢«è½¯å¼•ç”¨å…³è”</span>
</code></pre></div><p>è½¯å¼•ç”¨å¯ä»¥å’Œä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—(ReferenceQueue)è”åˆä½¿ç”¨ï¼Œå¦‚æœè½¯å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶ï¼ŒJAVA è™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªè½¯å¼•ç”¨åŠ å…¥åˆ°ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚</p><h3 id="_3-å¼±å¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-å¼±å¼•ç”¨" aria-hidden="true">#</a> 3. å¼±å¼•ç”¨</h3><p>æè¿°éå¿…éœ€çš„å¯¹è±¡ è¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ä¸€å®šä¼šè¢«å›æ”¶ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒåªèƒ½å­˜æ´»åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶å‘ç”Ÿä¹‹å‰ã€‚</p><p>å¼±å¼•ç”¨ä¸è½¯å¼•ç”¨çš„åŒºåˆ«åœ¨äºï¼šåªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡æ‹¥æœ‰æ›´çŸ­æš‚çš„ç”Ÿå‘½å‘¨æœŸã€‚åœ¨åƒåœ¾å›æ”¶å™¨çº¿ç¨‹æ‰«æå®ƒæ‰€ç®¡è¾–çš„å†…å­˜åŒºåŸŸçš„è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‘ç°äº†åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸ç®¡å½“å‰å†…å­˜ç©ºé—´è¶³å¤Ÿä¸å¦ï¼Œéƒ½ä¼šå›æ”¶å®ƒçš„å†…å­˜ã€‚ä¸è¿‡ï¼Œç”±äºåƒåœ¾å›æ”¶å™¨æ˜¯ä¸€ä¸ªä¼˜å…ˆçº§å¾ˆä½çš„çº¿ç¨‹ï¼Œ å› æ­¤ä¸ä¸€å®šä¼šå¾ˆå¿«å‘ç°é‚£äº›åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ã€‚</p><p>ä½¿ç”¨ WeakReference ç±»æ¥åˆ›å»ºå¼±å¼•ç”¨ã€‚</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">WeakReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> wf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
obj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><p>å¼±å¼•ç”¨å¯ä»¥å’Œä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—(ReferenceQueue)è”åˆä½¿ç”¨ï¼Œå¦‚æœå¼±å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶ï¼ŒJava è™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªå¼±å¼•ç”¨åŠ å…¥åˆ°ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚</p><h3 id="_4-è™šå¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#_4-è™šå¼•ç”¨" aria-hidden="true">#</a> 4. è™šå¼•ç”¨</h3><p>åˆç§°ä¸ºå¹½çµå¼•ç”¨æˆ–è€…å¹»å½±å¼•ç”¨ï¼Œä¸€ä¸ªå¯¹è±¡æ˜¯å¦æœ‰è™šå¼•ç”¨çš„å­˜åœ¨ï¼Œä¸ä¼šå¯¹å…¶ç”Ÿå­˜æ—¶é—´é€ æˆå½±å“ï¼Œä¹Ÿæ— æ³•é€šè¿‡è™šå¼•ç”¨å¾—åˆ°ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>ä¸ºä¸€ä¸ªå¯¹è±¡è®¾ç½®è™šå¼•ç”¨çš„å”¯ä¸€ç›®çš„æ˜¯èƒ½åœ¨è¿™ä¸ªå¯¹è±¡è¢«å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚</p><p>ä½¿ç”¨ PhantomReference æ¥åˆ›å»ºè™šå¼•ç”¨ã€‚</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PhantomReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> pf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PhantomReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>è™šå¼•ç”¨ä¸»è¦ç”¨æ¥è·Ÿè¸ªå¯¹è±¡è¢«åƒåœ¾å›æ”¶çš„æ´»åŠ¨</strong>ã€‚</p><p><strong>è™šå¼•ç”¨ä¸è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„ä¸€ä¸ªåŒºåˆ«åœ¨äºï¼š</strong> è™šå¼•ç”¨å¿…é¡»å’Œå¼•ç”¨é˜Ÿåˆ—(ReferenceQueue)è”åˆä½¿ç”¨ã€‚å½“åƒåœ¾å›æ”¶å™¨å‡†å¤‡å›æ”¶ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¦‚æœå‘ç°å®ƒè¿˜æœ‰è™šå¼•ç”¨ï¼Œå°±ä¼šåœ¨å›æ”¶å¯¹è±¡çš„å†…å­˜ä¹‹å‰ï¼ŒæŠŠè¿™ä¸ªè™šå¼•ç”¨åŠ å…¥åˆ°ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚ç¨‹åºå¯ä»¥é€šè¿‡åˆ¤æ–­å¼•ç”¨é˜Ÿåˆ—ä¸­æ˜¯å¦å·²ç»åŠ å…¥äº†è™šå¼•ç”¨ï¼Œæ¥äº†è§£è¢«å¼•ç”¨çš„å¯¹è±¡æ˜¯å¦å°†è¦è¢«åƒåœ¾å›æ”¶ã€‚ç¨‹åºå¦‚æœå‘ç°æŸä¸ªè™šå¼•ç”¨å·²ç»è¢«åŠ å…¥åˆ°å¼•ç”¨é˜Ÿåˆ—ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨æ‰€å¼•ç”¨çš„å¯¹è±¡çš„å†…å­˜è¢«å›æ”¶ä¹‹å‰é‡‡å–å¿…è¦çš„è¡ŒåŠ¨ã€‚</p><p>ç‰¹åˆ«æ³¨æ„ï¼Œåœ¨ç¨‹åºè®¾è®¡ä¸­ä¸€èˆ¬å¾ˆå°‘ä½¿ç”¨å¼±å¼•ç”¨ä¸è™šå¼•ç”¨ï¼Œä½¿ç”¨è½¯å¼•ç”¨çš„æƒ…å†µè¾ƒå¤šï¼Œè¿™æ˜¯å› ä¸º<strong>è½¯å¼•ç”¨å¯ä»¥åŠ é€Ÿ JVM å¯¹åƒåœ¾å†…å­˜çš„å›æ”¶é€Ÿåº¦ï¼Œå¯ä»¥ç»´æŠ¤ç³»ç»Ÿçš„è¿è¡Œå®‰å…¨ï¼Œé˜²æ­¢å†…å­˜æº¢å‡º(OutOfMemory)ç­‰é—®é¢˜çš„äº§ç”Ÿ</strong>ã€‚</p><h2 id="åƒåœ¾æ”¶é›†ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#åƒåœ¾æ”¶é›†ç®—æ³•" aria-hidden="true">#</a> åƒåœ¾æ”¶é›†ç®—æ³•</h2><p>åƒåœ¾æ”¶é›†ç®—æ³•çš„å®ç°æ¶‰åŠå¤§é‡ç¨‹åºç»†èŠ‚ï¼Œå„ä¸ªå¹³å°è™šæ‹Ÿæœºæ“ä½œå†…å­˜æ–¹æ³•å„ä¸ç›¸åŒ</p><h3 id="_1-æ ‡è®°-æ¸…é™¤" tabindex="-1"><a class="header-anchor" href="#_1-æ ‡è®°-æ¸…é™¤" aria-hidden="true">#</a> 1. æ ‡è®° - æ¸…é™¤</h3><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/005b481b-502b-4e3f-985d-d043c2b330aa.png" width="400px"></div><br><p>åœ¨æ ‡è®°é˜¶æ®µï¼Œç¨‹åºä¼šæ£€æŸ¥æ¯ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ´»åŠ¨å¯¹è±¡ï¼Œå¦‚æœæ˜¯æ´»åŠ¨å¯¹è±¡ï¼Œåˆ™ç¨‹åºä¼šåœ¨å¯¹è±¡å¤´éƒ¨æ‰“ä¸Šæ ‡è®°ã€‚</p><p>åœ¨æ¸…é™¤é˜¶æ®µï¼Œä¼šè¿›è¡Œå¯¹è±¡å›æ”¶å¹¶å–æ¶ˆæ ‡å¿—ä½ï¼Œå¦å¤–ï¼Œè¿˜ä¼šåˆ¤æ–­å›æ”¶åçš„åˆ†å—ä¸å‰ä¸€ä¸ªç©ºé—²åˆ†å—æ˜¯å¦è¿ç»­ï¼Œè‹¥è¿ç»­ï¼Œä¼šåˆå¹¶è¿™ä¸¤ä¸ªåˆ†å—ã€‚å›æ”¶å¯¹è±¡å°±æ˜¯æŠŠå¯¹è±¡ä½œä¸ºåˆ†å—ï¼Œè¿æ¥åˆ°è¢«ç§°ä¸º â€œç©ºé—²é“¾è¡¨â€ çš„å•å‘é“¾è¡¨ï¼Œä¹‹åè¿›è¡Œåˆ†é…æ—¶åªéœ€è¦éå†è¿™ä¸ªç©ºé—²é“¾è¡¨ï¼Œå°±å¯ä»¥æ‰¾åˆ°åˆ†å—ã€‚</p><p>åœ¨åˆ†é…æ—¶ï¼Œç¨‹åºä¼šæœç´¢ç©ºé—²é“¾è¡¨å¯»æ‰¾ç©ºé—´å¤§äºç­‰äºæ–°å¯¹è±¡å¤§å° size çš„å— blockã€‚å¦‚æœå®ƒæ‰¾åˆ°çš„å—ç­‰äº sizeï¼Œä¼šç›´æ¥è¿”å›è¿™ä¸ªåˆ†å—ï¼›å¦‚æœæ‰¾åˆ°çš„å—å¤§äº sizeï¼Œä¼šå°†å—åˆ†å‰²æˆå¤§å°ä¸º size ä¸ (block - size) çš„ä¸¤éƒ¨åˆ†ï¼Œè¿”å›å¤§å°ä¸º size çš„åˆ†å—ï¼Œå¹¶æŠŠå¤§å°ä¸º (block - size) çš„å—è¿”å›ç»™ç©ºé—²é“¾è¡¨ã€‚</p><p>ä¸è¶³ï¼š</p><ul><li>æ ‡è®°å’Œæ¸…é™¤è¿‡ç¨‹æ•ˆç‡éƒ½ä¸é«˜ï¼›</li><li>ä¼šäº§ç”Ÿå¤§é‡ä¸è¿ç»­çš„å†…å­˜ç¢ç‰‡ï¼Œå¯¼è‡´æ— æ³•ç»™å¤§å¯¹è±¡åˆ†é…å†…å­˜ã€‚</li></ul><h3 id="_2-æ ‡è®°-æ•´ç†" tabindex="-1"><a class="header-anchor" href="#_2-æ ‡è®°-æ•´ç†" aria-hidden="true">#</a> 2. æ ‡è®° - æ•´ç†</h3><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/ccd773a5-ad38-4022-895c-7ac318f31437.png" width="400px"></div><br><p>è®©æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡éƒ½å‘ä¸€ç«¯ç§»åŠ¨ï¼Œç„¶åç›´æ¥æ¸…ç†æ‰ç«¯è¾¹ç•Œä»¥å¤–çš„å†…å­˜ã€‚</p><p>ä¼˜ç‚¹:</p><ul><li>ä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡</li></ul><p>ä¸è¶³:</p><ul><li>éœ€è¦ç§»åŠ¨å¤§é‡å¯¹è±¡ï¼Œå¤„ç†æ•ˆç‡æ¯”è¾ƒä½ã€‚</li></ul><h3 id="_3-å¤åˆ¶" tabindex="-1"><a class="header-anchor" href="#_3-å¤åˆ¶" aria-hidden="true">#</a> 3. å¤åˆ¶</h3><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/b2b77b9e-958c-4016-8ae5-9c6edd83871e.png" width="400px"></div><br><p>å°†å†…å­˜åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸¤å—ï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­ä¸€å—ï¼Œå½“è¿™ä¸€å—å†…å­˜ç”¨å®Œäº†å°±å°†è¿˜å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å—ä¸Šé¢ï¼Œç„¶åå†æŠŠä½¿ç”¨è¿‡çš„å†…å­˜ç©ºé—´è¿›è¡Œä¸€æ¬¡æ¸…ç†ã€‚</p><p>ä¸»è¦ä¸è¶³æ˜¯åªä½¿ç”¨äº†å†…å­˜çš„ä¸€åŠã€‚</p><p>ç°åœ¨çš„å•†ä¸šè™šæ‹Ÿæœºéƒ½é‡‡ç”¨è¿™ç§æ”¶é›†ç®—æ³•å›æ”¶æ–°ç”Ÿä»£ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸¤å—ï¼Œè€Œæ˜¯ä¸€å—è¾ƒå¤§çš„ Eden ç©ºé—´å’Œä¸¤å—è¾ƒå°çš„ Survivor ç©ºé—´ï¼Œæ¯æ¬¡ä½¿ç”¨ Eden å’Œå…¶ä¸­ä¸€å— Survivorã€‚åœ¨å›æ”¶æ—¶ï¼Œå°† Eden å’Œ Survivor ä¸­è¿˜å­˜æ´»ç€çš„å¯¹è±¡å…¨éƒ¨å¤åˆ¶åˆ°å¦ä¸€å— Survivor ä¸Šï¼Œæœ€åæ¸…ç† Eden å’Œä½¿ç”¨è¿‡çš„é‚£ä¸€å— Survivorã€‚</p><p>HotSpot è™šæ‹Ÿæœºçš„ Eden å’Œ Survivor å¤§å°æ¯”ä¾‹é»˜è®¤ä¸º 8:1ï¼Œä¿è¯äº†å†…å­˜çš„åˆ©ç”¨ç‡è¾¾åˆ° 90%ã€‚å¦‚æœæ¯æ¬¡å›æ”¶æœ‰å¤šäº 10% çš„å¯¹è±¡å­˜æ´»ï¼Œé‚£ä¹ˆä¸€å— Survivor å°±ä¸å¤Ÿç”¨äº†ï¼Œæ­¤æ—¶éœ€è¦ä¾èµ–äºè€å¹´ä»£è¿›è¡Œç©ºé—´åˆ†é…æ‹…ä¿ï¼Œä¹Ÿå°±æ˜¯å€Ÿç”¨è€å¹´ä»£çš„ç©ºé—´å­˜å‚¨æ”¾ä¸ä¸‹çš„å¯¹è±¡ã€‚</p><h3 id="_4-åˆ†ä»£æ”¶é›†" tabindex="-1"><a class="header-anchor" href="#_4-åˆ†ä»£æ”¶é›†" aria-hidden="true">#</a> 4. åˆ†ä»£æ”¶é›†</h3><p>HotSpot ä¸ºä»€ä¹ˆè¦åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Ÿ</p><p>å½“å‰è™šæ‹Ÿæœºçš„åƒåœ¾æ”¶é›†éƒ½é‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œè¿™ç§ç®—æ³•æ²¡æœ‰ä»€ä¹ˆæ–°çš„æ€æƒ³ï¼Œåªæ˜¯æ ¹æ®å¯¹è±¡å­˜æ´»å‘¨æœŸçš„ä¸åŒå°†å†…å­˜åˆ†ä¸ºå‡ å—ã€‚ä¸€èˆ¬å°† java å †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„åƒåœ¾æ”¶é›†ç®—æ³•ã€‚</p><p><strong>æ¯”å¦‚åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œæ¯æ¬¡æ”¶é›†éƒ½ä¼šæœ‰å¤§é‡å¯¹è±¡æ­»å»ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©å¤åˆ¶ç®—æ³•ï¼Œåªéœ€è¦ä»˜å‡ºå°‘é‡å¯¹è±¡çš„å¤åˆ¶æˆæœ¬å°±å¯ä»¥å®Œæˆæ¯æ¬¡åƒåœ¾æ”¶é›†ã€‚è€Œè€å¹´ä»£çš„å¯¹è±¡å­˜æ´»å‡ ç‡æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œè€Œä¸”æ²¡æœ‰é¢å¤–çš„ç©ºé—´å¯¹å®ƒè¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»é€‰æ‹©â€œæ ‡è®°-æ¸…é™¤â€æˆ–â€œæ ‡è®°-æ•´ç†â€ç®—æ³•è¿›è¡Œåƒåœ¾æ”¶é›†ã€‚</strong></p><p>ç°åœ¨çš„å•†ä¸šè™šæ‹Ÿæœºé‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œå®ƒæ ¹æ®å¯¹è±¡å­˜æ´»å‘¨æœŸå°†å†…å­˜åˆ’åˆ†ä¸ºå‡ å—ï¼Œä¸åŒå—é‡‡ç”¨é€‚å½“çš„æ”¶é›†ç®—æ³•ã€‚</p><p>ä¸€èˆ¬å°†å †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ã€‚</p><ul><li>æ–°ç”Ÿä»£ä½¿ç”¨ï¼šå¤åˆ¶ç®—æ³•</li><li>è€å¹´ä»£ä½¿ç”¨ï¼šæ ‡è®° - æ¸…é™¤ æˆ–è€… æ ‡è®° - æ•´ç† ç®—æ³•</li></ul><h2 id="åƒåœ¾æ”¶é›†å™¨" tabindex="-1"><a class="header-anchor" href="#åƒåœ¾æ”¶é›†å™¨" aria-hidden="true">#</a> åƒåœ¾æ”¶é›†å™¨</h2><p>åƒåœ¾æ”¶é›†ç®—æ³•æ˜¯å†…å­˜å›æ”¶çš„æ–¹æ³•è®ºï¼Œåƒåœ¾æ”¶é›†å™¨æ˜¯å†…å­˜å›æ”¶çš„å…·ä½“å®ç°ã€‚</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/c625baa0-dde6-449e-93df-c3a67f2f430f.jpg" width=""></div><br><p>ä»¥ä¸Šæ˜¯ HotSpot è™šæ‹Ÿæœºä¸­çš„ 7 ä¸ªåƒåœ¾æ”¶é›†å™¨ï¼Œè¿çº¿è¡¨ç¤ºåƒåœ¾æ”¶é›†å™¨å¯ä»¥é…åˆä½¿ç”¨ã€‚</p><ul><li>å•çº¿ç¨‹ä¸å¤šçº¿ç¨‹ï¼šå•çº¿ç¨‹æŒ‡çš„æ˜¯åƒåœ¾æ”¶é›†å™¨åªä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œå¤šçº¿ç¨‹ä½¿ç”¨å¤šä¸ªçº¿ç¨‹ï¼›</li><li>ä¸²è¡Œä¸å¹¶è¡Œï¼šä¸²è¡ŒæŒ‡çš„æ˜¯åƒåœ¾æ”¶é›†å™¨ä¸ç”¨æˆ·ç¨‹åºäº¤æ›¿æ‰§è¡Œï¼Œè¿™æ„å‘³ç€åœ¨æ‰§è¡Œåƒåœ¾æ”¶é›†çš„æ—¶å€™éœ€è¦åœé¡¿ç”¨æˆ·ç¨‹åºï¼›å¹¶è¡ŒæŒ‡çš„æ˜¯åƒåœ¾æ”¶é›†å™¨å’Œç”¨æˆ·ç¨‹åºåŒæ—¶æ‰§è¡Œã€‚é™¤äº† CMS å’Œ G1 ä¹‹å¤–ï¼Œå…¶å®ƒåƒåœ¾æ”¶é›†å™¨éƒ½æ˜¯ä»¥ä¸²è¡Œçš„æ–¹å¼æ‰§è¡Œã€‚</li></ul><h3 id="_1-serial-æ”¶é›†å™¨" tabindex="-1"><a class="header-anchor" href="#_1-serial-æ”¶é›†å™¨" aria-hidden="true">#</a> 1. Serial æ”¶é›†å™¨</h3><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/22fda4ae-4dd5-489d-ab10-9ebfdad22ae0.jpg" width=""></div><br><p>Serial ç¿»è¯‘ä¸ºä¸²è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¥ä¸²è¡Œçš„æ–¹å¼æ‰§è¡Œã€‚</p><p>å®ƒæ˜¯å•çº¿ç¨‹çš„æ”¶é›†å™¨ï¼Œåªä¼šä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œåƒåœ¾æ”¶é›†å·¥ä½œã€‚å®ƒçš„ <strong>â€œå•çº¿ç¨‹â€</strong> çš„æ„ä¹‰ä¸ä»…ä»…æ„å‘³ç€å®ƒåªä¼šä½¿ç”¨ä¸€æ¡åƒåœ¾æ”¶é›†çº¿ç¨‹å»å®Œæˆåƒåœ¾æ”¶é›†å·¥ä½œï¼Œæ›´é‡è¦çš„æ˜¯å®ƒåœ¨è¿›è¡Œåƒåœ¾æ”¶é›†å·¥ä½œçš„æ—¶å€™å¿…é¡»æš‚åœå…¶ä»–æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹( <strong>&quot;Stop The World&quot;</strong> )ï¼Œç›´åˆ°å®ƒæ”¶é›†ç»“æŸã€‚</p><p><strong>æ–°ç”Ÿä»£é‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼Œè€å¹´ä»£é‡‡ç”¨æ ‡è®°-æ•´ç†ç®—æ³•ã€‚</strong></p><p>å®ƒçš„ä¼˜ç‚¹æ˜¯ç®€å•é«˜æ•ˆï¼Œåœ¨å•ä¸ª CPU ç¯å¢ƒä¸‹ï¼Œç”±äºæ²¡æœ‰çº¿ç¨‹äº¤äº’çš„å¼€é”€ï¼Œå› æ­¤æ‹¥æœ‰æœ€é«˜çš„å•çº¿ç¨‹æ”¶é›†æ•ˆç‡ã€‚</p><p>å®ƒæ˜¯ Client åœºæ™¯ä¸‹çš„é»˜è®¤æ–°ç”Ÿä»£æ”¶é›†å™¨ï¼Œå› ä¸ºåœ¨è¯¥åœºæ™¯ä¸‹å†…å­˜ä¸€èˆ¬æ¥è¯´ä¸ä¼šå¾ˆå¤§ã€‚å®ƒæ”¶é›†ä¸€ä¸¤ç™¾å…†åƒåœ¾çš„åœé¡¿æ—¶é—´å¯ä»¥æ§åˆ¶åœ¨ä¸€ç™¾å¤šæ¯«ç§’ä»¥å†…ï¼Œåªè¦ä¸æ˜¯å¤ªé¢‘ç¹ï¼Œè¿™ç‚¹åœé¡¿æ—¶é—´æ˜¯å¯ä»¥æ¥å—çš„ã€‚</p><h3 id="_2-parnew-æ”¶é›†å™¨" tabindex="-1"><a class="header-anchor" href="#_2-parnew-æ”¶é›†å™¨" aria-hidden="true">#</a> 2. ParNew æ”¶é›†å™¨</h3><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/81538cd5-1bcf-4e31-86e5-e198df1e013b.jpg" width=""></div><br><p>å®ƒæ˜¯ Serial æ”¶é›†å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ã€‚é™¤äº†ä½¿ç”¨å¤šçº¿ç¨‹è¿›è¡Œåƒåœ¾æ”¶é›†å¤–ï¼Œå…¶ä½™è¡Œä¸º(æ§åˆ¶å‚æ•°ã€æ”¶é›†ç®—æ³•ã€å›æ”¶ç­–ç•¥ç­‰ç­‰)å’Œ Serial æ”¶é›†å™¨å®Œå…¨ä¸€æ ·ã€‚</p><p><strong>æ–°ç”Ÿä»£é‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼Œè€å¹´ä»£é‡‡ç”¨æ ‡è®°-æ•´ç†ç®—æ³•ã€‚</strong></p><p>å®ƒæ˜¯ Server åœºæ™¯ä¸‹é¦–é€‰çš„æ–°ç”Ÿä»£æ”¶é›†å™¨ï¼Œé™¤äº†æ€§èƒ½åŸå› å¤–ï¼Œä¸»è¦æ˜¯å› ä¸ºé™¤äº† Serial æ”¶é›†å™¨ï¼Œåªæœ‰å®ƒèƒ½ä¸ CMS æ”¶é›†å™¨é…åˆä½¿ç”¨(CMSæ”¶é›†å™¨çš„é»˜è®¤æ­é…æ–°ç”Ÿä»£æ”¶é›†å™¨)ã€‚</p><p><strong>å¹¶è¡Œå’Œå¹¶å‘æ¦‚å¿µè¡¥å……ï¼š</strong></p><ul><li><p><strong>å¹¶è¡Œ(Parallel)</strong> ï¼šæŒ‡å¤šæ¡åƒåœ¾æ”¶é›†çº¿ç¨‹å¹¶è¡Œå·¥ä½œï¼Œä½†æ­¤æ—¶ç”¨æˆ·çº¿ç¨‹ä»ç„¶å¤„äºç­‰å¾…çŠ¶æ€ã€‚</p></li><li><p><strong>å¹¶å‘(Concurrent)</strong>ï¼šæŒ‡ç”¨æˆ·çº¿ç¨‹ä¸åƒåœ¾æ”¶é›†çº¿ç¨‹åŒæ—¶æ‰§è¡Œ(ä½†ä¸ä¸€å®šæ˜¯å¹¶è¡Œï¼Œå¯èƒ½ä¼šäº¤æ›¿æ‰§è¡Œ)ï¼Œç”¨æˆ·ç¨‹åºåœ¨ç»§ç»­è¿è¡Œï¼Œè€Œåƒåœ¾æ”¶é›†å™¨è¿è¡Œåœ¨å¦ä¸€ä¸ª CPU ä¸Šã€‚</p></li></ul><p>ParNew æ”¶é›†å™¨åœ¨å•CPUç¯å¢ƒä¸­ç»ä¸ä¼šæœ‰æ¯”Serielæ”¶é›†å™¨æ›´å¥½çš„æ•ˆæœï¼Œ</p><h3 id="_3-parallel-scavenge-æ”¶é›†å™¨" tabindex="-1"><a class="header-anchor" href="#_3-parallel-scavenge-æ”¶é›†å™¨" aria-hidden="true">#</a> 3. Parallel Scavenge æ”¶é›†å™¨</h3><p>ä¸ ParNew ä¸€æ ·æ˜¯å¹¶è¡Œçš„å¤šçº¿ç¨‹æ”¶é›†å™¨ã€‚</p><p><strong>æ–°ç”Ÿä»£é‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼Œè€å¹´ä»£é‡‡ç”¨æ ‡è®°-æ•´ç†ç®—æ³•ã€‚</strong></p><p>å…¶å®ƒæ”¶é›†å™¨ç›®æ ‡æ˜¯å°½å¯èƒ½ç¼©çŸ­åƒåœ¾æ”¶é›†æ—¶ç”¨æˆ·çº¿ç¨‹çš„åœé¡¿æ—¶é—´ï¼Œè€Œå®ƒçš„ç›®æ ‡æ˜¯è¾¾åˆ°ä¸€ä¸ªå¯æ§åˆ¶çš„ååé‡ï¼Œå› æ­¤å®ƒè¢«ç§°ä¸ºâ€œååé‡ä¼˜å…ˆâ€æ”¶é›†å™¨ã€‚è¿™é‡Œçš„ååé‡æŒ‡ CPU ç”¨äºè¿è¡Œç”¨æˆ·ç¨‹åºçš„æ—¶é—´å æ€»æ—¶é—´çš„æ¯”å€¼ã€‚</p><p>åœé¡¿æ—¶é—´è¶ŠçŸ­å°±è¶Šé€‚åˆéœ€è¦ä¸ç”¨æˆ·äº¤äº’çš„ç¨‹åºï¼Œè‰¯å¥½çš„å“åº”é€Ÿåº¦èƒ½æå‡ç”¨æˆ·ä½“éªŒã€‚è€Œé«˜ååé‡åˆ™å¯ä»¥é«˜æ•ˆç‡åœ°åˆ©ç”¨ CPU æ—¶é—´ï¼Œå°½å¿«å®Œæˆç¨‹åºçš„è¿ç®—ä»»åŠ¡ï¼Œé€‚åˆåœ¨åå°è¿ç®—è€Œä¸éœ€è¦å¤ªå¤šäº¤äº’çš„ä»»åŠ¡ã€‚</p><p>ç¼©çŸ­åœé¡¿æ—¶é—´æ˜¯ä»¥ç‰ºç‰²ååé‡å’Œæ–°ç”Ÿä»£ç©ºé—´æ¥æ¢å–çš„ï¼šæ–°ç”Ÿä»£ç©ºé—´å˜å°ï¼Œåƒåœ¾å›æ”¶å˜å¾—é¢‘ç¹ï¼Œå¯¼è‡´ååé‡ä¸‹é™ã€‚</p><p>å¯ä»¥é€šè¿‡ä¸€ä¸ªå¼€å…³å‚æ•°æ‰“å¼€ <strong>GC è‡ªé€‚åº”çš„è°ƒèŠ‚ç­–ç•¥</strong>(GC Ergonomics)ï¼Œå°±ä¸éœ€è¦æ‰‹å·¥æŒ‡å®šæ–°ç”Ÿä»£çš„å¤§å°(-Xmn)ã€Eden å’Œ Survivor åŒºçš„æ¯”ä¾‹ã€æ™‹å‡è€å¹´ä»£å¯¹è±¡å¹´é¾„ç­‰ç»†èŠ‚å‚æ•°äº†ã€‚è™šæ‹Ÿæœºä¼šæ ¹æ®å½“å‰ç³»ç»Ÿçš„è¿è¡Œæƒ…å†µæ”¶é›†æ€§èƒ½ç›‘æ§ä¿¡æ¯ï¼ŒåŠ¨æ€è°ƒæ•´è¿™äº›å‚æ•°ä»¥æä¾›æœ€åˆé€‚çš„åœé¡¿æ—¶é—´æˆ–è€…æœ€å¤§çš„ååé‡ã€‚</p><h3 id="_4-serial-old-æ”¶é›†å™¨" tabindex="-1"><a class="header-anchor" href="#_4-serial-old-æ”¶é›†å™¨" aria-hidden="true">#</a> 4. Serial Old æ”¶é›†å™¨</h3><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/08f32fd3-f736-4a67-81ca-295b2a7972f2.jpg" width=""></div><br><p>æ˜¯ Serial æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ï¼Œ<strong>ä½¿ç”¨å•çº¿ç¨‹å’Œâ€œæ ‡è®°-æ•´ç†â€ç®—æ³•</strong>ï¼Œä¹Ÿæ˜¯ç»™ Client åœºæ™¯ä¸‹çš„è™šæ‹Ÿæœºä½¿ç”¨ã€‚å¦‚æœç”¨åœ¨ Server åœºæ™¯ä¸‹ï¼Œå®ƒæœ‰ä¸¤å¤§ç”¨é€”ï¼š</p><ul><li>åœ¨ JDK 1.5 ä»¥åŠä¹‹å‰ç‰ˆæœ¬(Parallel Old è¯ç”Ÿä»¥å‰)ä¸­ä¸ Parallel Scavenge æ”¶é›†å™¨æ­é…ä½¿ç”¨ã€‚</li><li>ä½œä¸º CMS æ”¶é›†å™¨çš„åå¤‡é¢„æ¡ˆï¼Œåœ¨å¹¶å‘æ”¶é›†å‘ç”Ÿ Concurrent Mode Failure æ—¶ä½¿ç”¨ã€‚</li></ul><h3 id="_5-parallel-old-æ”¶é›†å™¨" tabindex="-1"><a class="header-anchor" href="#_5-parallel-old-æ”¶é›†å™¨" aria-hidden="true">#</a> 5. Parallel Old æ”¶é›†å™¨</h3><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/278fe431-af88-4a95-a895-9c3b80117de3.jpg" width=""></div><br><p>æ˜¯ Parallel Scavenge æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ã€‚<strong>ä½¿ç”¨å¤šçº¿ç¨‹å’Œâ€œæ ‡è®°-æ•´ç†â€ç®—æ³•</strong></p><p>ç”±äºè€å¹´ä»£Serial Old æ”¶é›†å™¨åœ¨æœåŠ¡ç«¯åº”ç”¨æ€§èƒ½ä¸Šçš„â€œæ‹–ç´¯â€ï¼Œå•çº¿ç¨‹çš„è€å¹´ä»£æ‰‹æœºæ— æ³•å……åˆ†åˆ©ç”¨æœåŠ¡å™¨å¤šCPUçš„å¤„ç†èƒ½åŠ›ï¼ŒParallel Scavengeæ”¶é›†å™¨æœªå¿…èƒ½åœ¨æ•´ä½“ä¸Šè·å¾—ååé‡æœ€å¤§åŒ–æ•ˆæœã€‚</p><p>åœ¨æ³¨é‡ååé‡ä»¥åŠ CPU èµ„æºæ•æ„Ÿçš„åœºåˆï¼Œéƒ½å¯ä»¥ä¼˜å…ˆè€ƒè™‘ Parallel Scavenge åŠ  Parallel Old æ”¶é›†å™¨ã€‚</p><h3 id="_6-cms-æ”¶é›†å™¨" tabindex="-1"><a class="header-anchor" href="#_6-cms-æ”¶é›†å™¨" aria-hidden="true">#</a> 6. CMS æ”¶é›†å™¨</h3><p>CMS(Concurrent Mark Sweep)æ”¶é›†å™¨æ˜¯ä¸€ç§ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ã€‚</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/62e77997-6957-4b68-8d12-bfd609bb2c68.jpg" width=""></div><br><p>CMS(Concurrent Mark Sweep)ï¼ŒMark Sweep æŒ‡çš„æ˜¯æ ‡è®° - æ¸…é™¤ç®—æ³•ã€‚</p><p>åˆ†ä¸ºä»¥ä¸‹å››ä¸ªæµç¨‹ï¼š</p><ul><li>åˆå§‹æ ‡è®°ï¼šä»…ä»…åªæ˜¯æ ‡è®°ä¸€ä¸‹ GC Roots èƒ½ç›´æ¥å…³è”åˆ°çš„å¯¹è±¡ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œéœ€è¦åœé¡¿ã€‚</li><li>å¹¶å‘æ ‡è®°ï¼šè¿›è¡Œ GC Roots Tracing çš„è¿‡ç¨‹ï¼Œå®ƒåœ¨æ•´ä¸ªå›æ”¶è¿‡ç¨‹ä¸­è€—æ—¶æœ€é•¿ï¼Œä¸éœ€è¦åœé¡¿ã€‚ åŒæ—¶å¼€å¯ GC å’Œç”¨æˆ·çº¿ç¨‹ï¼Œç”¨ä¸€ä¸ªé—­åŒ…ç»“æ„å»è®°å½•å¯è¾¾å¯¹è±¡ã€‚ä½†åœ¨è¿™ä¸ªé˜¶æ®µç»“æŸï¼Œè¿™ä¸ªé—­åŒ…ç»“æ„å¹¶ä¸èƒ½ä¿è¯åŒ…å«å½“å‰æ‰€æœ‰çš„å¯è¾¾å¯¹è±¡ã€‚å› ä¸ºç”¨æˆ·çº¿ç¨‹å¯èƒ½ä¼šä¸æ–­çš„æ›´æ–°å¼•ç”¨åŸŸï¼Œæ‰€ä»¥ GC çº¿ç¨‹æ— æ³•ä¿è¯å¯è¾¾æ€§åˆ†æçš„å®æ—¶æ€§ã€‚æ‰€ä»¥è¿™ä¸ªç®—æ³•é‡Œä¼šè·Ÿè¸ªè®°å½•è¿™äº›å‘ç”Ÿå¼•ç”¨æ›´æ–°çš„åœ°æ–¹ã€‚</li><li>é‡æ–°æ ‡è®°ï¼šä¸ºäº†ä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´å› ç”¨æˆ·ç¨‹åºç»§ç»­è¿ä½œè€Œå¯¼è‡´æ ‡è®°äº§ç”Ÿå˜åŠ¨çš„é‚£ä¸€éƒ¨åˆ†å¯¹è±¡çš„æ ‡è®°è®°å½•ï¼Œéœ€è¦åœé¡¿ã€‚</li><li>å¹¶å‘æ¸…é™¤ï¼šä¸éœ€è¦åœé¡¿ã€‚</li></ul><p>åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­è€—æ—¶æœ€é•¿çš„å¹¶å‘æ ‡è®°å’Œå¹¶å‘æ¸…é™¤è¿‡ç¨‹ä¸­ï¼Œæ”¶é›†å™¨çº¿ç¨‹éƒ½å¯ä»¥ä¸ç”¨æˆ·çº¿ç¨‹ä¸€èµ·å·¥ä½œï¼Œä¸éœ€è¦è¿›è¡Œåœé¡¿ã€‚</p><p>ä¼˜ç‚¹ï¼šå¹¶å‘æ”¶é›†ã€ä½åœé¡¿</p><p>å…·æœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š</p><ul><li>ååé‡ä½(å¯¹ CPU èµ„æºæ•æ„Ÿ)ï¼šä½åœé¡¿æ—¶é—´æ˜¯ä»¥ç‰ºç‰²ååé‡ä¸ºä»£ä»·çš„ï¼Œå¯¼è‡´ CPU åˆ©ç”¨ç‡ä¸å¤Ÿé«˜ã€‚</li><li>æ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾ï¼Œå¯èƒ½å‡ºç° Concurrent Mode Failureã€‚æµ®åŠ¨åƒåœ¾æ˜¯æŒ‡å¹¶å‘æ¸…é™¤é˜¶æ®µç”±äºç”¨æˆ·çº¿ç¨‹ç»§ç»­è¿è¡Œè€Œäº§ç”Ÿçš„åƒåœ¾ï¼Œè¿™éƒ¨åˆ†åƒåœ¾åªèƒ½åˆ°ä¸‹ä¸€æ¬¡ GC æ—¶æ‰èƒ½è¿›è¡Œå›æ”¶ã€‚ç”±äºæµ®åŠ¨åƒåœ¾çš„å­˜åœ¨ï¼Œå› æ­¤éœ€è¦é¢„ç•™å‡ºä¸€éƒ¨åˆ†å†…å­˜ï¼Œæ„å‘³ç€ CMS æ”¶é›†ä¸èƒ½åƒå…¶å®ƒæ”¶é›†å™¨é‚£æ ·ç­‰å¾…è€å¹´ä»£å¿«æ»¡çš„æ—¶å€™å†å›æ”¶ã€‚å¦‚æœé¢„ç•™çš„å†…å­˜ä¸å¤Ÿå­˜æ”¾æµ®åŠ¨åƒåœ¾ï¼Œå°±ä¼šå‡ºç° Concurrent Mode Failureï¼Œè¿™æ—¶è™šæ‹Ÿæœºå°†ä¸´æ—¶å¯ç”¨ Serial Old æ¥æ›¿ä»£ CMSã€‚</li><li>æ ‡è®° - æ¸…é™¤ç®—æ³•å¯¼è‡´çš„ç©ºé—´ç¢ç‰‡ï¼Œå¾€å¾€å‡ºç°è€å¹´ä»£ç©ºé—´å‰©ä½™ï¼Œä½†æ— æ³•æ‰¾åˆ°è¶³å¤Ÿå¤§è¿ç»­ç©ºé—´æ¥åˆ†é…å½“å‰å¯¹è±¡ï¼Œä¸å¾—ä¸æå‰è§¦å‘ä¸€æ¬¡ Full GCã€‚</li></ul><h3 id="_7-g1-æ”¶é›†å™¨" tabindex="-1"><a class="header-anchor" href="#_7-g1-æ”¶é›†å™¨" aria-hidden="true">#</a> 7. G1 æ”¶é›†å™¨</h3><p>G1(Garbage-First)ï¼Œå®ƒæ˜¯ä¸€æ¬¾é¢å‘æœåŠ¡ç«¯åº”ç”¨çš„åƒåœ¾æ”¶é›†å™¨ï¼Œåœ¨å¤š CPU å’Œå¤§å†…å­˜çš„åœºæ™¯ä¸‹æœ‰å¾ˆå¥½çš„æ€§èƒ½ã€‚HotSpot å¼€å‘å›¢é˜Ÿèµ‹äºˆå®ƒçš„ä½¿å‘½æ˜¯æœªæ¥å¯ä»¥æ›¿æ¢æ‰ CMS æ”¶é›†å™¨ã€‚</p><p>è¢«è§†ä¸º JDK1.7 ä¸­ HotSpot è™šæ‹Ÿæœºçš„ä¸€ä¸ªé‡è¦è¿›åŒ–ç‰¹å¾ï¼Œå…·å¤‡å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>å¹¶è¡Œä¸å¹¶å‘ï¼šG1 èƒ½å……åˆ†åˆ©ç”¨ CPUã€å¤šæ ¸ç¯å¢ƒä¸‹çš„ç¡¬ä»¶ä¼˜åŠ¿ï¼Œä½¿ç”¨å¤šä¸ª CPU(CPU æˆ–è€… CPU æ ¸å¿ƒ)æ¥ç¼©çŸ­ Stop-The-World åœé¡¿æ—¶é—´ã€‚éƒ¨åˆ†å…¶ä»–æ”¶é›†å™¨åŸæœ¬éœ€è¦åœé¡¿ Java çº¿ç¨‹æ‰§è¡Œçš„ GC åŠ¨ä½œï¼ŒG1 æ”¶é›†å™¨ä»ç„¶å¯ä»¥é€šè¿‡å¹¶å‘çš„æ–¹å¼è®© Java ç¨‹åºç»§ç»­æ‰§è¡Œã€‚</li><li>åˆ†ä»£æ”¶é›†ï¼šè™½ç„¶ G1 å¯ä»¥ä¸éœ€è¦å…¶ä»–æ”¶é›†å™¨é…åˆå°±èƒ½ç‹¬ç«‹ç®¡ç†æ•´ä¸ª GC å †ï¼Œä½†æ˜¯è¿˜æ˜¯ä¿ç•™äº†åˆ†ä»£çš„æ¦‚å¿µã€‚</li><li>ç©ºé—´æ•´åˆï¼šæ•´ä½“æ¥çœ‹æ˜¯åŸºäºâ€œæ ‡è®° - æ•´ç†â€ç®—æ³•å®ç°çš„æ”¶é›†å™¨ï¼Œä»å±€éƒ¨(ä¸¤ä¸ª Region ä¹‹é—´)ä¸Šæ¥çœ‹æ˜¯åŸºäºâ€œå¤åˆ¶â€ç®—æ³•å®ç°çš„ï¼Œè¿™æ„å‘³ç€è¿è¡ŒæœŸé—´ä¸ä¼šäº§ç”Ÿå†…å­˜ç©ºé—´ç¢ç‰‡ã€‚</li><li>å¯é¢„æµ‹çš„åœé¡¿ï¼šèƒ½è®©ä½¿ç”¨è€…æ˜ç¡®æŒ‡å®šåœ¨ä¸€ä¸ªé•¿åº¦ä¸º M æ¯«ç§’çš„æ—¶é—´ç‰‡æ®µå†…ï¼Œæ¶ˆè€—åœ¨ GC ä¸Šçš„æ—¶é—´ä¸å¾—è¶…è¿‡ N æ¯«ç§’(è¿™å‡ ä¹å·²ç»æ˜¯å®æ—¶Java(RTSJ)çš„åƒåœ¾æ”¶é›†å™¨ç‰¹å¾)ã€‚</li></ul><p>å †è¢«åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œå…¶å®ƒæ”¶é›†å™¨è¿›è¡Œæ”¶é›†çš„èŒƒå›´éƒ½æ˜¯æ•´ä¸ªæ–°ç”Ÿä»£æˆ–è€…è€å¹´ä»£ï¼Œè€Œ G1 å¯ä»¥ç›´æ¥å¯¹æ–°ç”Ÿä»£å’Œè€å¹´ä»£ä¸€èµ·å›æ”¶ã€‚</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/4cf711a8-7ab2-4152-b85c-d5c226733807.png" width="600"></div><br><p>G1 æŠŠå †åˆ’åˆ†æˆå¤šä¸ªå¤§å°ç›¸ç­‰çš„ç‹¬ç«‹åŒºåŸŸ(Region)ï¼Œæ–°ç”Ÿä»£å’Œè€å¹´ä»£ä¸å†ç‰©ç†éš”ç¦»ã€‚</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/9bbddeeb-e939-41f0-8e8e-2b1a0aa7e0a7.png" width="600"></div><br><p>é€šè¿‡å¼•å…¥ Region çš„æ¦‚å¿µï¼Œä»è€Œå°†åŸæ¥çš„ä¸€æ•´å—å†…å­˜ç©ºé—´åˆ’åˆ†æˆå¤šä¸ªçš„å°ç©ºé—´ï¼Œä½¿å¾—æ¯ä¸ªå°ç©ºé—´å¯ä»¥å•ç‹¬è¿›è¡Œåƒåœ¾å›æ”¶ã€‚è¿™ç§åˆ’åˆ†å¸¦æ¥äº†å¾ˆå¤§çš„çµæ´»æ€§ï¼Œä½¿å¾—å¯é¢„æµ‹çš„åœé¡¿æ—¶é—´æ¨¡å‹æˆä¸ºå¯èƒ½ï¼Œæ˜¯å› ä¸ºå®ƒå¯ä»¥æœ‰è®¡åˆ’åœ°é¿å…åœ¨æ•´ä¸ªJavaå †ä¸­è¿›è¡Œå…¨åŒºåŸŸçš„åƒåœ¾æ”¶é›†ã€‚G1è·Ÿè¸ªå„ä¸ªRegioné‡Œé¢åƒåœ¾å †ç§¯çš„ä»·å€¼å¤§å°(å›æ”¶æ‰€è·å¾—çš„ç©ºé—´å¤§å°ä»¥åŠå›æ”¶æ‰€éœ€æ—¶é—´çš„ç»éªŒå€¼)ï¼Œå¹¶åå°ç»´æŠ¤ä¸€ä¸ªä¼˜å…ˆåˆ—è¡¨ï¼Œæ¯æ¬¡æ ¹æ®å…è®¸çš„æ”¶é›†æ—¶é—´ï¼Œä¼˜å…ˆå›æ”¶ä»·å€¼æœ€å¤§çš„ Region ( Garbage-First çš„ç”±æ¥)ã€‚</p><p>æ¯ä¸ª Region éƒ½æœ‰ä¸€ä¸ª Remembered Setï¼Œç”¨æ¥è®°å½•è¯¥ Region å¯¹è±¡çš„å¼•ç”¨å¯¹è±¡æ‰€åœ¨çš„ Regionã€‚é€šè¿‡ä½¿ç”¨ Remembered Setï¼Œåœ¨åšå¯è¾¾æ€§åˆ†æçš„æ—¶å€™å°±å¯ä»¥é¿å…å…¨å †æ‰«æã€‚</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/f99ee771-c56f-47fb-9148-c0036695b5fe.jpg" width=""></div><br><p>å¦‚æœä¸è®¡ç®—ç»´æŠ¤ Remembered Set çš„æ“ä½œï¼ŒG1 æ”¶é›†å™¨çš„è¿ä½œå¤§è‡´å¯åˆ’åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ul><li>åˆå§‹æ ‡è®°ï¼šä»…ä»…åªæ˜¯æ ‡è®°ä¸€ä¸‹ GC Roots èƒ½ç›´æ¥å…³è”åˆ°çš„å¯¹è±¡ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œéœ€è¦åœé¡¿</li><li>å¹¶å‘æ ‡è®°ï¼šä»GC Rootså¼€å§‹å¯¹å †ä¸­å¯¹è±¡è¿›è¡Œå¯è¾¾æ€§åˆ†æ</li><li>æœ€ç»ˆæ ‡è®°ï¼šä¸ºäº†ä¿®æ­£åœ¨å¹¶å‘æ ‡è®°æœŸé—´å› ç”¨æˆ·ç¨‹åºç»§ç»­è¿ä½œè€Œå¯¼è‡´æ ‡è®°äº§ç”Ÿå˜åŠ¨çš„é‚£ä¸€éƒ¨åˆ†æ ‡è®°è®°å½•ï¼Œè™šæ‹Ÿæœºå°†è¿™æ®µæ—¶é—´å¯¹è±¡å˜åŒ–è®°å½•åœ¨çº¿ç¨‹çš„ Remembered Set Logs é‡Œé¢ï¼Œæœ€ç»ˆæ ‡è®°é˜¶æ®µéœ€è¦æŠŠ Remembered Set Logs çš„æ•°æ®åˆå¹¶åˆ° Remembered Set ä¸­ã€‚è¿™é˜¶æ®µéœ€è¦åœé¡¿çº¿ç¨‹ï¼Œä½†æ˜¯å¯å¹¶è¡Œæ‰§è¡Œã€‚</li><li>ç­›é€‰å›æ”¶ï¼šé¦–å…ˆå¯¹å„ä¸ª Region ä¸­çš„å›æ”¶ä»·å€¼å’Œæˆæœ¬è¿›è¡Œæ’åºï¼Œæ ¹æ®ç”¨æˆ·æ‰€æœŸæœ›çš„ GC åœé¡¿æ—¶é—´æ¥åˆ¶å®šå›æ”¶è®¡åˆ’ã€‚æ­¤é˜¶æ®µå…¶å®ä¹Ÿå¯ä»¥åšåˆ°ä¸ç”¨æˆ·ç¨‹åºä¸€èµ·å¹¶å‘æ‰§è¡Œï¼Œä½†æ˜¯å› ä¸ºåªå›æ”¶ä¸€éƒ¨åˆ† Regionï¼Œæ—¶é—´æ˜¯ç”¨æˆ·å¯æ§åˆ¶çš„ï¼Œè€Œä¸”åœé¡¿ç”¨æˆ·çº¿ç¨‹å°†å¤§å¹…åº¦æé«˜æ”¶é›†æ•ˆç‡ã€‚</li></ul><h1 id="å››ã€å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#å››ã€å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥" aria-hidden="true">#</a> å››ã€å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥</h1><p>JavaæŠ€æœ¯ä½“ç³»ä¸­çš„è‡ªåŠ¨å†…å­˜ç®¡ç†å¯ä»¥å½’ç»“ä¸ºè‡ªåŠ¨åŒ–è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼šç»™å¯¹è±¡åˆ†é…å†…å­˜ä»¥åŠå›æ”¶åˆ†é…å¯¹è±¡çš„å†…å­˜ã€‚</p><h2 id="å†…å­˜åˆ†é…ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#å†…å­˜åˆ†é…ç­–ç•¥" aria-hidden="true">#</a> å†…å­˜åˆ†é…ç­–ç•¥</h2><h3 id="_1-å¯¹è±¡ä¼˜å…ˆåœ¨-eden-åˆ†é…" tabindex="-1"><a class="header-anchor" href="#_1-å¯¹è±¡ä¼˜å…ˆåœ¨-eden-åˆ†é…" aria-hidden="true">#</a> 1. å¯¹è±¡ä¼˜å…ˆåœ¨ Eden åˆ†é…</h3><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯¹è±¡åœ¨æ–°ç”Ÿä»£ Eden ä¸Šåˆ†é…ï¼Œå½“ Eden ç©ºé—´ä¸å¤Ÿæ—¶ï¼Œå‘èµ· Minor GCã€‚</p><h3 id="_2-å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£" tabindex="-1"><a class="header-anchor" href="#_2-å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£" aria-hidden="true">#</a> 2. å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£</h3><p>å¤§å¯¹è±¡æ˜¯æŒ‡éœ€è¦è¿ç»­å†…å­˜ç©ºé—´çš„å¯¹è±¡ï¼Œæœ€å…¸å‹çš„å¤§å¯¹è±¡æ˜¯é‚£ç§å¾ˆé•¿çš„å­—ç¬¦ä¸²ä»¥åŠæ•°ç»„ã€‚</p><p>ç»å¸¸å‡ºç°å¤§å¯¹è±¡ä¼šæå‰è§¦å‘åƒåœ¾æ”¶é›†ä»¥è·å–è¶³å¤Ÿçš„è¿ç»­ç©ºé—´åˆ†é…ç»™å¤§å¯¹è±¡ã€‚</p><p><strong>ä¸ºä»€ä¹ˆè¦è¿™æ ·å‘¢ï¼Ÿ</strong></p><p>ä¸ºäº†é¿å…ä¸ºå¤§å¯¹è±¡åˆ†é…å†…å­˜æ—¶ç”±äºåˆ†é…æ‹…ä¿æœºåˆ¶å¸¦æ¥çš„å¤åˆ¶è€Œé™ä½æ•ˆç‡ã€‚</p><p>-XX:PretenureSizeThresholdï¼Œå¤§äºæ­¤å€¼çš„å¯¹è±¡ç›´æ¥åœ¨è€å¹´ä»£åˆ†é…ï¼Œé¿å…åœ¨ Eden å’Œ Survivor ä¹‹é—´çš„å¤§é‡å†…å­˜å¤åˆ¶ã€‚(å‚æ•°åªå¯¹Serialå’ŒParNewæ”¶é›†å™¨æœ‰æ•ˆ)</p><h3 id="_3-é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£" tabindex="-1"><a class="header-anchor" href="#_3-é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£" aria-hidden="true">#</a> 3. é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£</h3><p>ä¸ºå¯¹è±¡å®šä¹‰å¹´é¾„è®¡æ•°å™¨ï¼Œå¯¹è±¡åœ¨ Eden å‡ºç”Ÿå¹¶ç»è¿‡ Minor GC ä¾ç„¶å­˜æ´»ï¼Œå°†ç§»åŠ¨åˆ° Survivor ä¸­ï¼Œå¹´é¾„å°±å¢åŠ  1 å²ï¼Œå¢åŠ åˆ°ä¸€å®šå¹´é¾„åˆ™ç§»åŠ¨åˆ°è€å¹´ä»£ä¸­ã€‚</p><p>-XX:MaxTenuringThreshold ç”¨æ¥å®šä¹‰å¹´é¾„çš„é˜ˆå€¼ã€‚</p><h3 id="_4-åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š" tabindex="-1"><a class="header-anchor" href="#_4-åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š" aria-hidden="true">#</a> 4. åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š</h3><p>è™šæ‹Ÿæœºå¹¶ä¸æ˜¯æ°¸è¿œè¦æ±‚å¯¹è±¡çš„å¹´é¾„å¿…é¡»è¾¾åˆ° MaxTenuringThreshold æ‰èƒ½æ™‹å‡è€å¹´ä»£ï¼Œå¦‚æœåœ¨ Survivor ä¸­ç›¸åŒå¹´é¾„æ‰€æœ‰å¯¹è±¡å¤§å°çš„æ€»å’Œå¤§äº Survivor ç©ºé—´çš„ä¸€åŠï¼Œåˆ™å¹´é¾„å¤§äºæˆ–ç­‰äºè¯¥å¹´é¾„çš„å¯¹è±¡å¯ä»¥ç›´æ¥è¿›å…¥è€å¹´ä»£ï¼Œæ— éœ€ç­‰åˆ° MaxTenuringThreshold ä¸­è¦æ±‚çš„å¹´é¾„ã€‚</p><h3 id="_5-ç©ºé—´åˆ†é…æ‹…ä¿" tabindex="-1"><a class="header-anchor" href="#_5-ç©ºé—´åˆ†é…æ‹…ä¿" aria-hidden="true">#</a> 5. ç©ºé—´åˆ†é…æ‹…ä¿</h3><p>åœ¨å‘ç”Ÿ Minor GC ä¹‹å‰ï¼Œè™šæ‹Ÿæœºå…ˆæ£€æŸ¥è€å¹´ä»£æœ€å¤§å¯ç”¨çš„è¿ç»­ç©ºé—´æ˜¯å¦å¤§äºæ–°ç”Ÿä»£æ‰€æœ‰å¯¹è±¡æ€»ç©ºé—´ï¼Œå¦‚æœæ¡ä»¶æˆç«‹çš„è¯ï¼Œé‚£ä¹ˆ Minor GC å¯ä»¥ç¡®è®¤æ˜¯å®‰å…¨çš„ã€‚</p><p>å¦‚æœä¸æˆç«‹çš„è¯è™šæ‹Ÿæœºä¼šæŸ¥çœ‹ HandlePromotionFailure çš„å€¼æ˜¯å¦å…è®¸æ‹…ä¿å¤±è´¥ï¼Œå¦‚æœå…è®¸é‚£ä¹ˆå°±ä¼šç»§ç»­æ£€æŸ¥è€å¹´ä»£æœ€å¤§å¯ç”¨çš„è¿ç»­ç©ºé—´æ˜¯å¦å¤§äºå†æ¬¡æ™‹å‡åˆ°è€å¹´ä»£å¯¹è±¡çš„å¹³å‡å¤§å°ï¼Œå¦‚æœå¤§äºï¼Œå°†å°è¯•ç€è¿›è¡Œä¸€æ¬¡ Minor GCï¼›å¦‚æœå°äºï¼Œæˆ–è€… HandlePromotionFailure çš„å€¼ä¸å…è®¸å†’é™©ï¼Œé‚£ä¹ˆå°±è¦è¿›è¡Œä¸€æ¬¡ Full GCã€‚</p><p>JDK6 Update 24å HandlePromotionFailure å‚æ•°ä¸ä¼šå†å½±å“ç©ºé—´åˆ†é…æ‹…ä¿ç­–ç•¥ï¼Œè§„åˆ™å˜ä¸ºè€å¹´ä»£æœ€å¤§å¯ç”¨çš„è¿ç»­ç©ºé—´å¤§äºæ–°ç”Ÿä»£æ‰€æœ‰å¯¹è±¡æ€»ç©ºé—´æˆ–è€…å†æ¬¡æ™‹å‡åˆ°è€å¹´ä»£å¯¹è±¡çš„å¹³å‡å¤§å°ï¼Œå°±ä¼šè¿›è¡ŒMinor GCï¼Œå¦åˆ™è¿›è¡ŒFull GCã€‚</p><h2 id="minor-gc-å’Œ-full-gc" tabindex="-1"><a class="header-anchor" href="#minor-gc-å’Œ-full-gc" aria-hidden="true">#</a> Minor GC å’Œ Full GC</h2><ul><li><p>æ–°ç”Ÿä»£GC(Minor GC)ï¼šå‘ç”Ÿåœ¨æ–°ç”Ÿä»£çš„åƒåœ¾æ”¶é›†åŠ¨ä½œï¼Œå› ä¸ºæ–°ç”Ÿä»£å¯¹è±¡å­˜æ´»æ—¶é—´å¾ˆçŸ­ï¼Œå› æ­¤ Minor GC ä¼šé¢‘ç¹æ‰§è¡Œï¼Œæ‰§è¡Œçš„é€Ÿåº¦ä¸€èˆ¬ä¹Ÿä¼šæ¯”è¾ƒå¿«ã€‚</p></li><li><p>è€å¹´ä»£GC(Full GC/Major GC)ï¼šå‘ç”Ÿåœ¨è€å¹´ä»£çš„GCï¼Œå‡ºç°äº†Major GCï¼Œç»å¸¸ä¼šä¼´éšè‡³å°‘ä¸€æ¬¡çš„Minor GC(ä½†å¹¶éç»å¯¹)ï¼Œè€å¹´ä»£å¯¹è±¡å…¶å­˜æ´»æ—¶é—´é•¿ï¼Œå› æ­¤ Full GC å¾ˆå°‘æ‰§è¡Œï¼Œæ‰§è¡Œé€Ÿåº¦ä¼šæ¯” Minor GC æ…¢å¾ˆå¤š(10å€ä»¥ä¸Š)ã€‚</p></li></ul><h2 id="full-gc-çš„è§¦å‘æ¡ä»¶" tabindex="-1"><a class="header-anchor" href="#full-gc-çš„è§¦å‘æ¡ä»¶" aria-hidden="true">#</a> Full GC çš„è§¦å‘æ¡ä»¶</h2><p>å¯¹äº Minor GCï¼Œå…¶è§¦å‘æ¡ä»¶éå¸¸ç®€å•ï¼Œå½“ Eden ç©ºé—´ä¸æ»¡è¶³ç»§ç»­åˆ†é…æ—¶ï¼Œå°±å°†è§¦å‘ä¸€æ¬¡ Minor GCã€‚è€Œ Full GC åˆ™ç›¸å¯¹å¤æ‚ï¼Œæœ‰ä»¥ä¸‹æ¡ä»¶ï¼š</p><h3 id="_1-è°ƒç”¨-system-gc" tabindex="-1"><a class="header-anchor" href="#_1-è°ƒç”¨-system-gc" aria-hidden="true">#</a> 1. è°ƒç”¨ System.gc()</h3><p>åªæ˜¯å»ºè®®è™šæ‹Ÿæœºæ‰§è¡Œ Full GCï¼Œä½†æ˜¯è™šæ‹Ÿæœºä¸ä¸€å®šçœŸæ­£å»æ‰§è¡Œã€‚ä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œè€Œæ˜¯è®©è™šæ‹Ÿæœºç®¡ç†å†…å­˜ã€‚</p><h3 id="_2-è€å¹´ä»£ç©ºé—´ä¸è¶³" tabindex="-1"><a class="header-anchor" href="#_2-è€å¹´ä»£ç©ºé—´ä¸è¶³" aria-hidden="true">#</a> 2. è€å¹´ä»£ç©ºé—´ä¸è¶³</h3><p>è€å¹´ä»£ç©ºé—´ä¸è¶³çš„å¸¸è§åœºæ™¯ä¸ºå‰æ–‡æ‰€è®²çš„å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ã€é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£ç­‰ã€‚</p><p>ä¸ºäº†é¿å…ä»¥ä¸ŠåŸå› å¼•èµ·çš„ Full GCï¼Œåº”å½“å°½é‡ä¸è¦åˆ›å»ºè¿‡å¤§çš„å¯¹è±¡ä»¥åŠæ•°ç»„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥é€šè¿‡ -Xmn è™šæ‹Ÿæœºå‚æ•°è°ƒå¤§æ–°ç”Ÿä»£çš„å¤§å°ï¼Œè®©å¯¹è±¡å°½é‡åœ¨æ–°ç”Ÿä»£è¢«å›æ”¶æ‰ï¼Œä¸è¿›å…¥è€å¹´ä»£ã€‚è¿˜å¯ä»¥é€šè¿‡ -XX:MaxTenuringThreshold è°ƒå¤§å¯¹è±¡è¿›å…¥è€å¹´ä»£çš„å¹´é¾„ï¼Œè®©å¯¹è±¡åœ¨æ–°ç”Ÿä»£å¤šå­˜æ´»ä¸€æ®µæ—¶é—´ã€‚</p><h3 id="_3-ç©ºé—´åˆ†é…æ‹…ä¿å¤±è´¥" tabindex="-1"><a class="header-anchor" href="#_3-ç©ºé—´åˆ†é…æ‹…ä¿å¤±è´¥" aria-hidden="true">#</a> 3. ç©ºé—´åˆ†é…æ‹…ä¿å¤±è´¥</h3><p>ä½¿ç”¨å¤åˆ¶ç®—æ³•çš„ Minor GC éœ€è¦è€å¹´ä»£çš„å†…å­˜ç©ºé—´ä½œæ‹…ä¿ï¼Œå¦‚æœæ‹…ä¿å¤±è´¥ä¼šæ‰§è¡Œä¸€æ¬¡ Full GCã€‚å…·ä½“å†…å®¹è¯·å‚è€ƒä¸Šé¢çš„ç¬¬ 5 å°èŠ‚ã€‚</p><h3 id="_4-jdk-1-7-åŠä»¥å‰çš„æ°¸ä¹…ä»£ç©ºé—´ä¸è¶³" tabindex="-1"><a class="header-anchor" href="#_4-jdk-1-7-åŠä»¥å‰çš„æ°¸ä¹…ä»£ç©ºé—´ä¸è¶³" aria-hidden="true">#</a> 4. JDK 1.7 åŠä»¥å‰çš„æ°¸ä¹…ä»£ç©ºé—´ä¸è¶³</h3><p>åœ¨ JDK 1.7 åŠä»¥å‰ï¼ŒHotSpot è™šæ‹Ÿæœºä¸­çš„æ–¹æ³•åŒºæ˜¯ç”¨æ°¸ä¹…ä»£å®ç°çš„ï¼Œæ°¸ä¹…ä»£ä¸­å­˜æ”¾çš„ä¸ºä¸€äº› Class çš„ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ç­‰æ•°æ®ã€‚</p><p>å½“ç³»ç»Ÿä¸­è¦åŠ è½½çš„ç±»ã€åå°„çš„ç±»å’Œè°ƒç”¨çš„æ–¹æ³•è¾ƒå¤šæ—¶ï¼Œæ°¸ä¹…ä»£å¯èƒ½ä¼šè¢«å æ»¡ï¼Œåœ¨æœªé…ç½®ä¸ºé‡‡ç”¨ CMS GC çš„æƒ…å†µä¸‹ä¹Ÿä¼šæ‰§è¡Œ Full GCã€‚å¦‚æœç»è¿‡ Full GC ä»ç„¶å›æ”¶ä¸äº†ï¼Œé‚£ä¹ˆè™šæ‹Ÿæœºä¼šæŠ›å‡º java.lang.OutOfMemoryErrorã€‚</p><p>ä¸ºé¿å…ä»¥ä¸ŠåŸå› å¼•èµ·çš„ Full GCï¼Œå¯é‡‡ç”¨çš„æ–¹æ³•ä¸ºå¢å¤§æ°¸ä¹…ä»£ç©ºé—´æˆ–è½¬ä¸ºä½¿ç”¨ CMS GCã€‚</p><h3 id="_5-concurrent-mode-failure" tabindex="-1"><a class="header-anchor" href="#_5-concurrent-mode-failure" aria-hidden="true">#</a> 5. Concurrent Mode Failure</h3><p>æ‰§è¡Œ CMS GC çš„è¿‡ç¨‹ä¸­åŒæ—¶æœ‰å¯¹è±¡è¦æ”¾å…¥è€å¹´ä»£ï¼Œè€Œæ­¤æ—¶è€å¹´ä»£ç©ºé—´ä¸è¶³(å¯èƒ½æ˜¯ GC è¿‡ç¨‹ä¸­æµ®åŠ¨åƒåœ¾è¿‡å¤šå¯¼è‡´æš‚æ—¶æ€§çš„ç©ºé—´ä¸è¶³)ï¼Œä¾¿ä¼šæŠ¥ Concurrent Mode Failure é”™è¯¯ï¼Œå¹¶è§¦å‘ Full GC (Serial Old çš„åå¤‡æ–¹æ¡ˆ)ã€‚</p><h1 id="å‚è€ƒèµ„æ–™" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-hidden="true">#</a> å‚è€ƒèµ„æ–™</h1><ul><li>å‘¨å¿—æ˜. æ·±å…¥ç†è§£ Java è™šæ‹Ÿæœº [M]. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2011.</li><li><a href="https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.4" target="_blank" rel="noopener noreferrer">Chapter 2. The Structure of the Java Virtual Machine<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.slideshare.net/benewu/jvm-memory" target="_blank" rel="noopener noreferrer">Jvm memory<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><a href="http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/G1GettingStarted/index.html" target="_blank" rel="noopener noreferrer">Getting Started with the G1 Garbage Collector<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://electrofriends.com/articles/jni/jni-part1-java-native-interface/" target="_blank" rel="noopener noreferrer">JNI Part1: Java Native Interface Introduction and â€œHello Worldâ€ application<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://hackthejava.wordpress.com/2015/01/09/memory-architecture-by-jvmruntime-data-areas/" target="_blank" rel="noopener noreferrer">Memory Architecture Of JVM(Runtime Data Areas)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.programcreek.com/2013/04/jvm-run-time-data-areas/" target="_blank" rel="noopener noreferrer">JVM Run-Time Data Areas<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://www.drdobbs.com/architecture-and-design/android-on-x86-java-native-interface-and/240166271" target="_blank" rel="noopener noreferrer">Android on x86: Java Native Interface and the Android Native Development Kit<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://crowhawk.github.io/2017/08/10/jvm_2/" target="_blank" rel="noopener noreferrer">æ·±å…¥ç†è§£ JVM(2)â€”â€”GC ç®—æ³•ä¸å†…å­˜åˆ†é…ç­–ç•¥<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://crowhawk.github.io/2017/08/15/jvm_3/" target="_blank" rel="noopener noreferrer">æ·±å…¥ç†è§£ JVM(3)â€”â€”7 ç§åƒåœ¾æ”¶é›†å™¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://blog.jamesdbloom.com/JVMInternals.html" target="_blank" rel="noopener noreferrer">JVM Internals<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.ibm.com/developerworks/cn/java/j-lo-classloader/index.html#code6" target="_blank" rel="noopener noreferrer">æ·±å…¥æ¢è®¨ Java ç±»åŠ è½½å™¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://www.baeldung.com/java-weakhashmap" target="_blank" rel="noopener noreferrer">Guide to WeakHashMap in Java<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://alvinalexander.com/java/jwarehouse/apache-tomcat-6.0.16/java/org/apache/el/util/ConcurrentCache.java.shtml" target="_blank" rel="noopener noreferrer">Tomcat example source code file (ConcurrentCache.java)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><!--]--></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/5/16 12:07:59</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: chenwei.tjw@alibaba-inc.com">chenwei.tjw</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/cs-way/notes/Java/Java%E7%89%B9%E6%80%A7.html" class="nav-link prev" aria-label="Java 8 ç‰¹æ€§"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Java 8 ç‰¹æ€§</div></a><a href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E6%89%A7%E8%A1%8C%E7%B3%BB%E7%BB%9F.html" class="nav-link next" aria-label="äº”ã€ç±»æ–‡ä»¶ç»“æ„"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">äº”ã€ç±»æ–‡ä»¶ç»“æ„<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2022 Vika</div></footer><!--]--></div><!--]--><!----><!----><div id="pwa-install"><!----><div id="install-modal-wrapper" style="display:none;"><div class="background"></div><div class="install-modal"><div class="header"><button class="close-button" aria-label="å…³é—­"><svg xmlns="http://www.w3.org/2000/svg" class="icon close-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="close icon"><path d="M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z"></path></svg></button><div class="logo"><!----><div class="title"><h1></h1><p class="desc">è¯¥åº”ç”¨å¯ä»¥å®‰è£…åœ¨ä½ çš„ PC æˆ–ç§»åŠ¨è®¾å¤‡ä¸Šã€‚è¿™å°†ä½¿è¯¥ Web åº”ç”¨ç¨‹åºå¤–è§‚å’Œè¡Œä¸ºä¸å…¶ä»–åº”ç”¨ç¨‹åºç›¸åŒã€‚å®ƒå°†åœ¨å‡ºç°åœ¨åº”ç”¨ç¨‹åºåˆ—è¡¨ä¸­ï¼Œå¹¶å¯ä»¥å›ºå®šåˆ°ä¸»å±å¹•ï¼Œå¼€å§‹èœå•æˆ–ä»»åŠ¡æ ã€‚æ­¤ Web åº”ç”¨ç¨‹åºè¿˜å°†èƒ½å¤Ÿä¸å…¶ä»–åº”ç”¨ç¨‹åºå’Œä½ çš„æ“ä½œç³»ç»Ÿå®‰å…¨åœ°è¿›è¡Œäº¤äº’ã€‚</p></div></div></div><div class="content"><div class="highlight"><!----><!----></div><div class="description"><h3>è¯¦æƒ…</h3><p></p></div></div><div class="button-wrapper"><button class="install-button">å®‰è£…<span></span></button><button class="cancel-button">å–æ¶ˆ</button></div></div></div></div><!--]--></div>
    <script type="module" src="/cs-way/assets/app.7d4bd0aa.js" defer></script>
  </body>
</html>
