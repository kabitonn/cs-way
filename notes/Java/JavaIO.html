<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.43" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-v2-demo.mrhope.site/cs-way/notes/Java/JavaIO.html"><meta property="og:site_name" content="CS Way"><meta property="og:title" content="JavaIO"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-05-17T12:22:19.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="IO"><meta property="article:tag" content="NIO"><meta property="article:modified_time" content="2022-05-17T12:22:19.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><link rel="manifest" href="/cs-way/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>JavaIO | CS Way</title><meta name="description" content="CS Way">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/cs-way/assets/style.ed81f444.css">
    <link rel="modulepreload" href="/cs-way/assets/app.e9c8698e.js"><link rel="modulepreload" href="/cs-way/assets/JavaIO.html.2fa5d476.js"><link rel="modulepreload" href="/cs-way/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/cs-way/assets/JavaIO.html.ddab7202.js"><link rel="prefetch" href="/cs-way/assets/index.html.428f64d0.js"><link rel="prefetch" href="/cs-way/assets/home.html.0bd41dd0.js"><link rel="prefetch" href="/cs-way/assets/slide.html.8837fb5e.js"><link rel="prefetch" href="/cs-way/assets/index.html.7fce2da4.js"><link rel="prefetch" href="/cs-way/assets/JavaEE.html.318faa95.js"><link rel="prefetch" href="/cs-way/assets/Java基础.html.ee46aab8.js"><link rel="prefetch" href="/cs-way/assets/Java容器.html.c79be4ac.js"><link rel="prefetch" href="/cs-way/assets/Java并发基础.html.3455db88.js"><link rel="prefetch" href="/cs-way/assets/Java并发进阶.html.031416a6.js"><link rel="prefetch" href="/cs-way/assets/Java特性.html.b4778e7a.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-JVM调优.html.f8094423.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-内存管理.html.045ecc79.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-执行系统.html.80754d66.js"><link rel="prefetch" href="/cs-way/assets/Java高级.html.23867857.js"><link rel="prefetch" href="/cs-way/assets/index.html.02e0653e.js"><link rel="prefetch" href="/cs-way/assets/index.html.a027ec4c.js"><link rel="prefetch" href="/cs-way/assets/设计模式-中介者.html.268d01df.js"><link rel="prefetch" href="/cs-way/assets/设计模式-享元.html.d7786abd.js"><link rel="prefetch" href="/cs-way/assets/设计模式-代理.html.5ce694c7.js"><link rel="prefetch" href="/cs-way/assets/设计模式-单例.html.a541d83f.js"><link rel="prefetch" href="/cs-way/assets/设计模式-原型模式.html.467a53c2.js"><link rel="prefetch" href="/cs-way/assets/设计模式-命令.html.09b573d8.js"><link rel="prefetch" href="/cs-way/assets/设计模式-备忘录.html.a75d4205.js"><link rel="prefetch" href="/cs-way/assets/设计模式-外观.html.77fc20de.js"><link rel="prefetch" href="/cs-way/assets/设计模式-工厂模式.html.331fe62d.js"><link rel="prefetch" href="/cs-way/assets/设计模式-建造者模式.html.f93ddd64.js"><link rel="prefetch" href="/cs-way/assets/设计模式-桥接.html.2faa91cc.js"><link rel="prefetch" href="/cs-way/assets/设计模式-模板方法.html.fe0f9238.js"><link rel="prefetch" href="/cs-way/assets/设计模式-状态.html.1cec2d97.js"><link rel="prefetch" href="/cs-way/assets/设计模式-目录.html.2a078359.js"><link rel="prefetch" href="/cs-way/assets/设计模式-空对象.html.1f49030e.js"><link rel="prefetch" href="/cs-way/assets/设计模式-策略.html.4814af09.js"><link rel="prefetch" href="/cs-way/assets/设计模式-组合.html.210bfe6e.js"><link rel="prefetch" href="/cs-way/assets/设计模式-装饰.html.0527856b.js"><link rel="prefetch" href="/cs-way/assets/设计模式-观察者.html.e98a41c2.js"><link rel="prefetch" href="/cs-way/assets/设计模式-解释器.html.87645a4d.js"><link rel="prefetch" href="/cs-way/assets/设计模式-访问者.html.2b88e3a5.js"><link rel="prefetch" href="/cs-way/assets/设计模式-责任链.html.6d871a55.js"><link rel="prefetch" href="/cs-way/assets/设计模式-迭代器.html.4e94ddc9.js"><link rel="prefetch" href="/cs-way/assets/设计模式-适配器.html.48c6a8dc.js"><link rel="prefetch" href="/cs-way/assets/设计模式.html.4bec8f58.js"><link rel="prefetch" href="/cs-way/assets/面向对象思想.html.b7f08171.js"><link rel="prefetch" href="/cs-way/assets/index.html.8a7d1052.js"><link rel="prefetch" href="/cs-way/assets/分布式中间件.html.b013c84b.js"><link rel="prefetch" href="/cs-way/assets/分布式事务.html.995290d7.js"><link rel="prefetch" href="/cs-way/assets/分布式搜索.html.006f4b6c.js"><link rel="prefetch" href="/cs-way/assets/分布式数据库.html.f773082c.js"><link rel="prefetch" href="/cs-way/assets/分布式服务.html.af8c6879.js"><link rel="prefetch" href="/cs-way/assets/分布式消息.html.8e7cfaa7.js"><link rel="prefetch" href="/cs-way/assets/分布式缓存.html.76e1f326.js"><link rel="prefetch" href="/cs-way/assets/分布式计算.html.8bbf9b28.js"><link rel="prefetch" href="/cs-way/assets/分布式调度.html.13dfab7b.js"><link rel="prefetch" href="/cs-way/assets/配置中心.html.13ee0b73.js"><link rel="prefetch" href="/cs-way/assets/JS-进阶.html.8a8a6e11.js"><link rel="prefetch" href="/cs-way/assets/JavaScript.html.4d9a5fe4.js"><link rel="prefetch" href="/cs-way/assets/index.html.94f05edc.js"><link rel="prefetch" href="/cs-way/assets/前端基础.html.fa609425.js"><link rel="prefetch" href="/cs-way/assets/Docker.html.067c191b.js"><link rel="prefetch" href="/cs-way/assets/Git.html.48acc2fb.js"><link rel="prefetch" href="/cs-way/assets/IDEA.html.7ace52c6.js"><link rel="prefetch" href="/cs-way/assets/index.html.42cdb1ee.js"><link rel="prefetch" href="/cs-way/assets/VSCode.html.d4a9e9c3.js"><link rel="prefetch" href="/cs-way/assets/构建工具.html.643f6510.js"><link rel="prefetch" href="/cs-way/assets/正则表达式.html.d3bf30bf.js"><link rel="prefetch" href="/cs-way/assets/index.html.4c938fe4.js"><link rel="prefetch" href="/cs-way/assets/代码可读性.html.c53de36c.js"><link rel="prefetch" href="/cs-way/assets/代码风格规范.html.ef8b5297.js"><link rel="prefetch" href="/cs-way/assets/Linux.html.36de295b.js"><link rel="prefetch" href="/cs-way/assets/index.html.1ea15a64.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-内存管理.html.9d283511.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-概述.html.1afa82dc.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-死锁.html.1c693348.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-目录.html.48190774.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-设备管理.html.541ff0eb.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-进程管理.html.0436fd5d.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-链接.html.cc211204.js"><link rel="prefetch" href="/cs-way/assets/Leetcode-Database题解.html.0b1cb3fa.js"><link rel="prefetch" href="/cs-way/assets/MySQL.html.40f165ee.js"><link rel="prefetch" href="/cs-way/assets/index.html.da039aed.js"><link rel="prefetch" href="/cs-way/assets/Redis.html.9930f3d8.js"><link rel="prefetch" href="/cs-way/assets/SQL.html.d9da9d50.js"><link rel="prefetch" href="/cs-way/assets/数据库系统原理.html.51f889e4.js"><link rel="prefetch" href="/cs-way/assets/Dubbo.html.87b6952b.js"><link rel="prefetch" href="/cs-way/assets/Kafka.html.66607281.js"><link rel="prefetch" href="/cs-way/assets/PandoraBoot.html.e319bd3c.js"><link rel="prefetch" href="/cs-way/assets/index.html.6cc0d80c.js"><link rel="prefetch" href="/cs-way/assets/RabbitMQ.html.492e7eee.js"><link rel="prefetch" href="/cs-way/assets/Spring-MVC.html.3d0968a8.js"><link rel="prefetch" href="/cs-way/assets/Spring.html.568437ad.js"><link rel="prefetch" href="/cs-way/assets/SpringBoot.html.4bf9b8e0.js"><link rel="prefetch" href="/cs-way/assets/Zookeeper.html.b0d97524.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-二分查找.html.63c70b1d.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-位运算.html.daa1db7e.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-分治.html.1a553bdb.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-动态规划.html.c3f68fee.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-双指针.html.1487e549.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-哈希表.html.e52afdc7.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-图.html.434ae080.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-字符串.html.3f68eef2.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-排序.html.90904bb7.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-搜索.html.5160fa42.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-数学.html.c78336c8.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-数组与矩阵.html.8f597b64.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-栈和队列.html.7bb54104.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-树.html.aa387938.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-目录.html.2b49d038.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-贪心思想.html.b407c0f1.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-链表.html.b9bd0d6f.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解.html.f422ac13.js"><link rel="prefetch" href="/cs-way/assets/index.html.a92ef41f.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-10~19.html.51f8c9c4.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-20~29.html.f6d3292e.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-30~39.html.d93aa7cd.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-3~9.html.543cacba.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-40~49.html.7f8dfd63.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-50~59.html.3976e9d1.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-60~68.html.ae46cf87.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-目录.html.2ed35101.js"><link rel="prefetch" href="/cs-way/assets/剑指offer题解.html.6c86aad2.js"><link rel="prefetch" href="/cs-way/assets/算法-其它.html.465f6b77.js"><link rel="prefetch" href="/cs-way/assets/算法-并查集.html.3d3f5d9d.js"><link rel="prefetch" href="/cs-way/assets/算法-排序.html.a81344ca.js"><link rel="prefetch" href="/cs-way/assets/算法-栈和队列.html.8bf786e2.js"><link rel="prefetch" href="/cs-way/assets/算法-目录.html.fc28a6b7.js"><link rel="prefetch" href="/cs-way/assets/算法-符号表.html.7c772d84.js"><link rel="prefetch" href="/cs-way/assets/算法-算法分析.html.abd49a6c.js"><link rel="prefetch" href="/cs-way/assets/index.html.a3ff312a.js"><link rel="prefetch" href="/cs-way/assets/分布式.html.f68bb795.js"><link rel="prefetch" href="/cs-way/assets/微服务.html.753f7e9f.js"><link rel="prefetch" href="/cs-way/assets/攻击技术.html.8610d498.js"><link rel="prefetch" href="/cs-way/assets/消息队列.html.a2ca50b0.js"><link rel="prefetch" href="/cs-way/assets/系统设计基础.html.d102ceca.js"><link rel="prefetch" href="/cs-way/assets/缓存.html.267d6aa4.js"><link rel="prefetch" href="/cs-way/assets/集群.html.4f9472d4.js"><link rel="prefetch" href="/cs-way/assets/HTTP.html.c30dcb73.js"><link rel="prefetch" href="/cs-way/assets/Netty.html.837da316.js"><link rel="prefetch" href="/cs-way/assets/index.html.3b112f6d.js"><link rel="prefetch" href="/cs-way/assets/Socket.html.ac4890bf.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-传输层.html.30cc2c86.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-应用层.html.1a0fcd48.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-概述.html.7761b538.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-物理层.html.88954a16.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-目录.html.ad0c0ed3.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-网络层.html.15f27861.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-链路层.html.ad0c7239.js"><link rel="prefetch" href="/cs-way/assets/404.html.ffe43c9f.js"><link rel="prefetch" href="/cs-way/assets/index.html.a6c1a711.js"><link rel="prefetch" href="/cs-way/assets/index.html.27fc6baf.js"><link rel="prefetch" href="/cs-way/assets/index.html.6ed75a62.js"><link rel="prefetch" href="/cs-way/assets/index.html.6935d32d.js"><link rel="prefetch" href="/cs-way/assets/index.html.0ea6ff56.js"><link rel="prefetch" href="/cs-way/assets/index.html.8cd133c2.js"><link rel="prefetch" href="/cs-way/assets/index.html.e46980d9.js"><link rel="prefetch" href="/cs-way/assets/index.html.895c1ae8.js"><link rel="prefetch" href="/cs-way/assets/index.html.ed246a1a.js"><link rel="prefetch" href="/cs-way/assets/index.html.e3e234ba.js"><link rel="prefetch" href="/cs-way/assets/index.html.64abd695.js"><link rel="prefetch" href="/cs-way/assets/index.html.e9ba292e.js"><link rel="prefetch" href="/cs-way/assets/index.html.b699cda5.js"><link rel="prefetch" href="/cs-way/assets/index.html.8e3e6de3.js"><link rel="prefetch" href="/cs-way/assets/index.html.909eae66.js"><link rel="prefetch" href="/cs-way/assets/index.html.14f4a40e.js"><link rel="prefetch" href="/cs-way/assets/index.html.1899bdf4.js"><link rel="prefetch" href="/cs-way/assets/index.html.a3ed7fea.js"><link rel="prefetch" href="/cs-way/assets/index.html.0e0e8bbf.js"><link rel="prefetch" href="/cs-way/assets/index.html.e0fa8138.js"><link rel="prefetch" href="/cs-way/assets/index.html.c8193cd4.js"><link rel="prefetch" href="/cs-way/assets/index.html.0b093ea5.js"><link rel="prefetch" href="/cs-way/assets/index.html.21d699fa.js"><link rel="prefetch" href="/cs-way/assets/index.html.7ff40a92.js"><link rel="prefetch" href="/cs-way/assets/index.html.bd2530a6.js"><link rel="prefetch" href="/cs-way/assets/index.html.fe087ddc.js"><link rel="prefetch" href="/cs-way/assets/index.html.6edea524.js"><link rel="prefetch" href="/cs-way/assets/index.html.f6e3a672.js"><link rel="prefetch" href="/cs-way/assets/index.html.1e40dc12.js"><link rel="prefetch" href="/cs-way/assets/index.html.1e317466.js"><link rel="prefetch" href="/cs-way/assets/index.html.c8524d76.js"><link rel="prefetch" href="/cs-way/assets/index.html.a99d195c.js"><link rel="prefetch" href="/cs-way/assets/index.html.980376e9.js"><link rel="prefetch" href="/cs-way/assets/index.html.df78ecec.js"><link rel="prefetch" href="/cs-way/assets/index.html.e49d56db.js"><link rel="prefetch" href="/cs-way/assets/index.html.e3c0afe2.js"><link rel="prefetch" href="/cs-way/assets/index.html.77190e93.js"><link rel="prefetch" href="/cs-way/assets/index.html.5637096a.js"><link rel="prefetch" href="/cs-way/assets/index.html.ede07d07.js"><link rel="prefetch" href="/cs-way/assets/index.html.8029412a.js"><link rel="prefetch" href="/cs-way/assets/index.html.897e12c7.js"><link rel="prefetch" href="/cs-way/assets/index.html.1a0ca85d.js"><link rel="prefetch" href="/cs-way/assets/index.html.f65d60ae.js"><link rel="prefetch" href="/cs-way/assets/index.html.34b38f19.js"><link rel="prefetch" href="/cs-way/assets/index.html.7ce7edbe.js"><link rel="prefetch" href="/cs-way/assets/index.html.f326ecbb.js"><link rel="prefetch" href="/cs-way/assets/index.html.07770d58.js"><link rel="prefetch" href="/cs-way/assets/index.html.6d8767ed.js"><link rel="prefetch" href="/cs-way/assets/index.html.e61ce351.js"><link rel="prefetch" href="/cs-way/assets/index.html.236a99b6.js"><link rel="prefetch" href="/cs-way/assets/index.html.65303607.js"><link rel="prefetch" href="/cs-way/assets/index.html.72b2b10a.js"><link rel="prefetch" href="/cs-way/assets/index.html.4f8a084f.js"><link rel="prefetch" href="/cs-way/assets/index.html.5eeacf4d.js"><link rel="prefetch" href="/cs-way/assets/index.html.ddc11600.js"><link rel="prefetch" href="/cs-way/assets/index.html.dde127b5.js"><link rel="prefetch" href="/cs-way/assets/index.html.cda00693.js"><link rel="prefetch" href="/cs-way/assets/index.html.47366a21.js"><link rel="prefetch" href="/cs-way/assets/index.html.6a9bd3b5.js"><link rel="prefetch" href="/cs-way/assets/index.html.5dab7f40.js"><link rel="prefetch" href="/cs-way/assets/index.html.700bbe4b.js"><link rel="prefetch" href="/cs-way/assets/index.html.4f7903e4.js"><link rel="prefetch" href="/cs-way/assets/index.html.997188f6.js"><link rel="prefetch" href="/cs-way/assets/index.html.130f9f52.js"><link rel="prefetch" href="/cs-way/assets/index.html.0e29e01e.js"><link rel="prefetch" href="/cs-way/assets/index.html.03c295c3.js"><link rel="prefetch" href="/cs-way/assets/index.html.9fa962a9.js"><link rel="prefetch" href="/cs-way/assets/index.html.923693e9.js"><link rel="prefetch" href="/cs-way/assets/index.html.cc3ab25a.js"><link rel="prefetch" href="/cs-way/assets/index.html.1f64a1d6.js"><link rel="prefetch" href="/cs-way/assets/index.html.ba634821.js"><link rel="prefetch" href="/cs-way/assets/index.html.10828565.js"><link rel="prefetch" href="/cs-way/assets/index.html.da129cca.js"><link rel="prefetch" href="/cs-way/assets/index.html.c42a4913.js"><link rel="prefetch" href="/cs-way/assets/index.html.47b688b7.js"><link rel="prefetch" href="/cs-way/assets/index.html.105fd6cb.js"><link rel="prefetch" href="/cs-way/assets/index.html.1d12ad2c.js"><link rel="prefetch" href="/cs-way/assets/index.html.76bd684a.js"><link rel="prefetch" href="/cs-way/assets/index.html.12161f18.js"><link rel="prefetch" href="/cs-way/assets/index.html.1863d88f.js"><link rel="prefetch" href="/cs-way/assets/index.html.48698d5b.js"><link rel="prefetch" href="/cs-way/assets/index.html.21540b06.js"><link rel="prefetch" href="/cs-way/assets/index.html.f04e335e.js"><link rel="prefetch" href="/cs-way/assets/index.html.28630462.js"><link rel="prefetch" href="/cs-way/assets/index.html.2200e54c.js"><link rel="prefetch" href="/cs-way/assets/index.html.32dae6c1.js"><link rel="prefetch" href="/cs-way/assets/index.html.bdac870a.js"><link rel="prefetch" href="/cs-way/assets/index.html.0e4d7312.js"><link rel="prefetch" href="/cs-way/assets/index.html.eb904598.js"><link rel="prefetch" href="/cs-way/assets/index.html.d24abe31.js"><link rel="prefetch" href="/cs-way/assets/index.html.aa40d046.js"><link rel="prefetch" href="/cs-way/assets/index.html.b87d6d67.js"><link rel="prefetch" href="/cs-way/assets/index.html.db5d4f6d.js"><link rel="prefetch" href="/cs-way/assets/index.html.5ab6af80.js"><link rel="prefetch" href="/cs-way/assets/index.html.b2273976.js"><link rel="prefetch" href="/cs-way/assets/index.html.2f6238c5.js"><link rel="prefetch" href="/cs-way/assets/index.html.b3079f38.js"><link rel="prefetch" href="/cs-way/assets/index.html.9b6f7e8c.js"><link rel="prefetch" href="/cs-way/assets/index.html.516e1469.js"><link rel="prefetch" href="/cs-way/assets/index.html.7d1256ad.js"><link rel="prefetch" href="/cs-way/assets/index.html.5f1ccec8.js"><link rel="prefetch" href="/cs-way/assets/index.html.d920d0fa.js"><link rel="prefetch" href="/cs-way/assets/index.html.e42faf89.js"><link rel="prefetch" href="/cs-way/assets/index.html.3ceb237f.js"><link rel="prefetch" href="/cs-way/assets/index.html.42123c95.js"><link rel="prefetch" href="/cs-way/assets/index.html.5663cb85.js"><link rel="prefetch" href="/cs-way/assets/index.html.93b7d8b5.js"><link rel="prefetch" href="/cs-way/assets/index.html.0319d1c3.js"><link rel="prefetch" href="/cs-way/assets/home.html.d63728ea.js"><link rel="prefetch" href="/cs-way/assets/slide.html.4e3d88bd.js"><link rel="prefetch" href="/cs-way/assets/index.html.bc391a1d.js"><link rel="prefetch" href="/cs-way/assets/JavaEE.html.94389ec7.js"><link rel="prefetch" href="/cs-way/assets/Java基础.html.396a2093.js"><link rel="prefetch" href="/cs-way/assets/Java容器.html.a6b3d8f1.js"><link rel="prefetch" href="/cs-way/assets/Java并发基础.html.8e6571d2.js"><link rel="prefetch" href="/cs-way/assets/Java并发进阶.html.95065029.js"><link rel="prefetch" href="/cs-way/assets/Java特性.html.8b9af12e.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-JVM调优.html.50b406d0.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-内存管理.html.e84fdbf7.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-执行系统.html.e0619a13.js"><link rel="prefetch" href="/cs-way/assets/Java高级.html.bd395a33.js"><link rel="prefetch" href="/cs-way/assets/index.html.b461b1fa.js"><link rel="prefetch" href="/cs-way/assets/index.html.b4348210.js"><link rel="prefetch" href="/cs-way/assets/设计模式-中介者.html.0253c65c.js"><link rel="prefetch" href="/cs-way/assets/设计模式-享元.html.4ff0f77d.js"><link rel="prefetch" href="/cs-way/assets/设计模式-代理.html.d1c07a33.js"><link rel="prefetch" href="/cs-way/assets/设计模式-单例.html.b72fb8f8.js"><link rel="prefetch" href="/cs-way/assets/设计模式-原型模式.html.7fa19fc5.js"><link rel="prefetch" href="/cs-way/assets/设计模式-命令.html.208643fd.js"><link rel="prefetch" href="/cs-way/assets/设计模式-备忘录.html.ad67a7d8.js"><link rel="prefetch" href="/cs-way/assets/设计模式-外观.html.f98428d1.js"><link rel="prefetch" href="/cs-way/assets/设计模式-工厂模式.html.51da6fc0.js"><link rel="prefetch" href="/cs-way/assets/设计模式-建造者模式.html.70444fce.js"><link rel="prefetch" href="/cs-way/assets/设计模式-桥接.html.bcf62413.js"><link rel="prefetch" href="/cs-way/assets/设计模式-模板方法.html.902078e8.js"><link rel="prefetch" href="/cs-way/assets/设计模式-状态.html.efb6634c.js"><link rel="prefetch" href="/cs-way/assets/设计模式-目录.html.6ccc7e5a.js"><link rel="prefetch" href="/cs-way/assets/设计模式-空对象.html.3520c1ec.js"><link rel="prefetch" href="/cs-way/assets/设计模式-策略.html.d3b1275e.js"><link rel="prefetch" href="/cs-way/assets/设计模式-组合.html.a9ff1c11.js"><link rel="prefetch" href="/cs-way/assets/设计模式-装饰.html.e149e92b.js"><link rel="prefetch" href="/cs-way/assets/设计模式-观察者.html.17481b57.js"><link rel="prefetch" href="/cs-way/assets/设计模式-解释器.html.cadbf7e0.js"><link rel="prefetch" href="/cs-way/assets/设计模式-访问者.html.b9ad443e.js"><link rel="prefetch" href="/cs-way/assets/设计模式-责任链.html.791c9ca1.js"><link rel="prefetch" href="/cs-way/assets/设计模式-迭代器.html.a0f2101c.js"><link rel="prefetch" href="/cs-way/assets/设计模式-适配器.html.4cfd0c48.js"><link rel="prefetch" href="/cs-way/assets/设计模式.html.273e8f5b.js"><link rel="prefetch" href="/cs-way/assets/面向对象思想.html.360ff149.js"><link rel="prefetch" href="/cs-way/assets/index.html.44b06bb3.js"><link rel="prefetch" href="/cs-way/assets/分布式中间件.html.b920a28c.js"><link rel="prefetch" href="/cs-way/assets/分布式事务.html.4964bd79.js"><link rel="prefetch" href="/cs-way/assets/分布式搜索.html.fa5b0765.js"><link rel="prefetch" href="/cs-way/assets/分布式数据库.html.6bc423ba.js"><link rel="prefetch" href="/cs-way/assets/分布式服务.html.75cbb605.js"><link rel="prefetch" href="/cs-way/assets/分布式消息.html.742e264c.js"><link rel="prefetch" href="/cs-way/assets/分布式缓存.html.b266fde8.js"><link rel="prefetch" href="/cs-way/assets/分布式计算.html.e56c0ba5.js"><link rel="prefetch" href="/cs-way/assets/分布式调度.html.44ab9dfc.js"><link rel="prefetch" href="/cs-way/assets/配置中心.html.722664b9.js"><link rel="prefetch" href="/cs-way/assets/JS-进阶.html.a6f14eb2.js"><link rel="prefetch" href="/cs-way/assets/JavaScript.html.284f648d.js"><link rel="prefetch" href="/cs-way/assets/index.html.575d3779.js"><link rel="prefetch" href="/cs-way/assets/前端基础.html.6d1533c4.js"><link rel="prefetch" href="/cs-way/assets/Docker.html.abdf73d8.js"><link rel="prefetch" href="/cs-way/assets/Git.html.2163ebb9.js"><link rel="prefetch" href="/cs-way/assets/IDEA.html.56e23d92.js"><link rel="prefetch" href="/cs-way/assets/index.html.351fdc2f.js"><link rel="prefetch" href="/cs-way/assets/VSCode.html.215b20b2.js"><link rel="prefetch" href="/cs-way/assets/构建工具.html.bb66a055.js"><link rel="prefetch" href="/cs-way/assets/正则表达式.html.e22962ce.js"><link rel="prefetch" href="/cs-way/assets/index.html.a0bb368c.js"><link rel="prefetch" href="/cs-way/assets/代码可读性.html.4553e392.js"><link rel="prefetch" href="/cs-way/assets/代码风格规范.html.2716e25b.js"><link rel="prefetch" href="/cs-way/assets/Linux.html.59a654fa.js"><link rel="prefetch" href="/cs-way/assets/index.html.26779b51.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-内存管理.html.04ebe052.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-概述.html.950aa0d2.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-死锁.html.ec0a8ab7.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-目录.html.a7add13e.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-设备管理.html.93acce62.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-进程管理.html.f1136c5e.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-链接.html.fc9b4193.js"><link rel="prefetch" href="/cs-way/assets/Leetcode-Database题解.html.7a6b91ad.js"><link rel="prefetch" href="/cs-way/assets/MySQL.html.b1947dda.js"><link rel="prefetch" href="/cs-way/assets/index.html.591f2ac6.js"><link rel="prefetch" href="/cs-way/assets/Redis.html.3135e7a6.js"><link rel="prefetch" href="/cs-way/assets/SQL.html.fd6be113.js"><link rel="prefetch" href="/cs-way/assets/数据库系统原理.html.5ee9252a.js"><link rel="prefetch" href="/cs-way/assets/Dubbo.html.c811a18a.js"><link rel="prefetch" href="/cs-way/assets/Kafka.html.a471bb58.js"><link rel="prefetch" href="/cs-way/assets/PandoraBoot.html.5852a643.js"><link rel="prefetch" href="/cs-way/assets/index.html.15c8fbfe.js"><link rel="prefetch" href="/cs-way/assets/RabbitMQ.html.eb707260.js"><link rel="prefetch" href="/cs-way/assets/Spring-MVC.html.7352a753.js"><link rel="prefetch" href="/cs-way/assets/Spring.html.f1ea72a7.js"><link rel="prefetch" href="/cs-way/assets/SpringBoot.html.7c4c63dc.js"><link rel="prefetch" href="/cs-way/assets/Zookeeper.html.424eb0d0.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-二分查找.html.7e4babc5.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-位运算.html.694a9e79.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-分治.html.777fc3fe.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-动态规划.html.4a8f70f1.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-双指针.html.f69969dc.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-哈希表.html.bdc04ce0.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-图.html.1f122131.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-字符串.html.9f2cf005.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-排序.html.700fd157.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-搜索.html.e1286e99.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-数学.html.2e056863.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-数组与矩阵.html.bf2d6cf3.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-栈和队列.html.38e89104.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-树.html.4095b0fd.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-目录.html.f29acd88.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-贪心思想.html.89b4cce4.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-链表.html.4eb4fa2a.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解.html.e6b1b416.js"><link rel="prefetch" href="/cs-way/assets/index.html.bc6f0fb7.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-10~19.html.881e8869.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-20~29.html.c2eedb28.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-30~39.html.3504e78d.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-3~9.html.a8d2c4be.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-40~49.html.dc997151.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-50~59.html.45cdc091.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-60~68.html.0ed35776.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-目录.html.b6d114ea.js"><link rel="prefetch" href="/cs-way/assets/剑指offer题解.html.a12b7104.js"><link rel="prefetch" href="/cs-way/assets/算法-其它.html.132fc1c8.js"><link rel="prefetch" href="/cs-way/assets/算法-并查集.html.9fbf24d7.js"><link rel="prefetch" href="/cs-way/assets/算法-排序.html.24b089a4.js"><link rel="prefetch" href="/cs-way/assets/算法-栈和队列.html.e8352195.js"><link rel="prefetch" href="/cs-way/assets/算法-目录.html.513692c2.js"><link rel="prefetch" href="/cs-way/assets/算法-符号表.html.b46662b9.js"><link rel="prefetch" href="/cs-way/assets/算法-算法分析.html.ac1652a8.js"><link rel="prefetch" href="/cs-way/assets/index.html.27106679.js"><link rel="prefetch" href="/cs-way/assets/分布式.html.1e169d90.js"><link rel="prefetch" href="/cs-way/assets/微服务.html.688f93b4.js"><link rel="prefetch" href="/cs-way/assets/攻击技术.html.02f814e5.js"><link rel="prefetch" href="/cs-way/assets/消息队列.html.87718630.js"><link rel="prefetch" href="/cs-way/assets/系统设计基础.html.4085e89c.js"><link rel="prefetch" href="/cs-way/assets/缓存.html.c8b38e8a.js"><link rel="prefetch" href="/cs-way/assets/集群.html.50dc8930.js"><link rel="prefetch" href="/cs-way/assets/HTTP.html.d8b339eb.js"><link rel="prefetch" href="/cs-way/assets/Netty.html.b3dc1334.js"><link rel="prefetch" href="/cs-way/assets/index.html.fb7ad9db.js"><link rel="prefetch" href="/cs-way/assets/Socket.html.48c5918a.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-传输层.html.211395cf.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-应用层.html.d0b60d96.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-概述.html.06227c65.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-物理层.html.58f0eeb3.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-目录.html.d4728a2f.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-网络层.html.15fec5a3.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-链路层.html.de75ad5e.js"><link rel="prefetch" href="/cs-way/assets/404.html.0c8252b8.js"><link rel="prefetch" href="/cs-way/assets/index.html.d5cc08ad.js"><link rel="prefetch" href="/cs-way/assets/index.html.1331f6ca.js"><link rel="prefetch" href="/cs-way/assets/index.html.da6c3a69.js"><link rel="prefetch" href="/cs-way/assets/index.html.1174fbbd.js"><link rel="prefetch" href="/cs-way/assets/index.html.c73d2264.js"><link rel="prefetch" href="/cs-way/assets/index.html.1e315145.js"><link rel="prefetch" href="/cs-way/assets/index.html.514b72a3.js"><link rel="prefetch" href="/cs-way/assets/index.html.1024e797.js"><link rel="prefetch" href="/cs-way/assets/index.html.33ef0ef0.js"><link rel="prefetch" href="/cs-way/assets/index.html.b19f5086.js"><link rel="prefetch" href="/cs-way/assets/index.html.6f722863.js"><link rel="prefetch" href="/cs-way/assets/index.html.cc44c5e5.js"><link rel="prefetch" href="/cs-way/assets/index.html.5a1edb43.js"><link rel="prefetch" href="/cs-way/assets/index.html.adc1caed.js"><link rel="prefetch" href="/cs-way/assets/index.html.689a112f.js"><link rel="prefetch" href="/cs-way/assets/index.html.384f462a.js"><link rel="prefetch" href="/cs-way/assets/index.html.da370e27.js"><link rel="prefetch" href="/cs-way/assets/index.html.96c332e8.js"><link rel="prefetch" href="/cs-way/assets/index.html.391bc411.js"><link rel="prefetch" href="/cs-way/assets/index.html.6499098b.js"><link rel="prefetch" href="/cs-way/assets/index.html.d50f3951.js"><link rel="prefetch" href="/cs-way/assets/index.html.7c07e9c6.js"><link rel="prefetch" href="/cs-way/assets/index.html.512dc3aa.js"><link rel="prefetch" href="/cs-way/assets/index.html.e29804db.js"><link rel="prefetch" href="/cs-way/assets/index.html.1583d5bd.js"><link rel="prefetch" href="/cs-way/assets/index.html.f11199fe.js"><link rel="prefetch" href="/cs-way/assets/index.html.6a85ed77.js"><link rel="prefetch" href="/cs-way/assets/index.html.a52fb383.js"><link rel="prefetch" href="/cs-way/assets/index.html.68bde1ba.js"><link rel="prefetch" href="/cs-way/assets/index.html.1c804a38.js"><link rel="prefetch" href="/cs-way/assets/index.html.19b583a8.js"><link rel="prefetch" href="/cs-way/assets/index.html.48f8d7da.js"><link rel="prefetch" href="/cs-way/assets/index.html.684fd764.js"><link rel="prefetch" href="/cs-way/assets/index.html.5697515e.js"><link rel="prefetch" href="/cs-way/assets/index.html.5561b27d.js"><link rel="prefetch" href="/cs-way/assets/index.html.111571e6.js"><link rel="prefetch" href="/cs-way/assets/index.html.735809e4.js"><link rel="prefetch" href="/cs-way/assets/index.html.83d94288.js"><link rel="prefetch" href="/cs-way/assets/index.html.6bae0842.js"><link rel="prefetch" href="/cs-way/assets/index.html.d5f8e0ba.js"><link rel="prefetch" href="/cs-way/assets/index.html.2a349619.js"><link rel="prefetch" href="/cs-way/assets/index.html.7ecbba7c.js"><link rel="prefetch" href="/cs-way/assets/index.html.4a5769c1.js"><link rel="prefetch" href="/cs-way/assets/index.html.627907e5.js"><link rel="prefetch" href="/cs-way/assets/index.html.710beb22.js"><link rel="prefetch" href="/cs-way/assets/index.html.fcba52fd.js"><link rel="prefetch" href="/cs-way/assets/index.html.d8b64427.js"><link rel="prefetch" href="/cs-way/assets/index.html.d009ddb7.js"><link rel="prefetch" href="/cs-way/assets/index.html.c30f9d56.js"><link rel="prefetch" href="/cs-way/assets/index.html.9bcd9e60.js"><link rel="prefetch" href="/cs-way/assets/index.html.8437292d.js"><link rel="prefetch" href="/cs-way/assets/index.html.3a38d2aa.js"><link rel="prefetch" href="/cs-way/assets/index.html.5a9b1b1f.js"><link rel="prefetch" href="/cs-way/assets/index.html.b4c2f128.js"><link rel="prefetch" href="/cs-way/assets/index.html.acba21be.js"><link rel="prefetch" href="/cs-way/assets/index.html.90ac7786.js"><link rel="prefetch" href="/cs-way/assets/index.html.df323cb3.js"><link rel="prefetch" href="/cs-way/assets/index.html.3eba4032.js"><link rel="prefetch" href="/cs-way/assets/index.html.4a1bee7d.js"><link rel="prefetch" href="/cs-way/assets/index.html.20f7187a.js"><link rel="prefetch" href="/cs-way/assets/index.html.8d52f380.js"><link rel="prefetch" href="/cs-way/assets/index.html.f7c97715.js"><link rel="prefetch" href="/cs-way/assets/index.html.a6389f83.js"><link rel="prefetch" href="/cs-way/assets/index.html.f69cb608.js"><link rel="prefetch" href="/cs-way/assets/index.html.829c151f.js"><link rel="prefetch" href="/cs-way/assets/index.html.a0a43751.js"><link rel="prefetch" href="/cs-way/assets/index.html.80c93ce0.js"><link rel="prefetch" href="/cs-way/assets/index.html.d85e6c73.js"><link rel="prefetch" href="/cs-way/assets/index.html.602e0b6b.js"><link rel="prefetch" href="/cs-way/assets/index.html.f063a654.js"><link rel="prefetch" href="/cs-way/assets/index.html.27e5ccce.js"><link rel="prefetch" href="/cs-way/assets/index.html.ae278e4a.js"><link rel="prefetch" href="/cs-way/assets/index.html.16bd935f.js"><link rel="prefetch" href="/cs-way/assets/index.html.03e05ef7.js"><link rel="prefetch" href="/cs-way/assets/index.html.e46f2f28.js"><link rel="prefetch" href="/cs-way/assets/index.html.241da32d.js"><link rel="prefetch" href="/cs-way/assets/index.html.7efe1f06.js"><link rel="prefetch" href="/cs-way/assets/index.html.289f37bc.js"><link rel="prefetch" href="/cs-way/assets/index.html.eaea4fa5.js"><link rel="prefetch" href="/cs-way/assets/index.html.ce7f8c55.js"><link rel="prefetch" href="/cs-way/assets/index.html.00d7e402.js"><link rel="prefetch" href="/cs-way/assets/index.html.e43d520a.js"><link rel="prefetch" href="/cs-way/assets/index.html.7746dbb2.js"><link rel="prefetch" href="/cs-way/assets/index.html.509e3c27.js"><link rel="prefetch" href="/cs-way/assets/index.html.33461bc6.js"><link rel="prefetch" href="/cs-way/assets/index.html.d859a6f6.js"><link rel="prefetch" href="/cs-way/assets/index.html.ab07f353.js"><link rel="prefetch" href="/cs-way/assets/index.html.3d33e604.js"><link rel="prefetch" href="/cs-way/assets/index.html.ea944e99.js"><link rel="prefetch" href="/cs-way/assets/index.html.a07c9792.js"><link rel="prefetch" href="/cs-way/assets/index.html.2a452567.js"><link rel="prefetch" href="/cs-way/assets/index.html.2dedd7b9.js"><link rel="prefetch" href="/cs-way/assets/index.html.9abe9187.js"><link rel="prefetch" href="/cs-way/assets/index.html.76b5f45b.js"><link rel="prefetch" href="/cs-way/assets/index.html.f19a1ddb.js"><link rel="prefetch" href="/cs-way/assets/index.html.0f8343cd.js"><link rel="prefetch" href="/cs-way/assets/index.html.fa7a0589.js"><link rel="prefetch" href="/cs-way/assets/index.html.7fac357a.js"><link rel="prefetch" href="/cs-way/assets/index.html.4afd4adc.js"><link rel="prefetch" href="/cs-way/assets/index.html.2fa1fe22.js"><link rel="prefetch" href="/cs-way/assets/index.html.c4812898.js"><link rel="prefetch" href="/cs-way/assets/index.html.80514615.js"><link rel="prefetch" href="/cs-way/assets/index.html.92f2ef37.js"><link rel="prefetch" href="/cs-way/assets/index.html.178e6e46.js"><link rel="prefetch" href="/cs-way/assets/index.html.806c9e56.js"><link rel="prefetch" href="/cs-way/assets/index.html.7f3382ff.js"><link rel="prefetch" href="/cs-way/assets/index.html.f47c225c.js"><link rel="prefetch" href="/cs-way/assets/404.9e25cfbd.js"><link rel="prefetch" href="/cs-way/assets/Layout.cc342bd7.js"><link rel="prefetch" href="/cs-way/assets/Slide.8631c3be.js"><link rel="prefetch" href="/cs-way/assets/Blog.804e3deb.js"><link rel="prefetch" href="/cs-way/assets/giscus.es.d2953791.js"><link rel="prefetch" href="/cs-way/assets/auto.esm.15d52109.js"><link rel="prefetch" href="/cs-way/assets/index.1842ee54.js"><link rel="prefetch" href="/cs-way/assets/mermaid.esm.min.95aabeb7.js"><link rel="prefetch" href="/cs-way/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/cs-way/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/cs-way/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/cs-way/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/cs-way/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/cs-way/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/cs-way/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/cs-way/assets/photoswipe.esm.92018b73.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/cs-way/" class="home-link"><img class="logo" src="/cs-way/logo.svg" alt="CS Way"><!----><span class="site-name hide-in-pad">CS Way</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/cs-way/" class="nav-link" aria-label="主页"><i class="icon iconfont icon-home"></i>主页<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="计算机基础"><span class="title"><i class="icon iconfont icon-creative"></i>计算机基础</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cs-way/notes/%E6%95%B0%E6%8D%AE%E5%BA%93" class="nav-link" aria-label="数据库"><!---->数据库<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" class="nav-link" aria-label="操作系统"><!---->操作系统<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E7%BD%91%E7%BB%9C" class="nav-link" aria-label="网络"><!---->网络<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="软件工程"><span class="title"><i class="icon iconfont icon-creative"></i>软件工程</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cs-way/notes/%E7%AE%97%E6%B3%95" class="nav-link" aria-label="算法"><!---->算法<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1" class="nav-link" aria-label="系统设计"><!---->系统设计<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/OOP" class="nav-link" aria-label="OOP"><!---->OOP<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E5%B7%A5%E7%A8%8B%E8%B4%A8%E9%87%8F" class="nav-link" aria-label="工程质量"><!---->工程质量<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="研发"><span class="title"><!---->研发</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cs-way/notes/Java" class="nav-link active" aria-label="java"><!---->java<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E6%A1%86%E6%9E%B6" class="nav-link" aria-label="框架"><!---->框架<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6" class="nav-link" aria-label="中间件"><!---->中间件<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E5%89%8D%E7%AB%AF" class="nav-link" aria-label="前端"><!---->前端<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/cs-way/notes/%E5%B7%A5%E5%85%B7/" class="nav-link" aria-label="工具软件"><i class="icon iconfont icon-creative"></i>工具软件<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://vuepress-theme-hope.github.io/v2/zh/" rel="noopener noreferrer" target="_blank" aria-label="主题文档" class="nav-link"><i class="icon iconfont icon-note"></i>主题文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/kabitonn/cs-note" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><!----><span class="title">Java</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/cs-way/notes/Java/Java%E5%9F%BA%E7%A1%80.html" class="nav-link sidebar-link sidebar-page" aria-label="Java基础"><!---->Java基础<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E5%AE%B9%E5%99%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="Java容器"><!---->Java容器<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="JavaIO"><!---->JavaIO<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#分类说明" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="分类说明"><!---->分类说明<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#操作方式分类结构" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="操作方式分类结构"><!---->操作方式分类结构<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#操作对象分类结构" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="操作对象分类结构"><!---->操作对象分类结构<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#其他类" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="其他类"><!---->其他类<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E7%89%B9%E6%80%A7.html" class="nav-link sidebar-link sidebar-page" aria-label="Java8特性"><!---->Java8特性<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E5%B9%B6%E5%8F%91%E5%9F%BA%E7%A1%80.html" class="nav-link sidebar-link sidebar-page" aria-label="Java并发基础"><!---->Java并发基础<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E5%B9%B6%E5%8F%91%E8%BF%9B%E9%98%B6.html" class="nav-link sidebar-link sidebar-page" aria-label="Java并发进阶"><!---->Java并发进阶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html" class="nav-link sidebar-link sidebar-page" aria-label="Java虚拟机内存管理"><!---->Java虚拟机内存管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-%E6%89%A7%E8%A1%8C%E7%B3%BB%E7%BB%9F.html" class="nav-link sidebar-link sidebar-page" aria-label="Java虚拟机执行系统"><!---->Java虚拟机执行系统<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/Java%E8%99%9A%E6%8B%9F%E6%9C%BA-JVM%E8%B0%83%E4%BC%98.html" class="nav-link sidebar-link sidebar-page" aria-label="Java虚拟机JVM调优"><!---->Java虚拟机JVM调优<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/Java/JavaEE.html" class="nav-link sidebar-link sidebar-page" aria-label="JavaEE"><!---->JavaEE<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->JavaIO</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">Vika</a></span><span property="author" content="Vika"></span></span><!----><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022年5月16日</span><meta property="datePublished" content="2022-05-16T12:07:59.000Z"></span><span class="category-info" aria-label="分类🌈" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category4 clickable" role="navigation">Java</li><meta property="articleSection" content="Java"></ul></span><span aria-label="标签🏷" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag7 clickable" role="navigation">IO</li><li class="tag tag5 clickable" role="navigation">NIO</li></ul><meta property="keywords" content="IO,NIO"></span><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 32 分钟</span><meta property="timeRequired" content="PT32M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#一、概览" class="router-link-active router-link-exact-active toc-link level1">一、概览</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#分类说明" class="router-link-active router-link-exact-active toc-link level2">分类说明</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#操作方式分类结构" class="router-link-active router-link-exact-active toc-link level3">操作方式分类结构</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#操作对象分类结构" class="router-link-active router-link-exact-active toc-link level3">操作对象分类结构</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#其他类" class="router-link-active router-link-exact-active toc-link level3">其他类</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#二、磁盘操作" class="router-link-active router-link-exact-active toc-link level1">二、磁盘操作</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#file" class="router-link-active router-link-exact-active toc-link level2">File</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#path" class="router-link-active router-link-exact-active toc-link level2">Path</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#files" class="router-link-active router-link-exact-active toc-link level2">Files</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#三、字节操作" class="router-link-active router-link-exact-active toc-link level1">三、字节操作</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#实现文件复制" class="router-link-active router-link-exact-active toc-link level2">实现文件复制</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#装饰者模式" class="router-link-active router-link-exact-active toc-link level2">装饰者模式</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#四、字符操作" class="router-link-active router-link-exact-active toc-link level1">四、字符操作</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#编码与解码" class="router-link-active router-link-exact-active toc-link level2">编码与解码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#string-的编码方式" class="router-link-active router-link-exact-active toc-link level2">String 的编码方式</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#reader-与-writer" class="router-link-active router-link-exact-active toc-link level2">Reader 与 Writer</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#实现逐行输出文本文件的内容" class="router-link-active router-link-exact-active toc-link level2">实现逐行输出文本文件的内容</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#五、对象操作" class="router-link-active router-link-exact-active toc-link level1">五、对象操作</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#序列化" class="router-link-active router-link-exact-active toc-link level2">序列化</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#serializable" class="router-link-active router-link-exact-active toc-link level2">Serializable</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#transient" class="router-link-active router-link-exact-active toc-link level2">transient</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#六、网络操作" class="router-link-active router-link-exact-active toc-link level1">六、网络操作</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#inetaddress" class="router-link-active router-link-exact-active toc-link level2">InetAddress</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#url" class="router-link-active router-link-exact-active toc-link level2">URL</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#sockets" class="router-link-active router-link-exact-active toc-link level2">Sockets</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#datagram" class="router-link-active router-link-exact-active toc-link level2">Datagram</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#七、nio" class="router-link-active router-link-exact-active toc-link level1">七、NIO</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#流与块" class="router-link-active router-link-exact-active toc-link level2">流与块</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#通道" class="router-link-active router-link-exact-active toc-link level2">通道</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#缓冲区" class="router-link-active router-link-exact-active toc-link level2">缓冲区</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#缓冲区状态变量" class="router-link-active router-link-exact-active toc-link level3">缓冲区状态变量</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#选择器" class="router-link-active router-link-exact-active toc-link level2">选择器</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#_1-创建选择器" class="router-link-active router-link-exact-active toc-link level3">1. 创建选择器</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#_2-将通道注册到选择器上" class="router-link-active router-link-exact-active toc-link level3">2. 将通道注册到选择器上</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#_3-监听事件" class="router-link-active router-link-exact-active toc-link level3">3. 监听事件</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#_4-获取到达的事件" class="router-link-active router-link-exact-active toc-link level3">4. 获取到达的事件</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#_5-事件循环" class="router-link-active router-link-exact-active toc-link level3">5. 事件循环</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#文件-nio-实例" class="router-link-active router-link-exact-active toc-link level2">文件 NIO 实例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#套接字-nio-实例" class="router-link-active router-link-exact-active toc-link level2">套接字 NIO 实例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#其他实例" class="router-link-active router-link-exact-active toc-link level2">其他实例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#scatter-gather" class="router-link-active router-link-exact-active toc-link level2">Scatter / Gather</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#内存映射文件" class="router-link-active router-link-exact-active toc-link level2">内存映射文件</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#bio-nio-aio" class="router-link-active router-link-exact-active toc-link level1">BIO,NIO,AIO</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#bio-blocking-i-o" class="router-link-active router-link-exact-active toc-link level2">BIO(Blocking I/O)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#nio-non-blocking-i-o" class="router-link-active router-link-exact-active toc-link level2">NIO(Non-blocking I/O)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#aio-asynchronous-i-o" class="router-link-active router-link-exact-active toc-link level2">AIO(Asynchronous I/O)</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/Java/JavaIO.html#八、参考资料" class="router-link-active router-link-exact-active toc-link level1">八、参考资料</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><ul><li><a href="#%E4%B8%80%E6%A6%82%E8%A7%88">一、概览</a><ul><li><a href="#%E5%88%86%E7%B1%BB%E8%AF%B4%E6%98%8E">分类说明</a><ul><li><a href="#%E6%93%8D%E4%BD%9C%E6%96%B9%E5%BC%8F%E5%88%86%E7%B1%BB%E7%BB%93%E6%9E%84">操作方式分类结构</a></li><li><a href="#%E6%93%8D%E4%BD%9C%E5%AF%B9%E8%B1%A1%E5%88%86%E7%B1%BB%E7%BB%93%E6%9E%84">操作对象分类结构</a></li><li><a href="#%E5%85%B6%E4%BB%96%E7%B1%BB">其他类</a></li></ul></li></ul></li><li><a href="#%E4%BA%8C%E7%A3%81%E7%9B%98%E6%93%8D%E4%BD%9C">二、磁盘操作</a><ul><li><a href="#file">File</a></li><li><a href="#path">Path</a></li><li><a href="#files">Files</a></li></ul></li><li><a href="#%E4%B8%89%E5%AD%97%E8%8A%82%E6%93%8D%E4%BD%9C">三、字节操作</a><ul><li><a href="#%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E5%A4%8D%E5%88%B6">实现文件复制</a></li><li><a href="#%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F">装饰者模式</a></li></ul></li><li><a href="#%E5%9B%9B%E5%AD%97%E7%AC%A6%E6%93%8D%E4%BD%9C">四、字符操作</a><ul><li><a href="#%E7%BC%96%E7%A0%81%E4%B8%8E%E8%A7%A3%E7%A0%81">编码与解码</a></li><li><a href="#string-%E7%9A%84%E7%BC%96%E7%A0%81%E6%96%B9%E5%BC%8F">String 的编码方式</a></li><li><a href="#reader-%E4%B8%8E-writer">Reader 与 Writer</a></li><li><a href="#%E5%AE%9E%E7%8E%B0%E9%80%90%E8%A1%8C%E8%BE%93%E5%87%BA%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9">实现逐行输出文本文件的内容</a></li></ul></li><li><a href="#%E4%BA%94%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C">五、对象操作</a><ul><li><a href="#%E5%BA%8F%E5%88%97%E5%8C%96">序列化</a></li><li><a href="#serializable">Serializable</a></li><li><a href="#transient">transient</a></li></ul></li><li><a href="#%E5%85%AD%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C">六、网络操作</a><ul><li><a href="#inetaddress">InetAddress</a></li><li><a href="#url">URL</a></li><li><a href="#sockets">Sockets</a></li><li><a href="#datagram">Datagram</a></li></ul></li><li><a href="#%E4%B8%83nio">七、NIO</a><ul><li><a href="#%E6%B5%81%E4%B8%8E%E5%9D%97">流与块</a></li><li><a href="#%E9%80%9A%E9%81%93">通道</a></li><li><a href="#%E7%BC%93%E5%86%B2%E5%8C%BA">缓冲区</a><ul><li><a href="#%E7%BC%93%E5%86%B2%E5%8C%BA%E7%8A%B6%E6%80%81%E5%8F%98%E9%87%8F">缓冲区状态变量</a></li></ul></li><li><a href="#%E9%80%89%E6%8B%A9%E5%99%A8">选择器</a><ul><li><a href="#1-%E5%88%9B%E5%BB%BA%E9%80%89%E6%8B%A9%E5%99%A8">1. 创建选择器</a></li><li><a href="#2-%E5%B0%86%E9%80%9A%E9%81%93%E6%B3%A8%E5%86%8C%E5%88%B0%E9%80%89%E6%8B%A9%E5%99%A8%E4%B8%8A">2. 将通道注册到选择器上</a></li><li><a href="#3-%E7%9B%91%E5%90%AC%E4%BA%8B%E4%BB%B6">3. 监听事件</a></li><li><a href="#4-%E8%8E%B7%E5%8F%96%E5%88%B0%E8%BE%BE%E7%9A%84%E4%BA%8B%E4%BB%B6">4. 获取到达的事件</a></li><li><a href="#5-%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF">5. 事件循环</a></li></ul></li><li><a href="#%E6%96%87%E4%BB%B6-nio-%E5%AE%9E%E4%BE%8B">文件 NIO 实例</a></li><li><a href="#%E5%A5%97%E6%8E%A5%E5%AD%97-nio-%E5%AE%9E%E4%BE%8B">套接字 NIO 实例</a></li><li><a href="#%E5%85%B6%E4%BB%96%E5%AE%9E%E4%BE%8B">其他实例</a></li><li><a href="#scatter--gather">Scatter / Gather</a></li><li><a href="#%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6">内存映射文件</a></li></ul></li><li><a href="#bionioaio">BIO,NIO,AIO</a><ul><li><a href="#bioblocking-io">BIO(Blocking I/O)</a></li><li><a href="#nionon-blocking-io">NIO(Non-blocking I/O)</a></li><li><a href="#aioasynchronous-io">AIO(Asynchronous I/O)</a></li></ul></li><li><a href="#%E5%85%AB%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">八、参考资料</a></li></ul><h1 id="一、概览" tabindex="-1"><a class="header-anchor" href="#一、概览" aria-hidden="true">#</a> 一、概览</h1><p>Java 的 I/O 大概可以分成以下几类：</p><ul><li>磁盘操作：File</li><li>字节操作：InputStream 和 OutputStream</li><li>字符操作：Reader 和 Writer</li><li>对象操作：Serializable</li><li>网络操作：Socket</li><li>新的输入/输出：NIO</li></ul><h2 id="分类说明" tabindex="-1"><a class="header-anchor" href="#分类说明" aria-hidden="true">#</a> 分类说明</h2><p>IO流的分类：</p><ul><li>按照流的流向分 <ul><li>输出流：从内存读出到文件。只能进行写操作。</li><li>输入流：从文件读入到内存。只能进行读操作。</li></ul></li><li>按照操作单元划分 <ul><li>字节流：以字节为单位，每次次读入或读出是8位数据。可以读任何类型数据。</li><li>字符流：以字符为单位，每次次读入或读出是16位数据。其只能读取字符类型数据。</li></ul></li><li>按照流的角色划分 <ul><li>节点流：直接与数据源相连，读入或读出。</li><li>处理流：与节点流一块使用，在节点流的基础上，再套接一层，套接在节点流上的就是处理流。</li></ul></li></ul><p>流的原理浅析:</p><ul><li>java Io流共涉及40多个类，这些类看上去很杂乱，但实际上很有规则，而且彼此之间存在非常紧密的联系， Java Io流的40多个类都是从如下4个抽象类基类中派生出来的。</li><li>InputStream/Reader: 所有的输入流的基类，前者是字节输入流，后者是字符输入流。</li><li>OutputStream/Writer: 所有输出流的基类，前者是字节输出流，后者是字符输出流。</li></ul><p><a href="https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&amp;mid=2247484945&amp;idx=1&amp;sn=229be49807e3c2a9621f42c0a6c0aeb6&amp;source=41#wechat_redirect" target="_blank" rel="noopener noreferrer">Java IO 面试题<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="操作方式分类结构" tabindex="-1"><a class="header-anchor" href="#操作方式分类结构" aria-hidden="true">#</a> 操作方式分类结构</h3><div align="center"><p><img src="/cs-way/assets/IO-操作方式分类.309ee6d9.png" alt="" title=":size=800" loading="lazy"></p></div><p><strong>输入字节流InputStream</strong>：</p><ul><li>ByteArrayInputStream、StringBufferInputStream、FileInputStream 是三种基本的介质流，它们分别从Byte 数组、StringBuffer、和本地文件中读取数据。</li><li>PipedInputStream 是从与其它线程共用的管道中读取数据。PipedInputStream的一个实例要和PipedOutputStream的一个实例共同使用，共同完成管道的读取写入操作。主要用于线程操作。</li><li>DataInputStream： 将基础数据类型读取出来</li><li>ObjectInputStream 和所有 FilterInputStream 的子类都是装饰流(装饰器模式的主角）。</li></ul><p><strong>输出字节流OutputStream</strong>：</p><ul><li>ByteArrayOutputStream、FileOutputStream： 是两种基本的介质流，它们分别向- Byte 数组、和本地文件中写入数据。</li><li>PipedOutputStream 是向与其它线程共用的管道中写入数据。</li><li>DataOutputStream 将基础数据类型写入到文件中</li><li>ObjectOutputStream 和所有 FilterOutputStream 的子类都是装饰流。</li></ul><p><strong>字符输入流Reader</strong>：</p><ul><li>FileReader、CharReader、StringReader 是三种基本的介质流，它们分在本地文件、Char 数组、String中读取数据。</li><li>PipedReader：是从与其它线程共用的管道中读取数据</li><li>BufferedReader ：加缓冲功能，避免频繁读写硬盘</li><li>InputStreamReader： 是一个连接字节流和字符流的桥梁，它将字节流转变为字符流。</li></ul><p><strong>字符输出流Writer</strong>：</p><ul><li>StringWriter:向String 中写入数据。</li><li>CharArrayWriter：实现一个可用作字符输入流的字符缓冲区</li><li>PipedWriter:是向与其它线程共用的管道中写入数据</li><li>BufferedWriter ： 增加缓冲功能，避免频繁读写硬盘。</li><li>PrintWriter 和 PrintStream 将对象的格式表示打印到文本输出流。 极其类似，功能和使用也非常相似</li><li>OutputStreamWriter： 是 OutputStream 到 Writer 转换的桥梁，它的子类FileWriter 其实就是一个实现此功能的具体类</li></ul><h3 id="操作对象分类结构" tabindex="-1"><a class="header-anchor" href="#操作对象分类结构" aria-hidden="true">#</a> 操作对象分类结构</h3><div align="center"><p><img src="/cs-way/assets/IO-操作对象分类.3201c444.png" alt="" title=":size=800" loading="lazy"></p></div><p>对<strong>文件</strong>进行操作(节点流）：</p><ul><li>FileInputStream(字节输入流）</li><li>FileOutputStream(字节输出流）</li><li>FileReader(字符输入流）</li><li>FileWriter(字符输出流）</li></ul><p>对<strong>管道</strong>进行操作(节点流）：</p><ul><li>PipedInputStream(字节输入流）</li><li>PipedOutStream(字节输出流）</li><li>PipedReader(字符输入流）</li><li>PipedWriter(字符输出流）</li></ul><p>PipedInputStream的一个实例要和PipedOutputStream的一个实例共同使用，共同完成管道的读取写入操作。主要用于线程操作。</p><p><strong>字节/字符数组</strong>流(节点流）：</p><ul><li>ByteArrayInputStream</li><li>ByteArrayOutputStream</li><li>CharArrayReader</li><li>CharArrayWriter</li></ul><p>除了上述三种是节点流，其他都是处理流，需要跟节点流配合使用。</p><p>Buffered缓冲流(处理流）：带缓冲区的处理流，缓冲区的作用的主要目的是：避免每次和硬盘打交道，提高数据访问的效率</p><ul><li>BufferedInputStream</li><li>BufferedOutputStream</li><li>BufferedReader</li><li>BufferedWriter</li></ul><p>转化流(处理流）：</p><ul><li>InputStreamReader：把字节转化成字符</li><li>OutputStreamWriter：把字节转化成字符。</li></ul><p>基本类型数据流(处理流）：用于操作基本数据类型值</p><ul><li>DataInputStream</li><li>DataOutputStream</li></ul><p>打印流(处理流）：一般是打印到控制台，可以进行控制打印的地方</p><ul><li>PrintStream</li><li>PrintWriter</li></ul><p>对象流(处理流）：把封装的对象直接输出，而不是一个个在转换成字符串再输出</p><ul><li>ObjectInputStream：对象反序列化</li><li>ObjectOutputStream：对象序列化</li></ul><p>合并流(处理流）：</p><ul><li>SequenceInputStream：可以认为是一个工具类，将两个或者多个输入流当成一个输入流依次读取。</li></ul><h3 id="其他类" tabindex="-1"><a class="header-anchor" href="#其他类" aria-hidden="true">#</a> 其他类</h3><p><strong>File类</strong>是对文件系统中文件以及文件夹进行封装的对象，可以通过对象的思想来操作文件和文件夹。 File类保存文件或目录的各种元数据信息，包括文件名、文件长度、最后修改时间、是否可读、获取当前文件的路径名，判断指定文件是否存在、获得当前目录中的文件列表，创建、删除文件和目录等方法。</p><p><strong>RandomAccessFile</strong>，该对象并不是流体系中的一员，其封装了字节流，同时还封装了一个缓冲区(字符数组），通过内部的指针来操作字符数组中的数据。 该对象特点：</p><ul><li>该对象只能操作文件，所以构造函数接收两种类型的参数：a.字符串文件路径；b.File对象</li><li>该对象既可以对文件进行读操作，也能进行写操作，在进行对象实例化时可指定操作模式(r,rw)</li></ul><h1 id="二、磁盘操作" tabindex="-1"><a class="header-anchor" href="#二、磁盘操作" aria-hidden="true">#</a> 二、磁盘操作</h1><p>Java7中文件IO发生了很大的变化，专门引入了很多新的类来取代原来的基于java.io.File的文件IO操作方式</p><h2 id="file" tabindex="-1"><a class="header-anchor" href="#file" aria-hidden="true">#</a> File</h2><p>File 类可以用于表示文件和目录的信息，但是它不表示文件的内容。</p><p>递归地列出一个目录下所有文件：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">listAllFiles</span><span class="token punctuation">(</span><span class="token class-name">File</span> dir<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dir <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span>dir<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dir<span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dir<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">File</span> file <span class="token operator">:</span> dir<span class="token punctuation">.</span><span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">listAllFiles</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>从 Java7 开始，可以使用 Paths 和 Files 代替 File。</p><h2 id="path" tabindex="-1"><a class="header-anchor" href="#path" aria-hidden="true">#</a> Path</h2><ol><li>创建一个Path <ul><li>创建Path实例可以通过 Paths工具类 的 get(）方法：</li></ul></li><li>File和Path之间的转换，File和URI之间的转换</li><li>获取Path的相关信息</li><li>移除冗余项：把.和..去除 <ul><li>normalize() : 返回一个路径，该路径是冗余名称元素的消除</li><li>toRealPath() : 融合了toAbsolutePath()方法和normalize()方法</li></ul></li></ol><h2 id="files" tabindex="-1"><a class="header-anchor" href="#files" aria-hidden="true">#</a> Files</h2><p>Java NIO中的Files类(java.nio.file.Files）提供了多种操作文件系统中文件的方法。</p><p>java.nio.file.Files类是和java.nio.file.Path相结合使用的</p><ol><li>检查给定的Path在文件系统中是否存在：Files.exists()</li><li>创建文件/文件夹 <ul><li>Files.createFile()：创建文件</li><li>Files.createDirectories()：首先创建所有不存在的父目录来创建目录</li><li>Files.createDirectory()：只是创建目录</li></ul></li><li>删除文件或目录：Files.delete()</li><li>把一个文件从一个地址复制到另一个位置:Files.copy()</li><li>获取文件属性</li><li>遍历一个文件夹：Files.newDirectoryStream()</li><li>遍历整个文件目录：Files.walkFileTree()</li></ol><h1 id="三、字节操作" tabindex="-1"><a class="header-anchor" href="#三、字节操作" aria-hidden="true">#</a> 三、字节操作</h1><h2 id="实现文件复制" tabindex="-1"><a class="header-anchor" href="#实现文件复制" aria-hidden="true">#</a> 实现文件复制</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">copyFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> src<span class="token punctuation">,</span> <span class="token class-name">String</span> dist<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileInputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">FileOutputStream</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>dist<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">20</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> cnt<span class="token punctuation">;</span>

    <span class="token comment">// read() 最多读取 buffer.length 个字节</span>
    <span class="token comment">// 返回的是实际读取的个数</span>
    <span class="token comment">// 返回 -1 的时候表示读到 eof，即文件尾</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>cnt <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> buffer<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="装饰者模式" tabindex="-1"><a class="header-anchor" href="#装饰者模式" aria-hidden="true">#</a> 装饰者模式</h2><p>Java I/O 使用了装饰者模式来实现。以 InputStream 为例，</p><ul><li>InputStream 是抽象组件；</li><li>FileInputStream 是 InputStream 的子类，属于具体组件，提供了字节流的输入操作；</li><li>FilterInputStream 属于抽象装饰者，装饰者用于装饰组件，为组件提供额外的功能。例如 BufferedInputStream 为 FileInputStream 提供缓存的功能。</li></ul><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/9709694b-db05-4cce-8d2f-1c8b09f4d921.png" width="650px"></div><br><p>实例化一个具有缓存功能的字节流对象时，只需要在 FileInputStream 对象上再套一层 BufferedInputStream 对象即可。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BufferedInputStream</span> bufferedInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span>fileInputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>DataInputStream 装饰者提供了对更多数据类型进行输入的操作，比如 int、double 等基本类型。</p><h1 id="四、字符操作" tabindex="-1"><a class="header-anchor" href="#四、字符操作" aria-hidden="true">#</a> 四、字符操作</h1><h2 id="编码与解码" tabindex="-1"><a class="header-anchor" href="#编码与解码" aria-hidden="true">#</a> 编码与解码</h2><p>编码就是把字符转换为字节，而解码是把字节重新组合成字符。</p><p>如果编码和解码过程使用不同的编码方式那么就出现了乱码。</p><ul><li>GBK 编码中，中文字符占 2 个字节，英文字符占 1 个字节；</li><li>UTF-8 编码中，中文字符占 3 个字节，英文字符占 1 个字节；</li><li>UTF-16be 编码中，中文字符和英文字符都占 2 个字节。</li></ul><p>UTF-16be 中的 be 指的是 Big Endian，也就是大端。相应地也有 UTF-16le，le 指的是 Little Endian，也就是小端。</p><p>Java 的内存编码使用双字节编码 UTF-16be，这不是指 Java 只支持这一种编码方式，而是说 char 这种类型使用 UTF-16be 进行编码。char 类型占 16 位，也就是两个字节，Java 使用这种双字节编码是为了让一个中文或者一个英文都能使用一个 char 来存储。</p><h2 id="string-的编码方式" tabindex="-1"><a class="header-anchor" href="#string-的编码方式" aria-hidden="true">#</a> String 的编码方式</h2><p>String 可以看成一个字符序列，可以指定一个编码方式将它编码为字节序列，也可以指定一个编码方式将一个字节序列解码为 String。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;中文&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在调用无参数 getBytes() 方法时，默认的编码方式不是 UTF-16be。双字节编码的好处是可以使用一个 char 存储中文和英文，而将 String 转为 bytes[] 字节数组就不再需要这个好处，因此也就不再需要双字节编码。getBytes() 的默认编码方式与平台有关，一般为 UTF-8。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="reader-与-writer" tabindex="-1"><a class="header-anchor" href="#reader-与-writer" aria-hidden="true">#</a> Reader 与 Writer</h2><p>不管是磁盘还是网络传输，最小的存储单元都是字节，而不是字符。但是在程序中操作的通常是字符形式的数据，因此需要提供对字符进行操作的方法。</p><ul><li>InputStreamReader 实现从字节流解码成字符流；</li><li>OutputStreamWriter 实现字符流编码成为字节流。</li></ul><h2 id="实现逐行输出文本文件的内容" tabindex="-1"><a class="header-anchor" href="#实现逐行输出文本文件的内容" aria-hidden="true">#</a> 实现逐行输出文本文件的内容</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">readFileContent</span><span class="token punctuation">(</span><span class="token class-name">String</span> filePath<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token class-name">FileReader</span> fileReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BufferedReader</span> bufferedReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>fileReader<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> line<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> bufferedReader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 装饰者模式使得 BufferedReader 组合了一个 Reader 对象</span>
    <span class="token comment">// 在调用 BufferedReader 的 close() 方法时会去调用 Reader 的 close() 方法</span>
    <span class="token comment">// 因此只要一个 close() 调用即可</span>
    bufferedReader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h1 id="五、对象操作" tabindex="-1"><a class="header-anchor" href="#五、对象操作" aria-hidden="true">#</a> 五、对象操作</h1><h2 id="序列化" tabindex="-1"><a class="header-anchor" href="#序列化" aria-hidden="true">#</a> 序列化</h2><p>序列化就是将一个对象转换成字节序列，方便存储和传输。</p><ul><li>序列化：ObjectOutputStream.writeObject()</li><li>反序列化：ObjectInputStream.readObject()</li></ul><p>不会对静态变量进行序列化，因为序列化只是保存对象的状态，静态变量属于类的状态。</p><h2 id="serializable" tabindex="-1"><a class="header-anchor" href="#serializable" aria-hidden="true">#</a> Serializable</h2><p>序列化的类需要实现 Serializable 接口，它只是一个标准，没有任何方法需要实现，但是如果不去实现它的话而进行序列化，会抛出异常。</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">{</span>

    <span class="token class-name">A</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> objectFile <span class="token operator">=</span> <span class="token string">&quot;file/a1&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">ObjectOutputStream</span> objectOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>objectFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    objectOutputStream<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    objectOutputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">ObjectInputStream</span> objectInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>objectFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">A</span> a2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">)</span> objectInputStream<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    objectInputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> y<span class="token punctuation">;</span>

    <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token class-name">String</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;x = &quot;</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">&quot;  &quot;</span> <span class="token operator">+</span> <span class="token string">&quot;y = &quot;</span> <span class="token operator">+</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="transient" tabindex="-1"><a class="header-anchor" href="#transient" aria-hidden="true">#</a> transient</h2><p>transient 关键字可以使一些属性不会被序列化。</p><p>ArrayList 中存储数据的数组 elementData 是用 transient 修饰的，因为这个数组是动态扩展的，并不是所有的空间都被使用，因此就不需要所有的内容都被序列化。通过重写序列化和反序列化方法，使得可以只序列化数组中有内容的那部分数据。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">transient</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> elementData<span class="token punctuation">;</span>
</code></pre></div><h1 id="六、网络操作" tabindex="-1"><a class="header-anchor" href="#六、网络操作" aria-hidden="true">#</a> 六、网络操作</h1><p>Java 中的网络支持：</p><ul><li>InetAddress：用于表示网络上的硬件资源，即 IP 地址；</li><li>URL：统一资源定位符；</li><li>Sockets：使用 TCP 协议实现网络通信；</li><li>Datagram：使用 UDP 协议实现网络通信。</li></ul><h2 id="inetaddress" tabindex="-1"><a class="header-anchor" href="#inetaddress" aria-hidden="true">#</a> InetAddress</h2><p>没有公有的构造函数，只能通过静态方法来创建实例。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> host<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getByAddress</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> address<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="url" tabindex="-1"><a class="header-anchor" href="#url" aria-hidden="true">#</a> URL</h2><p>可以直接从 URL 中读取字节流数据。</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token class-name">URL</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/* 字节流 */</span>
    <span class="token class-name">InputStream</span> is <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">openStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/* 字符流 */</span>
    <span class="token class-name">InputStreamReader</span> isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>is<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/* 提供缓存功能 */</span>
    <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>isr<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> line<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="sockets" tabindex="-1"><a class="header-anchor" href="#sockets" aria-hidden="true">#</a> Sockets</h2><ul><li>ServerSocket：服务器端类</li><li>Socket：客户端类</li><li>服务器和客户端通过 InputStream 和 OutputStream 进行输入输出。</li></ul><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/1e6affc4-18e5-4596-96ef-fb84c63bf88a.png" width="550px"></div><br><h2 id="datagram" tabindex="-1"><a class="header-anchor" href="#datagram" aria-hidden="true">#</a> Datagram</h2><ul><li>DatagramSocket：通信类</li><li>DatagramPacket：数据包类</li></ul><h1 id="七、nio" tabindex="-1"><a class="header-anchor" href="#七、nio" aria-hidden="true">#</a> 七、NIO</h1><p>新的输入/输出 (NIO) 库是在 JDK 1.4 中引入的，弥补了原来的 I/O 的不足，提供了高速的、面向块的 I/O。NIO中的N可以理解为Non-blocking，不单纯是New</p><p>NIO的特性/NIO与IO区别:</p><ul><li>IO是面向流的，NIO是面向缓冲区的；</li><li>IO流是阻塞的，NIO流是不阻塞的;</li><li>NIO有选择器，而IO没有。</li></ul><p>读数据和写数据方式:</p><ul><li>从通道进行数据读取 ：创建一个缓冲区，然后请求通道读取数据。</li><li>从通道进行数据写入 ：创建一个缓冲区，填充数据，并要求通道写入数据。</li></ul><p>NIO核心组件简单介绍</p><ul><li>Channels</li><li>Buffers</li><li>Selectors</li></ul><h2 id="流与块" tabindex="-1"><a class="header-anchor" href="#流与块" aria-hidden="true">#</a> 流与块</h2><p>I/O 与 NIO 最重要的区别是数据打包和传输的方式，I/O 以流的方式处理数据，而 NIO 以块的方式处理数据。</p><p>面向流的 I/O 一次处理一个字节数据：一个输入流产生一个字节数据，一个输出流消费一个字节数据。为流式数据创建过滤器非常容易，链接几个过滤器，以便每个过滤器只负责复杂处理机制的一部分。不利的一面是，面向流的 I/O 通常相当慢。</p><p>面向块的 I/O 一次处理一个数据块，按块处理数据比按流处理数据要快得多。但是面向块的 I/O 缺少一些面向流的 I/O 所具有的优雅性和简单性。</p><p>I/O 包和 NIO 已经很好地集成了，java.io.* 已经以 NIO 为基础重新实现了，所以现在它可以利用 NIO 的一些特性。例如，java.io.* 包中的一些类包含以块的形式读写数据的方法，这使得即使在面向流的系统中，处理速度也会更快。</p><h2 id="通道" tabindex="-1"><a class="header-anchor" href="#通道" aria-hidden="true">#</a> 通道</h2><p>通道 Channel 是对原 I/O 包中的流的模拟，可以通过它读取和写入数据。</p><p>通道与流的不同之处在于，流只能在一个方向上移动(一个流必须是 InputStream 或者 OutputStream 的子类)，而通道是双向的，可以用于读、写或者同时用于读写。</p><p>通道包括以下类型：</p><ul><li>FileChannel：从文件中读写数据；</li><li>DatagramChannel：通过 UDP 读写网络中数据；</li><li>SocketChannel：通过 TCP 读写网络中数据；一般是客户端实现</li><li>ServerSocketChannel：可以监听新进来的 TCP 连接，对每一个新进来的连接都会创建一个 SocketChannel。一般是服务器实现</li></ul><p>特殊操作</p><ul><li>Scatter / Gather <ul><li>Scatter: 从一个Channel读取的信息分散到N个缓冲区中(Buufer)</li><li>Gather: 将N个Buffer里面内容按照顺序发送到一个Channel</li></ul></li></ul><p>通道之间的数据传输：在Java NIO中如果一个channel是FileChannel类型的，那么他可以直接把数据传输到另一个channel。</p><ul><li>transferFrom() :transferFrom方法把数据从通道源传输到FileChannel</li><li>transferTo() :transferTo方法把FileChannel数据传输到另一个channel</li></ul><h2 id="缓冲区" tabindex="-1"><a class="header-anchor" href="#缓冲区" aria-hidden="true">#</a> 缓冲区</h2><p>Java NIO Buffers用于和NIO Channel交互。发送给一个通道的所有数据都必须首先放到缓冲区中，同样地，从通道中读取的任何数据都要先读到缓冲区中。也就是说，不会直接对通道进行读写数据，而是要先经过缓冲区。</p><p>缓冲区实质上是一个数组(一块内存区)，但它不仅仅是一个数组。缓冲区提供了对数据的结构化访问，而且还可以跟踪系统的读/写进程。</p><div align="center"><p><img src="/cs-way/assets/channels-buffers.4d1d94c2.png" alt="" title=":size=300" loading="lazy"></p></div><p>缓冲区包括以下类型：</p><ul><li>ByteBuffer</li><li>CharBuffer</li><li>ShortBuffer</li><li>IntBuffer</li><li>LongBuffer</li><li>FloatBuffer</li><li>DoubleBuffer</li></ul><p>Buffer的常见方法</p><ul><li>Buffer clear()</li><li>Buffer flip()</li><li>Buffer rewind()</li><li>Buffer position(int newPosition)</li></ul><h3 id="缓冲区状态变量" tabindex="-1"><a class="header-anchor" href="#缓冲区状态变量" aria-hidden="true">#</a> 缓冲区状态变量</h3><ul><li>capacity：最大容量；</li><li>position：当前已经读写的字节数；</li><li>limit：还可以读写的字节数。</li></ul><p>状态变量的改变过程举例：</p><p>① 新建一个大小为 8 个字节的缓冲区，此时 position 为 0，而 limit = capacity = 8。capacity 变量不会改变，下面的讨论会忽略它。</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/1bea398f-17a7-4f67-a90b-9e2d243eaa9a.png"></div><br><p>② 从输入通道中读取 5 个字节数据写入缓冲区中，此时 position 为 5，limit 保持不变。</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/80804f52-8815-4096-b506-48eef3eed5c6.png"></div><br><p>③ 在将缓冲区的数据写到输出通道之前，需要先调用 flip() 方法，这个方法将 limit 设置为当前 position，并将 position 设置为 0。</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/952e06bd-5a65-4cab-82e4-dd1536462f38.png"></div><br><p>④ 从缓冲区中取 4 个字节到输出缓冲中，此时 position 设为 4。</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/b5bdcbe2-b958-4aef-9151-6ad963cb28b4.png"></div><br><p>⑤ 最后需要调用 clear() 方法来清空缓冲区，此时 position 和 limit 都被设置为最初位置。</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/67bf5487-c45d-49b6-b9c0-a058d8c68902.png"></div><br><h2 id="选择器" tabindex="-1"><a class="header-anchor" href="#选择器" aria-hidden="true">#</a> 选择器</h2><p>NIO 常常被叫做非阻塞 IO，主要是因为 NIO 在网络通信中的非阻塞特性被广泛使用。</p><p>NIO 实现了 IO 多路复用中的 Reactor 模型，一个线程 Thread 使用一个选择器 Selector 通过轮询的方式去监听多个通道 Channel 上的事件，从而让一个线程就可以处理多个事件。</p><p>通过配置监听的通道 Channel 为非阻塞，那么当 Channel 上的 IO 事件还未到达时，就不会进入阻塞状态一直等待，而是继续轮询其它 Channel，找到 IO 事件已经到达的 Channel 执行。</p><p>因为创建和切换线程的开销很大，因此使用一个线程来处理多个事件而不是一个线程处理一个事件，对于 IO 密集型的应用具有很好地性能。</p><p>应该注意的是，只有套接字(Socket) Channel 才能配置为非阻塞，而 FileChannel 不能，为 FileChannel 配置非阻塞也没有意义。</p><div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/093f9e57-429c-413a-83ee-c689ba596cef.png" width="350px"></div><br><p>要使用Selector的话，我们必须把Channel注册到Selector上，然后就可以调用Selector的select()方法。这个方法会进入阻塞，直到有一个channel的状态符合条件。当方法返回后，线程可以处理这些事件。</p><h3 id="_1-创建选择器" tabindex="-1"><a class="header-anchor" href="#_1-创建选择器" aria-hidden="true">#</a> 1. 创建选择器</h3><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Selector</span> selector <span class="token operator">=</span> <span class="token class-name">Selector</span><span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-将通道注册到选择器上" tabindex="-1"><a class="header-anchor" href="#_2-将通道注册到选择器上" aria-hidden="true">#</a> 2. 将通道注册到选择器上</h3><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">ServerSocketChannel</span> ssChannel <span class="token operator">=</span> <span class="token class-name">ServerSocketChannel</span><span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ssChannel<span class="token punctuation">.</span><span class="token function">configureBlocking</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Channel必须是非阻塞的</span>
ssChannel<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>selector<span class="token punctuation">,</span> <span class="token class-name">SelectionKey</span><span class="token punctuation">.</span>OP_ACCEPT<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>通道必须配置为非阻塞模式，否则使用选择器就没有任何意义了，因为如果通道在某个事件上被阻塞，那么服务器就不能响应其它事件，必须等待这个事件处理完毕才能去处理其它事件，显然这和选择器的作用背道而驰。</p><p>在将通道注册到选择器上时，还需要指定要注册的具体事件，主要有以下几类：</p><ul><li>SelectionKey.OP_CONNECT</li><li>SelectionKey.OP_ACCEPT</li><li>SelectionKey.OP_READ</li><li>SelectionKey.OP_WRITE</li></ul><p>它们在 SelectionKey 的定义如下：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> OP_READ <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> OP_WRITE <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> OP_CONNECT <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> OP_ACCEPT <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>
</code></pre></div><p>可以看出每个事件可以被当成一个位域，从而组成事件集整数。例如：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">int</span> interestSet <span class="token operator">=</span> <span class="token class-name">SelectionKey</span><span class="token punctuation">.</span>OP_READ <span class="token operator">|</span> <span class="token class-name">SelectionKey</span><span class="token punctuation">.</span>OP_WRITE<span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-监听事件" tabindex="-1"><a class="header-anchor" href="#_3-监听事件" aria-hidden="true">#</a> 3. 监听事件</h3><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">int</span> num <span class="token operator">=</span> selector<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>使用 select() 来监听到达的事件，它会一直阻塞直到有至少一个事件到达。</p><h3 id="_4-获取到达的事件" tabindex="-1"><a class="header-anchor" href="#_4-获取到达的事件" aria-hidden="true">#</a> 4. 获取到达的事件</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SelectionKey</span><span class="token punctuation">&gt;</span></span> keys <span class="token operator">=</span> selector<span class="token punctuation">.</span><span class="token function">selectedKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SelectionKey</span><span class="token punctuation">&gt;</span></span> keyIterator <span class="token operator">=</span> keys<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>keyIterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">SelectionKey</span> key <span class="token operator">=</span> keyIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">isReadable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
    keyIterator<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_5-事件循环" tabindex="-1"><a class="header-anchor" href="#_5-事件循环" aria-hidden="true">#</a> 5. 事件循环</h3><p>因为一次 select() 调用不能处理完所有的事件，并且服务器端有可能需要一直监听事件，因此服务器端处理事件的代码一般会放在一个死循环内。</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> num <span class="token operator">=</span> selector<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SelectionKey</span><span class="token punctuation">&gt;</span></span> keys <span class="token operator">=</span> selector<span class="token punctuation">.</span><span class="token function">selectedKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SelectionKey</span><span class="token punctuation">&gt;</span></span> keyIterator <span class="token operator">=</span> keys<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>keyIterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SelectionKey</span> key <span class="token operator">=</span> keyIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">isReadable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>
        <span class="token punctuation">}</span>
        keyIterator<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="文件-nio-实例" tabindex="-1"><a class="header-anchor" href="#文件-nio-实例" aria-hidden="true">#</a> 文件 NIO 实例</h2><p>FileChannel的一般使用规则</p><ol><li>开启FileChannel：需要通过 InputStream ， OutputStream 或 RandomAccessFile 获取FileChannel</li><li>从FileChannel读取数据/写入数据：FileChannel中读取数据/写入数据之前首先要创建一个Buffer(缓冲区）对象，</li><li>关闭FileChannel</li></ol><p>以下展示了使用 NIO 快速复制文件的实例：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">fastCopy</span><span class="token punctuation">(</span><span class="token class-name">String</span> src<span class="token punctuation">,</span> <span class="token class-name">String</span> dist<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 获得源文件的输入字节流 */</span>
    <span class="token class-name">FileInputStream</span> fin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/* 获取输入字节流的文件通道 */</span>
    <span class="token class-name">FileChannel</span> fcin <span class="token operator">=</span> fin<span class="token punctuation">.</span><span class="token function">getChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/* 获取目标文件的输出字节流 */</span>
    <span class="token class-name">FileOutputStream</span> fout <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>dist<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/* 获取输出字节流的文件通道 */</span>
    <span class="token class-name">FileChannel</span> fcout <span class="token operator">=</span> fout<span class="token punctuation">.</span><span class="token function">getChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/* 为缓冲区分配 1024 个字节 */</span>
    <span class="token class-name">ByteBuffer</span> buffer <span class="token operator">=</span> <span class="token class-name">ByteBuffer</span><span class="token punctuation">.</span><span class="token function">allocateDirect</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/* 从输入通道中读取数据到缓冲区中 */</span>
        <span class="token keyword">int</span> r <span class="token operator">=</span> fcin<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/* read() 返回 -1 表示 EOF */</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">/* 切换读写 */</span>
        buffer<span class="token punctuation">.</span><span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/* 把缓冲区的内容写入输出文件中 */</span>
        fcout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/* 清空缓冲区 */</span>
        buffer<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="套接字-nio-实例" tabindex="-1"><a class="header-anchor" href="#套接字-nio-实例" aria-hidden="true">#</a> 套接字 NIO 实例</h2><p>客户端</p><ol><li>通过SocketChannel连接到远程服务器</li><li>创建读数据/写数据缓冲区对象来读取服务端数据或向服务端发送数据</li><li>关闭SocketChannel</li></ol><p>服务端</p><ol><li>通过ServerSocketChannel 绑定ip地址和端口号</li><li>通过ServerSocketChannelImpl的accept()方法创建一个SocketChannel对象用户从客户端读/写数据</li><li>创建读数据/写数据缓冲区对象来读取客户端数据或向客户端发送数据</li><li>关闭SocketChannel和ServerSocketChannel</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NIOServer</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">Selector</span> selector <span class="token operator">=</span> <span class="token class-name">Selector</span><span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ServerSocketChannel</span> ssChannel <span class="token operator">=</span> <span class="token class-name">ServerSocketChannel</span><span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ssChannel<span class="token punctuation">.</span><span class="token function">configureBlocking</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ssChannel<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>selector<span class="token punctuation">,</span> <span class="token class-name">SelectionKey</span><span class="token punctuation">.</span>OP_ACCEPT<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ServerSocket</span> serverSocket <span class="token operator">=</span> ssChannel<span class="token punctuation">.</span><span class="token function">socket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">InetSocketAddress</span> address <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InetSocketAddress</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        serverSocket<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            selector<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SelectionKey</span><span class="token punctuation">&gt;</span></span> keys <span class="token operator">=</span> selector<span class="token punctuation">.</span><span class="token function">selectedKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SelectionKey</span><span class="token punctuation">&gt;</span></span> keyIterator <span class="token operator">=</span> keys<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">while</span> <span class="token punctuation">(</span>keyIterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token class-name">SelectionKey</span> key <span class="token operator">=</span> keyIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                    <span class="token class-name">ServerSocketChannel</span> ssChannel1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ServerSocketChannel</span><span class="token punctuation">)</span> key<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token comment">// 服务器会为每个新连接创建一个 SocketChannel</span>
                    <span class="token class-name">SocketChannel</span> sChannel <span class="token operator">=</span> ssChannel1<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    sChannel<span class="token punctuation">.</span><span class="token function">configureBlocking</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token comment">// 这个新连接主要用于从客户端读取数据</span>
                    sChannel<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>selector<span class="token punctuation">,</span> <span class="token class-name">SelectionKey</span><span class="token punctuation">.</span>OP_READ<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">isReadable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                    <span class="token class-name">SocketChannel</span> sChannel <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SocketChannel</span><span class="token punctuation">)</span> key<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">readDataFromSocketChannel</span><span class="token punctuation">(</span>sChannel<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    sChannel<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                keyIterator<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">readDataFromSocketChannel</span><span class="token punctuation">(</span><span class="token class-name">SocketChannel</span> sChannel<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">ByteBuffer</span> buffer <span class="token operator">=</span> <span class="token class-name">ByteBuffer</span><span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            buffer<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> n <span class="token operator">=</span> sChannel<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            buffer<span class="token punctuation">.</span><span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> limit <span class="token operator">=</span> buffer<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>limit<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> limit<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                dst<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> buffer<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            data<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>dst<span class="token punctuation">)</span><span class="token punctuation">;</span>
            buffer<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NIOClient</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">OutputStream</span> out <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="其他实例" tabindex="-1"><a class="header-anchor" href="#其他实例" aria-hidden="true">#</a> 其他实例</h2><ul><li><a href="http://wiki.jikexueyuan.com/project/java-nio-zh/java-nio-datagramchannel.html" target="_blank" rel="noopener noreferrer">Java NIO DatagramChannel数据报通道<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://wiki.jikexueyuan.com/project/java-nio-zh/java-nio-pipe.html" target="_blank" rel="noopener noreferrer">Java NIO Pipe管道<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="scatter-gather" tabindex="-1"><a class="header-anchor" href="#scatter-gather" aria-hidden="true">#</a> Scatter / Gather</h2><p>Channel 提供了一种被称为 Scatter/Gather 的新功能，也称为本地矢量 I/O。Scatter/Gather 是指在多个缓冲区上实现一个简单的 I/O 操作。正确使用 Scatter / Gather可以明显提高性能。</p><p>Scatter/Gather应该使用直接的ByteBuffers以从本地I/O获取最大性能优势。</p><p>Scatter/Gather功能是通道(Channel)提供的 并不是Buffer。</p><ul><li>Scatter: 从一个Channel读取的信息分散到N个缓冲区中(Buufer)</li><li>Gather: 将N个Buffer里面内容按照顺序发送到一个Channel</li></ul><div align="center"><p><img src="/cs-way/assets/scatter.fd583243.png" alt="" title=":size=300" loading="lazy"></p></div><p>&quot;<strong>scattering read</strong>&quot;是把数据从单个Channel写入到多个buffer：read()方法内部会负责把数据按顺序写进传入的buffer数组内。一个buffer写满后，接着写到下一个buffer中</p><div align="center"><p><img src="/cs-way/assets/gather.7d0f36d0.png" alt="" title=":size=300" loading="lazy"></p></div><p>&quot;<strong>gathering write</strong>&quot;把多个buffer的数据写入到同一个channel中：write()方法内部会负责把数据按顺序写入到channel中</p><p><strong>注意</strong>：并不是所有数据都写入到通道，写入的数据要根据position和limit的值来判断，只有position和limit之间的数据才会被写入</p><p><strong>注意</strong>：无论是scatter还是gather操作，都是按照buffer在数组中的顺序来依次读取或写入的</p><h2 id="内存映射文件" tabindex="-1"><a class="header-anchor" href="#内存映射文件" aria-hidden="true">#</a> 内存映射文件</h2><p>这个功能主要是为了提高大文件的读写速度而设计的。内存映射文件(memory-mappedfile)能让你创建和修改那些大到无法读入内存的文件。</p><p>有了内存映射文件，你就可以认为文件已经全部读进了内存，然后把它当成一个非常大的数组来访问了。将文件的一段区域映射到内存中，比传统的文件处理速度要快很多。内存映射文件它虽然最终也是要从磁盘读取数据，但是它并不需要将数据读取到OS内核缓冲区，而是直接将进程的用户私有地址空间中的一部分区域与文件对象建立起映射关系，就好像直接从内存中读、写文件一样，速度当然快了。</p><p>内存映射文件 I/O 是一种读和写文件数据的方法，它可以比常规的基于流或者基于通道的 I/O 快得多。</p><p>向内存映射文件写入可能是危险的，只是改变数组的单个元素这样的简单操作，就可能会直接修改磁盘上的文件。修改数据与将数据保存到磁盘是没有分开的。</p><p>NIO中内存映射主要用到以下两个类：</p><ul><li>java.nio.MappedByteBuffer</li><li>java.nio.channels.FileChannel</li></ul><p>下面代码行将文件的前 1024 个字节映射到内存中，map() 方法返回一个 MappedByteBuffer，它是 ByteBuffer 的子类。因此，可以像使用其他任何 ByteBuffer 一样使用新映射的缓冲区，操作系统会在需要时负责执行映射。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">MappedByteBuffer</span> mbb <span class="token operator">=</span> fc<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">FileChannel<span class="token punctuation">.</span>MapMode</span><span class="token punctuation">.</span>READ_WRITE<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>内存映射文件的优点：</p><ul><li>用户进程将文件数据视为内存，因此不需要发出read()或write()系统调用</li><li>当用户进程触摸映射的内存空间时，将自动生成页面错误，以从磁盘引入文件数据。 如果用户修改映射的内存空间，受影响的页面将自动标记为脏，并随后刷新到磁盘以更新文件</li><li>操作系统的虚拟内存子系统将执行页面的智能缓存，根据系统负载自动管理内存</li><li>数据始终是页面对齐的，不需要缓冲区复制</li><li>可以映射非常大的文件，而不消耗大量内存来复制数据。</li></ul><h1 id="bio-nio-aio" tabindex="-1"><a class="header-anchor" href="#bio-nio-aio" aria-hidden="true">#</a> BIO,NIO,AIO</h1><p>Java 中的 BIO、NIO和 AIO 理解为是 Java 语言对操作系统的各种 IO 模型的封装。</p><p>同步与异步</p><ul><li>同步： 同步就是发起一个调用后，被调用者未处理完请求之前，调用不返回。</li><li>异步： 异步就是发起一个调用后，立刻得到被调用者的回应表示已接收到请求，但是被调用者并没有返回结果，此时我们可以处理其他的请求，被调用者通常依靠事件，回调等机制来通知调用者其返回结果。</li></ul><p>阻塞和非阻塞</p><ul><li>阻塞： 阻塞就是发起一个请求，调用者一直等待请求结果返回，也就是当前线程会被挂起，无法从事其他任务，只有当条件就绪才能继续。</li><li>非阻塞： 非阻塞就是发起一个请求，调用者不用一直等着结果返回，可以先去干其他事情。</li></ul><p>BIO:同步阻塞I/O模式，数据的读取写入必须阻塞在一个线程内等待其完成。 NIO:同步非阻塞的I/O模型 AIO:异步非阻塞的I/O模型</p><h2 id="bio-blocking-i-o" tabindex="-1"><a class="header-anchor" href="#bio-blocking-i-o" aria-hidden="true">#</a> BIO(Blocking I/O)</h2><p>同步阻塞I/O模式，数据的读取写入必须阻塞在一个线程内等待其完成。</p><p><strong>传统BIO</strong></p><p>BIO通信(一请求一应答）模型图如下</p><div align="center"><p><img src="/cs-way/assets/BIO通信模型.5a78b031.png" alt="" loading="lazy"></p></div><p>采用 BIO 通信模型 的服务端，通常由一个独立的 Acceptor 线程负责监听客户端的连接。我们一般通过在while(true) 循环中服务端会调用 accept() 方法等待接收客户端的连接的方式监听请求，请求一旦接收到一个连接请求，就可以建立通信套接字在这个通信套接字上进行读写操作，此时不能再接收其他客户端连接请求，只能等待同当前连接的客户端的操作执行完成， 不过可以通过多线程来支持多个客户端的连接，如上图所示。</p><p>如果要让 BIO 通信模型 能够同时处理多个客户端请求，就必须使用多线程(主要原因是socket.accept()、socket.read()、socket.write() 涉及的三个主要函数都是同步阻塞的），也就是说它在接收到客户端连接请求之后为每个客户端创建一个新的线程进行链路处理，处理完成之后，通过输出流返回应答给客户端，线程销毁。这就是典型的 <strong>一请求一应答通信模型</strong> 。</p><p><strong>伪异步 IO</strong></p><p>为了解决同步阻塞I/O面临的一个链路需要一个线程处理的问题，后来有人对它的线程模型进行了优化一一一后端通过一个线程池来处理多个客户端的请求接入，形成客户端个数M：线程池最大线程数N的比例关系，其中M可以远远大于N.通过线程池可以灵活地调配线程资源，设置线程的最大值，防止由于海量并发接入导致线程耗尽。</p><p>伪异步IO模型图</p><div align="center"><p><img src="/cs-way/assets/伪异步IO模型.2caeb99a.png" alt="" loading="lazy"></p></div><p>采用线程池和任务队列可以实现一种叫做伪异步的 I/O 通信框架，它的模型图如上图所示。当有新的客户端接入时，将客户端的 Socket 封装成一个Task(该任务实现java.lang.Runnable接口）投递到后端的线程池中进行处理，JDK 的线程池维护一个消息队列和 N 个活跃线程，对消息队列中的任务进行处理。由于线程池可以设置消息队列的大小和最大线程数，因此，它的资源占用是可控的，无论多少个客户端并发访问，都不会导致资源的耗尽和宕机。</p><p>伪异步I/O通信框架采用了线程池实现，因此避免了为每个请求都创建一个独立线程造成的线程资源耗尽问题。不过因为它的底层仍然是同步阻塞的BIO模型，因此无法从根本上解决问题。</p><p>在活动连接数不是特别高(小于单机1000）的情况下，这种模型是比较不错的，可以让每一个连接专注于自己的 I/O 并且编程模型简单，也不用过多考虑系统的过载、限流等问题。线程池本身就是一个天然的漏斗，可以缓冲一些系统处理不了的连接或请求。但是，当面对十万甚至百万级连接的时候，传统的 BIO 模型是无能为力的。因此，我们需要一种更高效的 I/O 处理模型来应对更高的并发量。</p><h2 id="nio-non-blocking-i-o" tabindex="-1"><a class="header-anchor" href="#nio-non-blocking-i-o" aria-hidden="true">#</a> NIO(Non-blocking I/O)</h2><p>NIO中的N可以理解为Non-blocking，不单纯是New。它支持面向缓冲的，基于通道的I/O操作方法。 NIO提供了与传统BIO模型中的 Socket 和 ServerSocket 相对应的 SocketChannel 和 ServerSocketChannel 两种不同的套接字通道实现,两种通道都支持阻塞和非阻塞两种模式。阻塞模式使用就像传统中的支持一样，比较简单，但是性能和可靠性都不好；非阻塞模式正好与之相反。对于低负载、低并发的应用程序，可以使用同步阻塞I/O来提升开发速率和更好的维护性；对于高负载、高并发的(网络）应用，应使用 NIO 的非阻塞模式来开发。</p><ul><li>JDK 的 NIO 底层由 epoll 实现，该实现饱受诟病的空轮询 bug 会导致 cpu 飙升 100%</li><li>项目庞大之后，自行实现的 NIO 很容易出现各类 bug，维护成本较高</li></ul><h2 id="aio-asynchronous-i-o" tabindex="-1"><a class="header-anchor" href="#aio-asynchronous-i-o" aria-hidden="true">#</a> AIO(Asynchronous I/O)</h2><p>AIO 也就是 NIO 2。在 Java 7 中引入了 NIO 的改进版 NIO 2,它是异步非阻塞的IO模型。异步 IO 是基于事件和回调机制实现的，也就是应用操作之后会直接返回，不会堵塞在那里，当后台处理完成，操作系统会通知相应的线程进行后续的操作。</p><p>AIO 是异步IO的缩写，虽然 NIO 在网络操作中，提供了非阻塞的方法，但是 NIO 的 IO 行为还是同步的。对于 NIO 来说，我们的业务线程是在 IO 操作准备好时，得到通知，接着就由这个线程自行进行 IO 操作，IO操作本身是同步的。</p><p>AIO 的 I/O 操作，有两种方式的 API 可以进行：</p><ul><li>Future 方式:即提交一个 I/O 操作请求，返回一个 Future。然后您可以对 Future 进行检查，确定它是否完成，或者阻塞 IO 操作直到操作正常完成或者超时异常。 <ul><li>Future.get()是同步的，所以如果不仔细考虑使用场合，使用 Future 方式可能很容易进入完全同步的编程模式，从而使得异步操作成为一个摆设</li></ul></li><li>Callback 方式:即提交一个 I/O 操作请求，并且指定一个 CompletionHandler。当异步 I/O 操作完成时，便发送一个通知，此时这个 CompletionHandler 对象的 completed 或者 failed 方法将会被调用</li></ul><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CompletionHandler</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">,</span><span class="token class-name">A</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token comment">// 当操作完成后被调用，result 参数表示操作结果，</span>
    <span class="token comment">// attachment 参数表示提交操作请求时的参数。</span>
    <span class="token keyword">void</span> <span class="token function">completed</span><span class="token punctuation">(</span><span class="token class-name">V</span> result<span class="token punctuation">,</span> <span class="token class-name">A</span> attachment<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 当操作失败是调用，exc 参数表示失败原因。attachment 参数同上。</span>
    <span class="token keyword">void</span> <span class="token function">failed</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> exc<span class="token punctuation">,</span> <span class="token class-name">A</span> attachment<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>V表示结果值的类型。对于异步网络通道的读写操作而言，这个结果值 V 都是整数类型，表示已经操作的卦数，如果是 -1，NIO.2 内核实现保证传递的 ByteBuffer参数不会有变化。</li><li>A表示关联到 I/O 操作的对象的类型。用于传递操作环境。通常会封装一个连接环境。</li><li>如果成功则 completed 方法被调用。如果失败则 failed 方法被调用。</li></ul><p>准备好 CompletionHandler 之后，如何使用 CompletionHandler 呢？AIO 提供四种类型的异步通道以及不同的 I/O 操作接受一个 CompletionHandler 对象，它们分别是：</p><ul><li>AsynchronousSocketChannel：connect，read，write</li><li>AsynchronousFileChannel：lock，read，write</li><li>AsynchronousServerSocketChannel：accept</li><li>AsynchronousDatagramChannel：read，write，send，receive</li></ul><p><a href="http://wiki.jikexueyuan.com/project/java-nio-zh/java-nio-asynchronousfilechannel.html" target="_blank" rel="noopener noreferrer">Java NIO AsynchronousFileChannel异步文件通道<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://www.ibm.com/developerworks/cn/java/j-lo-nio2/index.html" target="_blank" rel="noopener noreferrer">Java NIO 异步 I/O 网络客户端程序实例<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h1 id="八、参考资料" tabindex="-1"><a class="header-anchor" href="#八、参考资料" aria-hidden="true">#</a> 八、参考资料</h1><ul><li>Eckel B, 埃克尔, 昊鹏, 等. Java 编程思想 [M]. 机械工业出版社, 2002.</li><li><a href="https://www.ibm.com/developerworks/cn/education/java/j-nio/j-nio.html" target="_blank" rel="noopener noreferrer">IBM: NIO 入门<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://tutorials.jenkov.com/java-nio/index.html" target="_blank" rel="noopener noreferrer">Java NIO Tutorial<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://tech.meituan.com/nio.html" target="_blank" rel="noopener noreferrer">Java NIO 浅析<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.ibm.com/developerworks/cn/java/j-lo-javaio/index.html" target="_blank" rel="noopener noreferrer">IBM: 深入分析 Java I/O 的工作机制<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.ibm.com/developerworks/cn/java/j-lo-chinesecoding/index.html" target="_blank" rel="noopener noreferrer">IBM: 深入分析 Java 中的中文编码问题<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.ibm.com/developerworks/cn/java/j-lo-serial/index.html" target="_blank" rel="noopener noreferrer">IBM: Java 序列化的高级认识<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://blog.csdn.net/shimiso/article/details/24990499" target="_blank" rel="noopener noreferrer">NIO 与传统 IO 的区别<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://stg-tud.github.io/sedc/Lecture/ws13-14/5.3-Decorator.html#mode=document" target="_blank" rel="noopener noreferrer">Decorator Design Pattern<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://labojava.blogspot.com/2012/12/socket-multicast.html" target="_blank" rel="noopener noreferrer">Socket Multicast<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><!--]--></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/5/17 12:22:19</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: chenwei.tjw@alibaba-inc.com">chenwei.tjw</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/cs-way/notes/Java/Java%E5%AE%B9%E5%99%A8.html" class="nav-link prev" aria-label="Java容器"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->Java容器</div></a><a href="/cs-way/notes/Java/Java%E7%89%B9%E6%80%A7.html" class="nav-link next" aria-label="Java8特性"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">Java8特性<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">默认页脚</div><div class="copyright">Copyright © 2023 Vika</div></footer><!--]--></div><!--]--><!----><!----><div id="pwa-install"><!----><div id="install-modal-wrapper" style="display:none;"><div class="background"></div><div class="install-modal"><div class="header"><button class="close-button" aria-label="关闭"><svg xmlns="http://www.w3.org/2000/svg" class="icon close-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="close icon"><path d="M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z"></path></svg></button><div class="logo"><!----><div class="title"><h1></h1><p class="desc">该应用可以安装在你的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和你的操作系统安全地进行交互。</p></div></div></div><div class="content"><div class="highlight"><!----><!----></div><div class="description"><h3>详情</h3><p></p></div></div><div class="button-wrapper"><button class="install-button">安装<span></span></button><button class="cancel-button">取消</button></div></div></div></div><!--]--></div>
    <script type="module" src="/cs-way/assets/app.e9c8698e.js" defer></script>
  </body>
</html>
