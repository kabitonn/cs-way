<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.43" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-v2-demo.mrhope.site/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html"><meta property="og:site_name" content="CS Way"><meta property="og:title" content="分布式缓存"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-05-17T12:22:19.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="中间件"><meta property="article:tag" content="Cache"><meta property="article:modified_time" content="2022-05-17T12:22:19.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><link rel="manifest" href="/cs-way/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>分布式缓存 | CS Way</title><meta name="description" content="CS Way">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/cs-way/assets/style.ed81f444.css">
    <link rel="modulepreload" href="/cs-way/assets/app.005c29cc.js"><link rel="modulepreload" href="/cs-way/assets/分布式缓存.html.19731b9b.js"><link rel="modulepreload" href="/cs-way/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/cs-way/assets/分布式缓存.html.76e1f326.js"><link rel="prefetch" href="/cs-way/assets/index.html.428f64d0.js"><link rel="prefetch" href="/cs-way/assets/home.html.0bd41dd0.js"><link rel="prefetch" href="/cs-way/assets/slide.html.8837fb5e.js"><link rel="prefetch" href="/cs-way/assets/index.html.7fce2da4.js"><link rel="prefetch" href="/cs-way/assets/JavaEE.html.318faa95.js"><link rel="prefetch" href="/cs-way/assets/JavaIO.html.ddab7202.js"><link rel="prefetch" href="/cs-way/assets/Java基础.html.ee46aab8.js"><link rel="prefetch" href="/cs-way/assets/Java容器.html.c79be4ac.js"><link rel="prefetch" href="/cs-way/assets/Java并发基础.html.3455db88.js"><link rel="prefetch" href="/cs-way/assets/Java并发进阶.html.031416a6.js"><link rel="prefetch" href="/cs-way/assets/Java特性.html.b4778e7a.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-JVM调优.html.f8094423.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-内存管理.html.045ecc79.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-执行系统.html.80754d66.js"><link rel="prefetch" href="/cs-way/assets/Java高级.html.23867857.js"><link rel="prefetch" href="/cs-way/assets/index.html.02e0653e.js"><link rel="prefetch" href="/cs-way/assets/index.html.a027ec4c.js"><link rel="prefetch" href="/cs-way/assets/设计模式-中介者.html.268d01df.js"><link rel="prefetch" href="/cs-way/assets/设计模式-享元.html.d7786abd.js"><link rel="prefetch" href="/cs-way/assets/设计模式-代理.html.5ce694c7.js"><link rel="prefetch" href="/cs-way/assets/设计模式-单例.html.a541d83f.js"><link rel="prefetch" href="/cs-way/assets/设计模式-原型模式.html.467a53c2.js"><link rel="prefetch" href="/cs-way/assets/设计模式-命令.html.09b573d8.js"><link rel="prefetch" href="/cs-way/assets/设计模式-备忘录.html.a75d4205.js"><link rel="prefetch" href="/cs-way/assets/设计模式-外观.html.77fc20de.js"><link rel="prefetch" href="/cs-way/assets/设计模式-工厂模式.html.331fe62d.js"><link rel="prefetch" href="/cs-way/assets/设计模式-建造者模式.html.f93ddd64.js"><link rel="prefetch" href="/cs-way/assets/设计模式-桥接.html.2faa91cc.js"><link rel="prefetch" href="/cs-way/assets/设计模式-模板方法.html.fe0f9238.js"><link rel="prefetch" href="/cs-way/assets/设计模式-状态.html.1cec2d97.js"><link rel="prefetch" href="/cs-way/assets/设计模式-目录.html.2a078359.js"><link rel="prefetch" href="/cs-way/assets/设计模式-空对象.html.1f49030e.js"><link rel="prefetch" href="/cs-way/assets/设计模式-策略.html.4814af09.js"><link rel="prefetch" href="/cs-way/assets/设计模式-组合.html.210bfe6e.js"><link rel="prefetch" href="/cs-way/assets/设计模式-装饰.html.0527856b.js"><link rel="prefetch" href="/cs-way/assets/设计模式-观察者.html.e98a41c2.js"><link rel="prefetch" href="/cs-way/assets/设计模式-解释器.html.87645a4d.js"><link rel="prefetch" href="/cs-way/assets/设计模式-访问者.html.2b88e3a5.js"><link rel="prefetch" href="/cs-way/assets/设计模式-责任链.html.6d871a55.js"><link rel="prefetch" href="/cs-way/assets/设计模式-迭代器.html.4e94ddc9.js"><link rel="prefetch" href="/cs-way/assets/设计模式-适配器.html.48c6a8dc.js"><link rel="prefetch" href="/cs-way/assets/设计模式.html.4bec8f58.js"><link rel="prefetch" href="/cs-way/assets/面向对象思想.html.b7f08171.js"><link rel="prefetch" href="/cs-way/assets/index.html.8a7d1052.js"><link rel="prefetch" href="/cs-way/assets/分布式中间件.html.b013c84b.js"><link rel="prefetch" href="/cs-way/assets/分布式事务.html.995290d7.js"><link rel="prefetch" href="/cs-way/assets/分布式搜索.html.006f4b6c.js"><link rel="prefetch" href="/cs-way/assets/分布式数据库.html.f773082c.js"><link rel="prefetch" href="/cs-way/assets/分布式服务.html.af8c6879.js"><link rel="prefetch" href="/cs-way/assets/分布式消息.html.8e7cfaa7.js"><link rel="prefetch" href="/cs-way/assets/分布式计算.html.8bbf9b28.js"><link rel="prefetch" href="/cs-way/assets/分布式调度.html.13dfab7b.js"><link rel="prefetch" href="/cs-way/assets/配置中心.html.13ee0b73.js"><link rel="prefetch" href="/cs-way/assets/JS-进阶.html.8a8a6e11.js"><link rel="prefetch" href="/cs-way/assets/JavaScript.html.4d9a5fe4.js"><link rel="prefetch" href="/cs-way/assets/index.html.94f05edc.js"><link rel="prefetch" href="/cs-way/assets/前端基础.html.fa609425.js"><link rel="prefetch" href="/cs-way/assets/Docker.html.067c191b.js"><link rel="prefetch" href="/cs-way/assets/Git.html.48acc2fb.js"><link rel="prefetch" href="/cs-way/assets/IDEA.html.7ace52c6.js"><link rel="prefetch" href="/cs-way/assets/index.html.42cdb1ee.js"><link rel="prefetch" href="/cs-way/assets/VSCode.html.d4a9e9c3.js"><link rel="prefetch" href="/cs-way/assets/构建工具.html.643f6510.js"><link rel="prefetch" href="/cs-way/assets/正则表达式.html.d3bf30bf.js"><link rel="prefetch" href="/cs-way/assets/index.html.4c938fe4.js"><link rel="prefetch" href="/cs-way/assets/代码可读性.html.c53de36c.js"><link rel="prefetch" href="/cs-way/assets/代码风格规范.html.ef8b5297.js"><link rel="prefetch" href="/cs-way/assets/Linux.html.36de295b.js"><link rel="prefetch" href="/cs-way/assets/index.html.1ea15a64.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-内存管理.html.9d283511.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-概述.html.1afa82dc.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-死锁.html.1c693348.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-目录.html.48190774.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-设备管理.html.541ff0eb.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-进程管理.html.0436fd5d.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-链接.html.cc211204.js"><link rel="prefetch" href="/cs-way/assets/Leetcode-Database题解.html.0b1cb3fa.js"><link rel="prefetch" href="/cs-way/assets/MySQL.html.40f165ee.js"><link rel="prefetch" href="/cs-way/assets/index.html.da039aed.js"><link rel="prefetch" href="/cs-way/assets/Redis.html.9930f3d8.js"><link rel="prefetch" href="/cs-way/assets/SQL.html.d9da9d50.js"><link rel="prefetch" href="/cs-way/assets/数据库系统原理.html.51f889e4.js"><link rel="prefetch" href="/cs-way/assets/Dubbo.html.87b6952b.js"><link rel="prefetch" href="/cs-way/assets/Kafka.html.66607281.js"><link rel="prefetch" href="/cs-way/assets/PandoraBoot.html.e319bd3c.js"><link rel="prefetch" href="/cs-way/assets/index.html.6cc0d80c.js"><link rel="prefetch" href="/cs-way/assets/RabbitMQ.html.492e7eee.js"><link rel="prefetch" href="/cs-way/assets/Spring-MVC.html.3d0968a8.js"><link rel="prefetch" href="/cs-way/assets/Spring.html.568437ad.js"><link rel="prefetch" href="/cs-way/assets/SpringBoot.html.4bf9b8e0.js"><link rel="prefetch" href="/cs-way/assets/Zookeeper.html.b0d97524.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-二分查找.html.63c70b1d.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-位运算.html.daa1db7e.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-分治.html.1a553bdb.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-动态规划.html.c3f68fee.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-双指针.html.1487e549.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-哈希表.html.e52afdc7.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-图.html.434ae080.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-字符串.html.3f68eef2.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-排序.html.90904bb7.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-搜索.html.5160fa42.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-数学.html.c78336c8.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-数组与矩阵.html.8f597b64.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-栈和队列.html.7bb54104.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-树.html.aa387938.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-目录.html.2b49d038.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-贪心思想.html.b407c0f1.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-链表.html.b9bd0d6f.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解.html.f422ac13.js"><link rel="prefetch" href="/cs-way/assets/index.html.a92ef41f.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-10~19.html.51f8c9c4.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-20~29.html.f6d3292e.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-30~39.html.d93aa7cd.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-3~9.html.543cacba.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-40~49.html.7f8dfd63.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-50~59.html.3976e9d1.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-60~68.html.ae46cf87.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-目录.html.2ed35101.js"><link rel="prefetch" href="/cs-way/assets/剑指offer题解.html.6c86aad2.js"><link rel="prefetch" href="/cs-way/assets/算法-其它.html.465f6b77.js"><link rel="prefetch" href="/cs-way/assets/算法-并查集.html.3d3f5d9d.js"><link rel="prefetch" href="/cs-way/assets/算法-排序.html.a81344ca.js"><link rel="prefetch" href="/cs-way/assets/算法-栈和队列.html.8bf786e2.js"><link rel="prefetch" href="/cs-way/assets/算法-目录.html.fc28a6b7.js"><link rel="prefetch" href="/cs-way/assets/算法-符号表.html.7c772d84.js"><link rel="prefetch" href="/cs-way/assets/算法-算法分析.html.abd49a6c.js"><link rel="prefetch" href="/cs-way/assets/index.html.a3ff312a.js"><link rel="prefetch" href="/cs-way/assets/分布式.html.f68bb795.js"><link rel="prefetch" href="/cs-way/assets/微服务.html.753f7e9f.js"><link rel="prefetch" href="/cs-way/assets/攻击技术.html.8610d498.js"><link rel="prefetch" href="/cs-way/assets/消息队列.html.a2ca50b0.js"><link rel="prefetch" href="/cs-way/assets/系统设计基础.html.d102ceca.js"><link rel="prefetch" href="/cs-way/assets/缓存.html.267d6aa4.js"><link rel="prefetch" href="/cs-way/assets/集群.html.4f9472d4.js"><link rel="prefetch" href="/cs-way/assets/HTTP.html.c30dcb73.js"><link rel="prefetch" href="/cs-way/assets/Netty.html.837da316.js"><link rel="prefetch" href="/cs-way/assets/index.html.3b112f6d.js"><link rel="prefetch" href="/cs-way/assets/Socket.html.ac4890bf.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-传输层.html.30cc2c86.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-应用层.html.1a0fcd48.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-概述.html.7761b538.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-物理层.html.88954a16.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-目录.html.ad0c0ed3.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-网络层.html.15f27861.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-链路层.html.ad0c7239.js"><link rel="prefetch" href="/cs-way/assets/404.html.ffe43c9f.js"><link rel="prefetch" href="/cs-way/assets/index.html.a6c1a711.js"><link rel="prefetch" href="/cs-way/assets/index.html.27fc6baf.js"><link rel="prefetch" href="/cs-way/assets/index.html.6ed75a62.js"><link rel="prefetch" href="/cs-way/assets/index.html.6935d32d.js"><link rel="prefetch" href="/cs-way/assets/index.html.0ea6ff56.js"><link rel="prefetch" href="/cs-way/assets/index.html.8cd133c2.js"><link rel="prefetch" href="/cs-way/assets/index.html.e46980d9.js"><link rel="prefetch" href="/cs-way/assets/index.html.895c1ae8.js"><link rel="prefetch" href="/cs-way/assets/index.html.ed246a1a.js"><link rel="prefetch" href="/cs-way/assets/index.html.e3e234ba.js"><link rel="prefetch" href="/cs-way/assets/index.html.64abd695.js"><link rel="prefetch" href="/cs-way/assets/index.html.e9ba292e.js"><link rel="prefetch" href="/cs-way/assets/index.html.b699cda5.js"><link rel="prefetch" href="/cs-way/assets/index.html.8e3e6de3.js"><link rel="prefetch" href="/cs-way/assets/index.html.909eae66.js"><link rel="prefetch" href="/cs-way/assets/index.html.14f4a40e.js"><link rel="prefetch" href="/cs-way/assets/index.html.1899bdf4.js"><link rel="prefetch" href="/cs-way/assets/index.html.a3ed7fea.js"><link rel="prefetch" href="/cs-way/assets/index.html.0e0e8bbf.js"><link rel="prefetch" href="/cs-way/assets/index.html.e0fa8138.js"><link rel="prefetch" href="/cs-way/assets/index.html.c8193cd4.js"><link rel="prefetch" href="/cs-way/assets/index.html.0b093ea5.js"><link rel="prefetch" href="/cs-way/assets/index.html.21d699fa.js"><link rel="prefetch" href="/cs-way/assets/index.html.7ff40a92.js"><link rel="prefetch" href="/cs-way/assets/index.html.bd2530a6.js"><link rel="prefetch" href="/cs-way/assets/index.html.fe087ddc.js"><link rel="prefetch" href="/cs-way/assets/index.html.6edea524.js"><link rel="prefetch" href="/cs-way/assets/index.html.f6e3a672.js"><link rel="prefetch" href="/cs-way/assets/index.html.1e40dc12.js"><link rel="prefetch" href="/cs-way/assets/index.html.1e317466.js"><link rel="prefetch" href="/cs-way/assets/index.html.c8524d76.js"><link rel="prefetch" href="/cs-way/assets/index.html.a99d195c.js"><link rel="prefetch" href="/cs-way/assets/index.html.980376e9.js"><link rel="prefetch" href="/cs-way/assets/index.html.df78ecec.js"><link rel="prefetch" href="/cs-way/assets/index.html.e49d56db.js"><link rel="prefetch" href="/cs-way/assets/index.html.e3c0afe2.js"><link rel="prefetch" href="/cs-way/assets/index.html.77190e93.js"><link rel="prefetch" href="/cs-way/assets/index.html.5637096a.js"><link rel="prefetch" href="/cs-way/assets/index.html.ede07d07.js"><link rel="prefetch" href="/cs-way/assets/index.html.8029412a.js"><link rel="prefetch" href="/cs-way/assets/index.html.897e12c7.js"><link rel="prefetch" href="/cs-way/assets/index.html.1a0ca85d.js"><link rel="prefetch" href="/cs-way/assets/index.html.f65d60ae.js"><link rel="prefetch" href="/cs-way/assets/index.html.34b38f19.js"><link rel="prefetch" href="/cs-way/assets/index.html.7ce7edbe.js"><link rel="prefetch" href="/cs-way/assets/index.html.f326ecbb.js"><link rel="prefetch" href="/cs-way/assets/index.html.07770d58.js"><link rel="prefetch" href="/cs-way/assets/index.html.6d8767ed.js"><link rel="prefetch" href="/cs-way/assets/index.html.e61ce351.js"><link rel="prefetch" href="/cs-way/assets/index.html.236a99b6.js"><link rel="prefetch" href="/cs-way/assets/index.html.65303607.js"><link rel="prefetch" href="/cs-way/assets/index.html.72b2b10a.js"><link rel="prefetch" href="/cs-way/assets/index.html.4f8a084f.js"><link rel="prefetch" href="/cs-way/assets/index.html.5eeacf4d.js"><link rel="prefetch" href="/cs-way/assets/index.html.ddc11600.js"><link rel="prefetch" href="/cs-way/assets/index.html.dde127b5.js"><link rel="prefetch" href="/cs-way/assets/index.html.cda00693.js"><link rel="prefetch" href="/cs-way/assets/index.html.47366a21.js"><link rel="prefetch" href="/cs-way/assets/index.html.6a9bd3b5.js"><link rel="prefetch" href="/cs-way/assets/index.html.5dab7f40.js"><link rel="prefetch" href="/cs-way/assets/index.html.700bbe4b.js"><link rel="prefetch" href="/cs-way/assets/index.html.4f7903e4.js"><link rel="prefetch" href="/cs-way/assets/index.html.997188f6.js"><link rel="prefetch" href="/cs-way/assets/index.html.130f9f52.js"><link rel="prefetch" href="/cs-way/assets/index.html.0e29e01e.js"><link rel="prefetch" href="/cs-way/assets/index.html.03c295c3.js"><link rel="prefetch" href="/cs-way/assets/index.html.9fa962a9.js"><link rel="prefetch" href="/cs-way/assets/index.html.923693e9.js"><link rel="prefetch" href="/cs-way/assets/index.html.cc3ab25a.js"><link rel="prefetch" href="/cs-way/assets/index.html.1f64a1d6.js"><link rel="prefetch" href="/cs-way/assets/index.html.ba634821.js"><link rel="prefetch" href="/cs-way/assets/index.html.10828565.js"><link rel="prefetch" href="/cs-way/assets/index.html.da129cca.js"><link rel="prefetch" href="/cs-way/assets/index.html.c42a4913.js"><link rel="prefetch" href="/cs-way/assets/index.html.47b688b7.js"><link rel="prefetch" href="/cs-way/assets/index.html.105fd6cb.js"><link rel="prefetch" href="/cs-way/assets/index.html.1d12ad2c.js"><link rel="prefetch" href="/cs-way/assets/index.html.76bd684a.js"><link rel="prefetch" href="/cs-way/assets/index.html.12161f18.js"><link rel="prefetch" href="/cs-way/assets/index.html.1863d88f.js"><link rel="prefetch" href="/cs-way/assets/index.html.48698d5b.js"><link rel="prefetch" href="/cs-way/assets/index.html.21540b06.js"><link rel="prefetch" href="/cs-way/assets/index.html.f04e335e.js"><link rel="prefetch" href="/cs-way/assets/index.html.28630462.js"><link rel="prefetch" href="/cs-way/assets/index.html.2200e54c.js"><link rel="prefetch" href="/cs-way/assets/index.html.32dae6c1.js"><link rel="prefetch" href="/cs-way/assets/index.html.bdac870a.js"><link rel="prefetch" href="/cs-way/assets/index.html.0e4d7312.js"><link rel="prefetch" href="/cs-way/assets/index.html.eb904598.js"><link rel="prefetch" href="/cs-way/assets/index.html.d24abe31.js"><link rel="prefetch" href="/cs-way/assets/index.html.aa40d046.js"><link rel="prefetch" href="/cs-way/assets/index.html.b87d6d67.js"><link rel="prefetch" href="/cs-way/assets/index.html.db5d4f6d.js"><link rel="prefetch" href="/cs-way/assets/index.html.5ab6af80.js"><link rel="prefetch" href="/cs-way/assets/index.html.b2273976.js"><link rel="prefetch" href="/cs-way/assets/index.html.2f6238c5.js"><link rel="prefetch" href="/cs-way/assets/index.html.b3079f38.js"><link rel="prefetch" href="/cs-way/assets/index.html.9b6f7e8c.js"><link rel="prefetch" href="/cs-way/assets/index.html.516e1469.js"><link rel="prefetch" href="/cs-way/assets/index.html.7d1256ad.js"><link rel="prefetch" href="/cs-way/assets/index.html.5f1ccec8.js"><link rel="prefetch" href="/cs-way/assets/index.html.d920d0fa.js"><link rel="prefetch" href="/cs-way/assets/index.html.e42faf89.js"><link rel="prefetch" href="/cs-way/assets/index.html.3ceb237f.js"><link rel="prefetch" href="/cs-way/assets/index.html.42123c95.js"><link rel="prefetch" href="/cs-way/assets/index.html.5663cb85.js"><link rel="prefetch" href="/cs-way/assets/index.html.93b7d8b5.js"><link rel="prefetch" href="/cs-way/assets/index.html.0319d1c3.js"><link rel="prefetch" href="/cs-way/assets/home.html.ed21d507.js"><link rel="prefetch" href="/cs-way/assets/slide.html.11dfb0c4.js"><link rel="prefetch" href="/cs-way/assets/index.html.44d1ba5f.js"><link rel="prefetch" href="/cs-way/assets/JavaEE.html.5061a0b7.js"><link rel="prefetch" href="/cs-way/assets/JavaIO.html.6be42fd9.js"><link rel="prefetch" href="/cs-way/assets/Java基础.html.9c0a594f.js"><link rel="prefetch" href="/cs-way/assets/Java容器.html.578d7572.js"><link rel="prefetch" href="/cs-way/assets/Java并发基础.html.59fe67f9.js"><link rel="prefetch" href="/cs-way/assets/Java并发进阶.html.6cf5c23d.js"><link rel="prefetch" href="/cs-way/assets/Java特性.html.6b1e2399.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-JVM调优.html.7507dd9e.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-内存管理.html.aebdc120.js"><link rel="prefetch" href="/cs-way/assets/Java虚拟机-执行系统.html.69425772.js"><link rel="prefetch" href="/cs-way/assets/Java高级.html.77ebdec8.js"><link rel="prefetch" href="/cs-way/assets/index.html.b461b1fa.js"><link rel="prefetch" href="/cs-way/assets/index.html.b4348210.js"><link rel="prefetch" href="/cs-way/assets/设计模式-中介者.html.19561063.js"><link rel="prefetch" href="/cs-way/assets/设计模式-享元.html.9fcf9e82.js"><link rel="prefetch" href="/cs-way/assets/设计模式-代理.html.d22ae587.js"><link rel="prefetch" href="/cs-way/assets/设计模式-单例.html.43d0c789.js"><link rel="prefetch" href="/cs-way/assets/设计模式-原型模式.html.1bd94686.js"><link rel="prefetch" href="/cs-way/assets/设计模式-命令.html.6821b633.js"><link rel="prefetch" href="/cs-way/assets/设计模式-备忘录.html.a75bab8b.js"><link rel="prefetch" href="/cs-way/assets/设计模式-外观.html.28a37b59.js"><link rel="prefetch" href="/cs-way/assets/设计模式-工厂模式.html.faa9780a.js"><link rel="prefetch" href="/cs-way/assets/设计模式-建造者模式.html.a4495b80.js"><link rel="prefetch" href="/cs-way/assets/设计模式-桥接.html.15237b10.js"><link rel="prefetch" href="/cs-way/assets/设计模式-模板方法.html.fc69823b.js"><link rel="prefetch" href="/cs-way/assets/设计模式-状态.html.627065a2.js"><link rel="prefetch" href="/cs-way/assets/设计模式-目录.html.70ca2b8e.js"><link rel="prefetch" href="/cs-way/assets/设计模式-空对象.html.32601a71.js"><link rel="prefetch" href="/cs-way/assets/设计模式-策略.html.81c32d5f.js"><link rel="prefetch" href="/cs-way/assets/设计模式-组合.html.cb3c31a2.js"><link rel="prefetch" href="/cs-way/assets/设计模式-装饰.html.0827aafe.js"><link rel="prefetch" href="/cs-way/assets/设计模式-观察者.html.20475df5.js"><link rel="prefetch" href="/cs-way/assets/设计模式-解释器.html.0193aaa9.js"><link rel="prefetch" href="/cs-way/assets/设计模式-访问者.html.18e7b53a.js"><link rel="prefetch" href="/cs-way/assets/设计模式-责任链.html.e2057acc.js"><link rel="prefetch" href="/cs-way/assets/设计模式-迭代器.html.5c9cf0ef.js"><link rel="prefetch" href="/cs-way/assets/设计模式-适配器.html.4ebfc85d.js"><link rel="prefetch" href="/cs-way/assets/设计模式.html.902007b7.js"><link rel="prefetch" href="/cs-way/assets/面向对象思想.html.2e0e1e09.js"><link rel="prefetch" href="/cs-way/assets/index.html.44b06bb3.js"><link rel="prefetch" href="/cs-way/assets/分布式中间件.html.6d8fde0b.js"><link rel="prefetch" href="/cs-way/assets/分布式事务.html.361b8950.js"><link rel="prefetch" href="/cs-way/assets/分布式搜索.html.7c42e710.js"><link rel="prefetch" href="/cs-way/assets/分布式数据库.html.b00e3c0d.js"><link rel="prefetch" href="/cs-way/assets/分布式服务.html.f3410638.js"><link rel="prefetch" href="/cs-way/assets/分布式消息.html.2ba8cb55.js"><link rel="prefetch" href="/cs-way/assets/分布式计算.html.bd635845.js"><link rel="prefetch" href="/cs-way/assets/分布式调度.html.7d7cc1db.js"><link rel="prefetch" href="/cs-way/assets/配置中心.html.0a5fcdeb.js"><link rel="prefetch" href="/cs-way/assets/JS-进阶.html.04da8202.js"><link rel="prefetch" href="/cs-way/assets/JavaScript.html.9e97091c.js"><link rel="prefetch" href="/cs-way/assets/index.html.575d3779.js"><link rel="prefetch" href="/cs-way/assets/前端基础.html.a5543849.js"><link rel="prefetch" href="/cs-way/assets/Docker.html.fca88250.js"><link rel="prefetch" href="/cs-way/assets/Git.html.b3d45190.js"><link rel="prefetch" href="/cs-way/assets/IDEA.html.2a5351ac.js"><link rel="prefetch" href="/cs-way/assets/index.html.351fdc2f.js"><link rel="prefetch" href="/cs-way/assets/VSCode.html.36a1b208.js"><link rel="prefetch" href="/cs-way/assets/构建工具.html.f3083043.js"><link rel="prefetch" href="/cs-way/assets/正则表达式.html.4094acb4.js"><link rel="prefetch" href="/cs-way/assets/index.html.a0bb368c.js"><link rel="prefetch" href="/cs-way/assets/代码可读性.html.0c7d5486.js"><link rel="prefetch" href="/cs-way/assets/代码风格规范.html.1735ce89.js"><link rel="prefetch" href="/cs-way/assets/Linux.html.3bc2e855.js"><link rel="prefetch" href="/cs-way/assets/index.html.26779b51.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-内存管理.html.01c9965a.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-概述.html.eee95ccf.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-死锁.html.313c237f.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-目录.html.57ef5a21.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-设备管理.html.7566ff3e.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-进程管理.html.51e7691b.js"><link rel="prefetch" href="/cs-way/assets/计算机操作系统-链接.html.7a350341.js"><link rel="prefetch" href="/cs-way/assets/Leetcode-Database题解.html.d68caf97.js"><link rel="prefetch" href="/cs-way/assets/MySQL.html.518fee4c.js"><link rel="prefetch" href="/cs-way/assets/index.html.591f2ac6.js"><link rel="prefetch" href="/cs-way/assets/Redis.html.5fd91687.js"><link rel="prefetch" href="/cs-way/assets/SQL.html.c787c917.js"><link rel="prefetch" href="/cs-way/assets/数据库系统原理.html.de1b3dcc.js"><link rel="prefetch" href="/cs-way/assets/Dubbo.html.e78010fa.js"><link rel="prefetch" href="/cs-way/assets/Kafka.html.9d198d78.js"><link rel="prefetch" href="/cs-way/assets/PandoraBoot.html.3e200cd8.js"><link rel="prefetch" href="/cs-way/assets/index.html.15c8fbfe.js"><link rel="prefetch" href="/cs-way/assets/RabbitMQ.html.e4218f3c.js"><link rel="prefetch" href="/cs-way/assets/Spring-MVC.html.b2ccdb13.js"><link rel="prefetch" href="/cs-way/assets/Spring.html.cfc1ed17.js"><link rel="prefetch" href="/cs-way/assets/SpringBoot.html.dbf5bd5b.js"><link rel="prefetch" href="/cs-way/assets/Zookeeper.html.392e2567.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-二分查找.html.6d401f5c.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-位运算.html.436d5d88.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-分治.html.9999b9e7.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-动态规划.html.a58d4498.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-双指针.html.893926c2.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-哈希表.html.2ba81f26.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-图.html.e26e0a51.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-字符串.html.b8d3b9e7.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-排序.html.7b508cd0.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-搜索.html.34e697bf.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-数学.html.c8be7f52.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-数组与矩阵.html.2f6d7f64.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-栈和队列.html.33106c5c.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-树.html.c80feae0.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-目录.html.68ec4af1.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-贪心思想.html.de859597.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解-链表.html.77b12531.js"><link rel="prefetch" href="/cs-way/assets/Leetcode题解.html.3397c648.js"><link rel="prefetch" href="/cs-way/assets/index.html.bc6f0fb7.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-10~19.html.6920b635.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-20~29.html.846de6df.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-30~39.html.0051a29f.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-3~9.html.be9b78ea.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-40~49.html.ff411f75.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-50~59.html.d86ba125.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-60~68.html.d027bd79.js"><link rel="prefetch" href="/cs-way/assets/剑指Offer题解-目录.html.2acc5230.js"><link rel="prefetch" href="/cs-way/assets/剑指offer题解.html.c769a477.js"><link rel="prefetch" href="/cs-way/assets/算法-其它.html.640d3d60.js"><link rel="prefetch" href="/cs-way/assets/算法-并查集.html.d0623914.js"><link rel="prefetch" href="/cs-way/assets/算法-排序.html.96882f31.js"><link rel="prefetch" href="/cs-way/assets/算法-栈和队列.html.21b5ab5a.js"><link rel="prefetch" href="/cs-way/assets/算法-目录.html.b9ac3619.js"><link rel="prefetch" href="/cs-way/assets/算法-符号表.html.a3240b25.js"><link rel="prefetch" href="/cs-way/assets/算法-算法分析.html.b7733f0b.js"><link rel="prefetch" href="/cs-way/assets/index.html.27106679.js"><link rel="prefetch" href="/cs-way/assets/分布式.html.86e115ab.js"><link rel="prefetch" href="/cs-way/assets/微服务.html.88be2fe9.js"><link rel="prefetch" href="/cs-way/assets/攻击技术.html.fc7f3e1a.js"><link rel="prefetch" href="/cs-way/assets/消息队列.html.9d2d1287.js"><link rel="prefetch" href="/cs-way/assets/系统设计基础.html.4d1d8086.js"><link rel="prefetch" href="/cs-way/assets/缓存.html.6d6ae439.js"><link rel="prefetch" href="/cs-way/assets/集群.html.c59c031a.js"><link rel="prefetch" href="/cs-way/assets/HTTP.html.3ff03929.js"><link rel="prefetch" href="/cs-way/assets/Netty.html.7a8f7259.js"><link rel="prefetch" href="/cs-way/assets/index.html.fb7ad9db.js"><link rel="prefetch" href="/cs-way/assets/Socket.html.813ae20c.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-传输层.html.ccee89fd.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-应用层.html.a97242c1.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-概述.html.4e86d021.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-物理层.html.300c74f6.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-目录.html.ade71c1f.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-网络层.html.604a1c09.js"><link rel="prefetch" href="/cs-way/assets/计算机网络-链路层.html.b6709654.js"><link rel="prefetch" href="/cs-way/assets/404.html.0c8252b8.js"><link rel="prefetch" href="/cs-way/assets/index.html.d5cc08ad.js"><link rel="prefetch" href="/cs-way/assets/index.html.1331f6ca.js"><link rel="prefetch" href="/cs-way/assets/index.html.da6c3a69.js"><link rel="prefetch" href="/cs-way/assets/index.html.1174fbbd.js"><link rel="prefetch" href="/cs-way/assets/index.html.c73d2264.js"><link rel="prefetch" href="/cs-way/assets/index.html.1e315145.js"><link rel="prefetch" href="/cs-way/assets/index.html.514b72a3.js"><link rel="prefetch" href="/cs-way/assets/index.html.1024e797.js"><link rel="prefetch" href="/cs-way/assets/index.html.33ef0ef0.js"><link rel="prefetch" href="/cs-way/assets/index.html.b19f5086.js"><link rel="prefetch" href="/cs-way/assets/index.html.6f722863.js"><link rel="prefetch" href="/cs-way/assets/index.html.cc44c5e5.js"><link rel="prefetch" href="/cs-way/assets/index.html.5a1edb43.js"><link rel="prefetch" href="/cs-way/assets/index.html.adc1caed.js"><link rel="prefetch" href="/cs-way/assets/index.html.689a112f.js"><link rel="prefetch" href="/cs-way/assets/index.html.384f462a.js"><link rel="prefetch" href="/cs-way/assets/index.html.da370e27.js"><link rel="prefetch" href="/cs-way/assets/index.html.96c332e8.js"><link rel="prefetch" href="/cs-way/assets/index.html.391bc411.js"><link rel="prefetch" href="/cs-way/assets/index.html.6499098b.js"><link rel="prefetch" href="/cs-way/assets/index.html.d50f3951.js"><link rel="prefetch" href="/cs-way/assets/index.html.7c07e9c6.js"><link rel="prefetch" href="/cs-way/assets/index.html.512dc3aa.js"><link rel="prefetch" href="/cs-way/assets/index.html.e29804db.js"><link rel="prefetch" href="/cs-way/assets/index.html.1583d5bd.js"><link rel="prefetch" href="/cs-way/assets/index.html.f11199fe.js"><link rel="prefetch" href="/cs-way/assets/index.html.6a85ed77.js"><link rel="prefetch" href="/cs-way/assets/index.html.a52fb383.js"><link rel="prefetch" href="/cs-way/assets/index.html.68bde1ba.js"><link rel="prefetch" href="/cs-way/assets/index.html.1c804a38.js"><link rel="prefetch" href="/cs-way/assets/index.html.19b583a8.js"><link rel="prefetch" href="/cs-way/assets/index.html.48f8d7da.js"><link rel="prefetch" href="/cs-way/assets/index.html.684fd764.js"><link rel="prefetch" href="/cs-way/assets/index.html.5697515e.js"><link rel="prefetch" href="/cs-way/assets/index.html.5561b27d.js"><link rel="prefetch" href="/cs-way/assets/index.html.111571e6.js"><link rel="prefetch" href="/cs-way/assets/index.html.735809e4.js"><link rel="prefetch" href="/cs-way/assets/index.html.83d94288.js"><link rel="prefetch" href="/cs-way/assets/index.html.6bae0842.js"><link rel="prefetch" href="/cs-way/assets/index.html.d5f8e0ba.js"><link rel="prefetch" href="/cs-way/assets/index.html.2a349619.js"><link rel="prefetch" href="/cs-way/assets/index.html.7ecbba7c.js"><link rel="prefetch" href="/cs-way/assets/index.html.4a5769c1.js"><link rel="prefetch" href="/cs-way/assets/index.html.627907e5.js"><link rel="prefetch" href="/cs-way/assets/index.html.710beb22.js"><link rel="prefetch" href="/cs-way/assets/index.html.fcba52fd.js"><link rel="prefetch" href="/cs-way/assets/index.html.d8b64427.js"><link rel="prefetch" href="/cs-way/assets/index.html.d009ddb7.js"><link rel="prefetch" href="/cs-way/assets/index.html.c30f9d56.js"><link rel="prefetch" href="/cs-way/assets/index.html.9bcd9e60.js"><link rel="prefetch" href="/cs-way/assets/index.html.8437292d.js"><link rel="prefetch" href="/cs-way/assets/index.html.3a38d2aa.js"><link rel="prefetch" href="/cs-way/assets/index.html.5a9b1b1f.js"><link rel="prefetch" href="/cs-way/assets/index.html.b4c2f128.js"><link rel="prefetch" href="/cs-way/assets/index.html.acba21be.js"><link rel="prefetch" href="/cs-way/assets/index.html.90ac7786.js"><link rel="prefetch" href="/cs-way/assets/index.html.df323cb3.js"><link rel="prefetch" href="/cs-way/assets/index.html.3eba4032.js"><link rel="prefetch" href="/cs-way/assets/index.html.4a1bee7d.js"><link rel="prefetch" href="/cs-way/assets/index.html.20f7187a.js"><link rel="prefetch" href="/cs-way/assets/index.html.8d52f380.js"><link rel="prefetch" href="/cs-way/assets/index.html.f7c97715.js"><link rel="prefetch" href="/cs-way/assets/index.html.a6389f83.js"><link rel="prefetch" href="/cs-way/assets/index.html.f69cb608.js"><link rel="prefetch" href="/cs-way/assets/index.html.829c151f.js"><link rel="prefetch" href="/cs-way/assets/index.html.a0a43751.js"><link rel="prefetch" href="/cs-way/assets/index.html.80c93ce0.js"><link rel="prefetch" href="/cs-way/assets/index.html.d85e6c73.js"><link rel="prefetch" href="/cs-way/assets/index.html.602e0b6b.js"><link rel="prefetch" href="/cs-way/assets/index.html.f063a654.js"><link rel="prefetch" href="/cs-way/assets/index.html.27e5ccce.js"><link rel="prefetch" href="/cs-way/assets/index.html.ae278e4a.js"><link rel="prefetch" href="/cs-way/assets/index.html.16bd935f.js"><link rel="prefetch" href="/cs-way/assets/index.html.03e05ef7.js"><link rel="prefetch" href="/cs-way/assets/index.html.e46f2f28.js"><link rel="prefetch" href="/cs-way/assets/index.html.241da32d.js"><link rel="prefetch" href="/cs-way/assets/index.html.7efe1f06.js"><link rel="prefetch" href="/cs-way/assets/index.html.289f37bc.js"><link rel="prefetch" href="/cs-way/assets/index.html.eaea4fa5.js"><link rel="prefetch" href="/cs-way/assets/index.html.ce7f8c55.js"><link rel="prefetch" href="/cs-way/assets/index.html.00d7e402.js"><link rel="prefetch" href="/cs-way/assets/index.html.e43d520a.js"><link rel="prefetch" href="/cs-way/assets/index.html.7746dbb2.js"><link rel="prefetch" href="/cs-way/assets/index.html.509e3c27.js"><link rel="prefetch" href="/cs-way/assets/index.html.33461bc6.js"><link rel="prefetch" href="/cs-way/assets/index.html.d859a6f6.js"><link rel="prefetch" href="/cs-way/assets/index.html.ab07f353.js"><link rel="prefetch" href="/cs-way/assets/index.html.3d33e604.js"><link rel="prefetch" href="/cs-way/assets/index.html.ea944e99.js"><link rel="prefetch" href="/cs-way/assets/index.html.a07c9792.js"><link rel="prefetch" href="/cs-way/assets/index.html.2a452567.js"><link rel="prefetch" href="/cs-way/assets/index.html.2dedd7b9.js"><link rel="prefetch" href="/cs-way/assets/index.html.9abe9187.js"><link rel="prefetch" href="/cs-way/assets/index.html.76b5f45b.js"><link rel="prefetch" href="/cs-way/assets/index.html.f19a1ddb.js"><link rel="prefetch" href="/cs-way/assets/index.html.0f8343cd.js"><link rel="prefetch" href="/cs-way/assets/index.html.fa7a0589.js"><link rel="prefetch" href="/cs-way/assets/index.html.7fac357a.js"><link rel="prefetch" href="/cs-way/assets/index.html.4afd4adc.js"><link rel="prefetch" href="/cs-way/assets/index.html.2fa1fe22.js"><link rel="prefetch" href="/cs-way/assets/index.html.c4812898.js"><link rel="prefetch" href="/cs-way/assets/index.html.80514615.js"><link rel="prefetch" href="/cs-way/assets/index.html.92f2ef37.js"><link rel="prefetch" href="/cs-way/assets/index.html.178e6e46.js"><link rel="prefetch" href="/cs-way/assets/index.html.806c9e56.js"><link rel="prefetch" href="/cs-way/assets/index.html.7f3382ff.js"><link rel="prefetch" href="/cs-way/assets/index.html.f47c225c.js"><link rel="prefetch" href="/cs-way/assets/404.f8c6af82.js"><link rel="prefetch" href="/cs-way/assets/Layout.6943c279.js"><link rel="prefetch" href="/cs-way/assets/Slide.54c2c779.js"><link rel="prefetch" href="/cs-way/assets/Blog.a9e03ad8.js"><link rel="prefetch" href="/cs-way/assets/giscus.es.d2953791.js"><link rel="prefetch" href="/cs-way/assets/auto.esm.15d52109.js"><link rel="prefetch" href="/cs-way/assets/index.1842ee54.js"><link rel="prefetch" href="/cs-way/assets/mermaid.esm.min.95aabeb7.js"><link rel="prefetch" href="/cs-way/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/cs-way/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/cs-way/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/cs-way/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/cs-way/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/cs-way/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/cs-way/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/cs-way/assets/photoswipe.esm.92018b73.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/cs-way/" class="home-link"><img class="logo" src="/cs-way/logo.svg" alt="CS Way"><!----><span class="site-name hide-in-pad">CS Way</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/cs-way/" class="nav-link" aria-label="主页"><i class="icon iconfont icon-home"></i>主页<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="计算机基础"><span class="title"><i class="icon iconfont icon-creative"></i>计算机基础</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cs-way/notes/%E6%95%B0%E6%8D%AE%E5%BA%93" class="nav-link" aria-label="数据库"><!---->数据库<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" class="nav-link" aria-label="操作系统"><!---->操作系统<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E7%BD%91%E7%BB%9C" class="nav-link" aria-label="网络"><!---->网络<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="软件工程"><span class="title"><i class="icon iconfont icon-creative"></i>软件工程</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cs-way/notes/%E7%AE%97%E6%B3%95" class="nav-link" aria-label="算法"><!---->算法<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1" class="nav-link" aria-label="系统设计"><!---->系统设计<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/OOP" class="nav-link" aria-label="OOP"><!---->OOP<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E5%B7%A5%E7%A8%8B%E8%B4%A8%E9%87%8F" class="nav-link" aria-label="工程质量"><!---->工程质量<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="研发"><span class="title"><!---->研发</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cs-way/notes/Java" class="nav-link" aria-label="java"><!---->java<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E6%A1%86%E6%9E%B6" class="nav-link" aria-label="框架"><!---->框架<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6" class="nav-link active" aria-label="中间件"><!---->中间件<!----></a></li><li class="dropdown-item"><a href="/cs-way/notes/%E5%89%8D%E7%AB%AF" class="nav-link" aria-label="前端"><!---->前端<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/cs-way/notes/%E5%B7%A5%E5%85%B7/" class="nav-link" aria-label="工具软件"><i class="icon iconfont icon-creative"></i>工具软件<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://vuepress-theme-hope.github.io/v2/zh/" rel="noopener noreferrer" target="_blank" aria-label="主题文档" class="nav-link"><i class="icon iconfont icon-note"></i>主题文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/kabitonn/cs-note" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><!----><span class="title">中间件</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6.html" class="nav-link sidebar-link sidebar-page" aria-label="分布式中间件"><!---->分布式中间件<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E6%9C%8D%E5%8A%A1.html" class="nav-link sidebar-link sidebar-page" aria-label="分布式服务"><!---->分布式服务<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="分布式缓存"><!---->分布式缓存<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#cache-aside" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cache Aside"><!---->Cache Aside<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#read-write-through-更新模式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Read/Write Through 更新模式"><!---->Read/Write Through 更新模式<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#write-behind-caching-更新模式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Write Behind Caching 更新模式"><!---->Write Behind Caching 更新模式<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#总结" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="总结"><!---->总结<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E6%B6%88%E6%81%AF.html" class="nav-link sidebar-link sidebar-page" aria-label="分布式消息"><!---->分布式消息<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2.html" class="nav-link sidebar-link sidebar-page" aria-label="分布式搜索"><!---->分布式搜索<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E8%B0%83%E5%BA%A6.html" class="nav-link sidebar-link sidebar-page" aria-label="分布式调度"><!---->分布式调度<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97.html" class="nav-link sidebar-link sidebar-page" aria-label="分布式计算"><!---->分布式计算<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1.html" class="nav-link sidebar-link sidebar-page" aria-label="分布式事务"><!---->分布式事务<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93.html" class="nav-link sidebar-link sidebar-page" aria-label="分布式数据库"><!---->分布式数据库<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83.html" class="nav-link sidebar-link sidebar-page" aria-label="配置中心"><!---->配置中心<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->分布式缓存</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">Vika</a></span><span property="author" content="Vika"></span></span><!----><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022年5月16日</span><meta property="datePublished" content="2022-05-16T04:59:52.000Z"></span><span class="category-info" aria-label="分类🌈" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category5 clickable" role="navigation">中间件</li><meta property="articleSection" content="中间件"></ul></span><span aria-label="标签🏷" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag5 clickable" role="navigation">中间件</li><li class="tag tag5 clickable" role="navigation">Cache</li></ul><meta property="keywords" content="中间件,Cache"></span><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 21 分钟</span><meta property="timeRequired" content="PT21M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#缓存更新模式" class="router-link-active router-link-exact-active toc-link level1">缓存更新模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#cache-aside" class="router-link-active router-link-exact-active toc-link level2">Cache Aside</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#read-write-through-更新模式" class="router-link-active router-link-exact-active toc-link level2">Read/Write Through 更新模式</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#write-behind-caching-更新模式" class="router-link-active router-link-exact-active toc-link level2">Write Behind Caching 更新模式</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#总结" class="router-link-active router-link-exact-active toc-link level2">总结</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#缓存淘汰算法" class="router-link-active router-link-exact-active toc-link level1">缓存淘汰算法</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#最不经常使用算法-lfu" class="router-link-active router-link-exact-active toc-link level2">最不经常使用算法（LFU）</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#最近最少使用算法-lru" class="router-link-active router-link-exact-active toc-link level2">最近最少使用算法（LRU）</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#先进先出算法-fifo" class="router-link-active router-link-exact-active toc-link level2">先进先出算法（FIFO）</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#tair" class="router-link-active router-link-exact-active toc-link level1">Tair</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#主要功能" class="router-link-active router-link-exact-active toc-link level2">主要功能：</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#架构" class="router-link-active router-link-exact-active toc-link level2">架构</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#物理架构" class="router-link-active router-link-exact-active toc-link level3">物理架构</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#逻辑架构" class="router-link-active router-link-exact-active toc-link level3">逻辑架构</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#存储模式对比" class="router-link-active router-link-exact-active toc-link level2">存储模式对比</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#数据一致性" class="router-link-active router-link-exact-active toc-link level2">数据一致性</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#负载均衡" class="router-link-active router-link-exact-active toc-link level2">负载均衡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#多级缓存" class="router-link-active router-link-exact-active toc-link level2">多级缓存</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#热点读写" class="router-link-active router-link-exact-active toc-link level3">热点读写</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#热点识别" class="router-link-active router-link-exact-active toc-link level4">热点识别</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#读热点" class="router-link-active router-link-exact-active toc-link level4">读热点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#写热点" class="router-link-active router-link-exact-active toc-link level4">写热点</a></li><!----><!--]--></ul><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#分布式缓存面临的问题" class="router-link-active router-link-exact-active toc-link level1">分布式缓存面临的问题</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#缓存与数据库双写不一致" class="router-link-active router-link-exact-active toc-link level2">缓存与数据库双写不一致</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#缓存穿透" class="router-link-active router-link-exact-active toc-link level2">缓存穿透</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#缓存雪崩" class="router-link-active router-link-exact-active toc-link level2">缓存雪崩</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#缓存击穿" class="router-link-active router-link-exact-active toc-link level2">缓存击穿</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#缓存并发竞争" class="router-link-active router-link-exact-active toc-link level2">缓存并发竞争</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#常见缓存框架" class="router-link-active router-link-exact-active toc-link level1">常见缓存框架</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#ehcache" class="router-link-active router-link-exact-active toc-link level2">EhCache</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#特性" class="router-link-active router-link-exact-active toc-link level3">特性</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#瓶颈" class="router-link-active router-link-exact-active toc-link level3">瓶颈</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#guava-cache" class="router-link-active router-link-exact-active toc-link level2">Guava Cache</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html#特性-1" class="router-link-active router-link-exact-active toc-link level3">特性</a></li><!----><!--]--></ul><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><ul><li><a href="#%E7%BC%93%E5%AD%98%E6%9B%B4%E6%96%B0%E6%A8%A1%E5%BC%8F">缓存更新模式</a><ul><li><a href="#cache-aside">Cache Aside</a></li><li><a href="#readwrite-through-%E6%9B%B4%E6%96%B0%E6%A8%A1%E5%BC%8F">Read/Write Through 更新模式</a></li><li><a href="#write-behind-caching-%E6%9B%B4%E6%96%B0%E6%A8%A1%E5%BC%8F">Write Behind Caching 更新模式</a></li><li><a href="#%E6%80%BB%E7%BB%93">总结</a></li></ul></li><li><a href="#%E7%BC%93%E5%AD%98%E6%B7%98%E6%B1%B0%E7%AE%97%E6%B3%95">缓存淘汰算法</a><ul><li><a href="#%E6%9C%80%E4%B8%8D%E7%BB%8F%E5%B8%B8%E4%BD%BF%E7%94%A8%E7%AE%97%E6%B3%95lfu">最不经常使用算法（LFU）</a></li><li><a href="#%E6%9C%80%E8%BF%91%E6%9C%80%E5%B0%91%E4%BD%BF%E7%94%A8%E7%AE%97%E6%B3%95lru">最近最少使用算法（LRU）</a></li><li><a href="#%E5%85%88%E8%BF%9B%E5%85%88%E5%87%BA%E7%AE%97%E6%B3%95fifo">先进先出算法（FIFO）</a></li></ul></li><li><a href="#tair">Tair</a><ul><li><a href="#%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD">主要功能：</a></li><li><a href="#%E6%9E%B6%E6%9E%84">架构</a><ul><li><a href="#%E7%89%A9%E7%90%86%E6%9E%B6%E6%9E%84">物理架构</a></li><li><a href="#%E9%80%BB%E8%BE%91%E6%9E%B6%E6%9E%84">逻辑架构</a></li></ul></li><li><a href="#%E5%AD%98%E5%82%A8%E6%A8%A1%E5%BC%8F%E5%AF%B9%E6%AF%94">存储模式对比</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7">数据一致性</a></li><li><a href="#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1">负载均衡</a></li><li><a href="#%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98">多级缓存</a><ul><li><a href="#%E7%83%AD%E7%82%B9%E8%AF%BB%E5%86%99">热点读写</a></li></ul></li></ul></li><li><a href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98%E9%9D%A2%E4%B8%B4%E7%9A%84%E9%97%AE%E9%A2%98">分布式缓存面临的问题</a><ul><li><a href="#%E7%BC%93%E5%AD%98%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%8C%E5%86%99%E4%B8%8D%E4%B8%80%E8%87%B4">缓存与数据库双写不一致</a></li><li><a href="#%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F">缓存穿透</a></li><li><a href="#%E7%BC%93%E5%AD%98%E9%9B%AA%E5%B4%A9">缓存雪崩</a></li><li><a href="#%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF">缓存击穿</a></li><li><a href="#%E7%BC%93%E5%AD%98%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89">缓存并发竞争</a></li></ul></li><li><a href="#%E5%B8%B8%E8%A7%81%E7%BC%93%E5%AD%98%E6%A1%86%E6%9E%B6">常见缓存框架</a><ul><li><a href="#ehcache">EhCache</a><ul><li><a href="#%E7%89%B9%E6%80%A7">特性</a></li><li><a href="#%E7%93%B6%E9%A2%88">瓶颈</a></li></ul></li><li><a href="#guava-cache">Guava Cache</a><ul><li><a href="#%E7%89%B9%E6%80%A7-1">特性</a></li></ul></li></ul></li></ul><p>缓存我们知道分为本地缓存和分布式缓存，本地缓存是本机使用，随着本地计算机系统向分布式系统的扩展，在分布式计算领域中得到了广泛的应用，称为分布式缓存。</p><p>分布式缓存能够处理大量的动态数据，因此比较适合应用在Web 2.0时代中的社交网站等需要由用户生成内容的场景。从本地缓存扩展到分布式缓存后，关注重点从CPU、内存、缓存之间的数据传输速度差异也扩展到了业务系统、数据库、分布式缓存之间的数据传输速度差异。</p><p><img src="/cs-way/assets/mk-2020-07-12-11-30-40.918acc71.png" alt="" loading="lazy"></p><h1 id="缓存更新模式" tabindex="-1"><a class="header-anchor" href="#缓存更新模式" aria-hidden="true">#</a> 缓存更新模式</h1><h2 id="cache-aside" tabindex="-1"><a class="header-anchor" href="#cache-aside" aria-hidden="true">#</a> Cache Aside</h2><p>常用的缓存模式了，具体的流程是：</p><ul><li>失效：应用程序先从 cache 取数据，没有得到，则从数据库中取数据，成功后，放到缓存中。</li><li>命中：应用程序从 cache 中取数据，取到后返回。</li><li>更新：先把数据存到数据库中，成功后，再让缓存失效。</li></ul><p><img src="/cs-way/assets/mk-2020-07-12-15-45-40.c48f9084.png" alt="" loading="lazy"></p><h2 id="read-write-through-更新模式" tabindex="-1"><a class="header-anchor" href="#read-write-through-更新模式" aria-hidden="true">#</a> Read/Write Through 更新模式</h2><p>在上面的 Cache Aside 更新模式中，应用代码需要维护两个数据存储，一个是缓存（Cache），一个是数据库（Repository）。而在Read/Write Through 更新模式中，应用程序只需要维护缓存，数据库的维护工作由缓存代理了。</p><p><img src="/cs-way/assets/mk-2020-07-12-15-46-38.ca07fde2.png" alt="" loading="lazy"></p><ul><li>Read Through：Read Through 模式就是在查询操作中更新缓存，也就是说，当缓存失效的时候，Cache Aside 模式是由调用方负责把数据加载入缓存，而 Read Through 则用缓存服务自己来加载。</li><li>Write Through：Write Through 模式和 Read Through 相仿，不过是在更新数据时发生。当有数据更新的时候，如果没有命中缓存，直接更新数据库，然后返回。如果命中了缓存，则更新缓存，然后由缓存自己更新数据库（这是一个同步操作）。</li></ul><h2 id="write-behind-caching-更新模式" tabindex="-1"><a class="header-anchor" href="#write-behind-caching-更新模式" aria-hidden="true">#</a> Write Behind Caching 更新模式</h2><p>Write Behind Caching 更新模式就是在更新数据的时候，只更新缓存，不更新数据库，而我们的缓存会异步地批量更新数据库。这个设计的好处就是直接操作内存速度快。因为异步，Write Behind Caching 更新模式还可以合并对同一个数据的多次操作到数据库，所以性能的提高是相当可观的。</p><p>但其带来的问题是，数据不是强一致性的，而且可能会丢失。另外，Write Behind Caching 更新模式实现逻辑比较复杂，因为它需要确认有哪些数据是被更新了的，哪些数据需要刷到持久层上。只有在缓存需要失效的时候，才会把它真正持久起来。</p><p><img src="/cs-way/assets/mk-2020-07-12-15-47-29.5c4e8041.png" alt="" loading="lazy"></p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>三种缓存模式的优缺点：</p><p>Cache Aside 更新模式实现起来比较简单，但是需要维护两个数据存储，一个是缓存（Cache），一个是数据库（Repository）。</p><p>Read/Write Through 更新模式只需要维护一个数据存储（缓存），但是实现起来要复杂一些。</p><p>Write Behind Caching 更新模式和Read/Write Through 更新模式类似，区别是Write Behind Caching 更新模式的数据持久化操作是异步的，但是Read/Write Through 更新模式的数据持久化操作是同步的。优点是直接操作内存速度快，多次操作可以合并持久化到数据库。缺点是数据可能会丢失，例如系统断电等。</p><p>缓存是通过牺牲强一致性来提高性能的。所以使用缓存提升性能，就是会有数据更新的延迟。这需要我们在设计时结合业务仔细思考是否适合用缓存。然后缓存一定要设置过期时间，这个时间太短太长都不好，太短的话请求可能会比较多的落到数据库上，这也意味着失去了缓存的优势。太长的话缓存中的脏数据会使系统长时间处于一个延迟的状态，而且系统中长时间没有人访问的数据一直存在内存中不过期，浪费内存。</p><h1 id="缓存淘汰算法" tabindex="-1"><a class="header-anchor" href="#缓存淘汰算法" aria-hidden="true">#</a> 缓存淘汰算法</h1><p>缓存淘汰算法是指令的一个明细表，用于决定缓存系统中哪些数据应该被删去。</p><h2 id="最不经常使用算法-lfu" tabindex="-1"><a class="header-anchor" href="#最不经常使用算法-lfu" aria-hidden="true">#</a> 最不经常使用算法（LFU）</h2><p>这个缓存算法使用一个计数器来记录条目被访问的频率。通过使用LFU缓存算法，最低访问数的条目首先被移除。这个方法并不经常使用，因为它无法对一个拥有最初高访问率之后长时间没有被访问的条目缓存负责。</p><h2 id="最近最少使用算法-lru" tabindex="-1"><a class="header-anchor" href="#最近最少使用算法-lru" aria-hidden="true">#</a> 最近最少使用算法（LRU）</h2><p>LRU（The Least Recently Used，最近最久未使用算法）是一种常见的缓存算法，在很多分布式缓存系统（如Redis, Memcached）中都有广泛使用。</p><p>这个缓存算法将最近使用的条目存放到靠近缓存顶部的位置。当一个新条目被访问时，LRU将它放置到缓存的顶部。当缓存达到极限时，较早之前访问的条目将从缓存底部开始被移除。这里会使用到昂贵的算法，而且它需要记录“年龄位”来精确显示条目是何时被访问的。此外，当一个LRU缓存算法删除某个条目后，“年龄位”将随其他条目发生改变。</p><h2 id="先进先出算法-fifo" tabindex="-1"><a class="header-anchor" href="#先进先出算法-fifo" aria-hidden="true">#</a> 先进先出算法（FIFO）</h2><p>FIFO是英文First In First Out 的缩写，是一种先进先出的数据缓存器，他与普通存储器的区别是没有外部读写地址线，这样使用起来非常简单，但缺点就是只能顺序写入数据，顺序的读出数据，其数据地址由内部读写指针自动加1完成，不能像普通存储器那样可以由地址线决定读取或写入某个指定的地址。</p><h1 id="tair" tabindex="-1"><a class="header-anchor" href="#tair" aria-hidden="true">#</a> Tair</h1><p>Tair是一个类似于map的key/value结构存储系统（也就是缓存系统），具备标准的特性是：高性能、高扩展、高可靠，也就是传说中的三高产品，支持分布式集群部署。官网说目前支持java和c这两个版本。</p><ul><li>高性能——基于高速缓存、内存或者ssd</li><li>高扩展——轻量中间件+三种数据引擎+负载均衡</li><li>高可用——各种容灾部署方式和解决方案</li></ul><h2 id="主要功能" tabindex="-1"><a class="header-anchor" href="#主要功能" aria-hidden="true">#</a> 主要功能：</h2><ul><li>数据库缓存——作为数据库与dao层之间的中间缓存，降低对后端数据库的访问压力，高速缓存能使得访问速度达到1ms级别，例如高频率的数据库查询；</li><li>临时数据存储——应用程序需要维护大量临时数据，将临时数据存储在mdb中，可以降低内存管理的开销，改进应用程序工作负载。例如：在分布式系统中，同一个用户的不同请求可能会发送到不同的服务器上，这时可以用mdb作为全局存储，用于保存Session数据、用户的Token、权限信息等数据。【通常将缓存和临时数据存储统称为“非持久化存储”】</li><li>持久化存储——此时类似于传统的数据库，将数据存入磁盘中做持久化存储，例如广告推荐类需要离线计算大量数据以及榜单的生成（注意：由于此时采用的数据库引擎ldb是NoSQL类型的，所以不支持sql查询）</li></ul><h2 id="架构" tabindex="-1"><a class="header-anchor" href="#架构" aria-hidden="true">#</a> 架构</h2><h3 id="物理架构" tabindex="-1"><a class="header-anchor" href="#物理架构" aria-hidden="true">#</a> 物理架构</h3><p>Tair是Master/Slave结构。Config Server管理Data Server节点、维护Data Server的状态信息；Data Server负责数据存储，按照Config Server的指示完成数据复制和迁移工作，并定时给Config Server发送心跳信息。Config Server是单点，采用一主一备的方式保证可靠性。</p><p><img src="/cs-way/assets/mk-2020-07-12-11-37-50.638546a2.png" alt="" loading="lazy"></p><h3 id="逻辑架构" tabindex="-1"><a class="header-anchor" href="#逻辑架构" aria-hidden="true">#</a> 逻辑架构</h3><p><img src="/cs-way/assets/mk-2020-07-12-11-38-17.c5c2c790.png" alt="" loading="lazy"></p><h2 id="存储模式对比" tabindex="-1"><a class="header-anchor" href="#存储模式对比" aria-hidden="true">#</a> 存储模式对比</h2><table><thead><tr><th>名称</th><th>基于数据库</th><th>特点</th><th>适用场景</th></tr></thead><tbody><tr><td>MDB</td><td>Memcached</td><td>基于内存；仅支持k-v类型数据；不支持持久化</td><td>数据小而简单，读多（QPS 万以上）写少，且偶尔数据丢失不应该对业务产生较大影响；例如访问量显示，session manager等功能</td></tr><tr><td>RDB</td><td>Redis</td><td>基于内存；除了kv，还支持string, list, hash, set, sortedset等数据类型；</td><td>支持一定程度的持久化</td></tr><tr><td>LDB</td><td>LevelDB</td><td>基于ssd硬盘；仅支持k-v类型数据；支持持久化</td><td>数据简单，有持久化需求，且读写QPS较高（万级别）但存储数据较简单的应用场景；例如订单计数，库存记录等功能，更新非常频繁。</td></tr></tbody></table><h2 id="数据一致性" tabindex="-1"><a class="header-anchor" href="#数据一致性" aria-hidden="true">#</a> 数据一致性</h2><p>Tair使用版本号version来保证数据一致性。在Tair的put接口中有version参数，如果不带version参数，则不考虑并发，直接强制更新。</p><ul><li>version：为解决并发更新同一个数据而设置。当version=0时，表示强制更新，当version非0时，判断客户端和服务端当version是否一致，不一致则返回ResultCode.VERERROR.</li><li>version的增加是服务器端的行为，tair并不支持多版本数据。另外，更新也是使用put接口。</li><li>version的值是由服务器端决定的，和client指定的version值无关。</li></ul><p><img src="/cs-way/assets/mk-2020-07-12-11-42-05.23a023c4.png" alt="" loading="lazy"></p><h2 id="负载均衡" tabindex="-1"><a class="header-anchor" href="#负载均衡" aria-hidden="true">#</a> 负载均衡</h2><p>分布式负载均衡采用的是一致性哈希算法</p><ol><li>将机器根据hash函数映射到环上；</li><li>将数据桶根据hash函数映射到换上；</li><li>据数据映射到桶的位置顺时针找到第一台机器将该桶放到该机器上；</li><li>当某台机器坏掉时，类似(3)将存储在该机器上的数据顺时针找到下一台机器；</li><li>当增加机器时，将该机器与前一台机器(逆时针)之间的桶存储在新增机器上并从原来机器上移除。</li></ol><ul><li>优点：相比简单的对机器数取模算法，当节点变动的时候只有相对较少的key失效，实现也相对简单。不需要进行数据迁移，每个服务器是独立的。</li><li>缺点：还是会有部分的key失效，如果访问量非常大的时候，如果访问到失效的key的时候，就会直接访问到数据源上面去了，可能会导致数据源直接压挂。</li></ul><h2 id="多级缓存" tabindex="-1"><a class="header-anchor" href="#多级缓存" aria-hidden="true">#</a> 多级缓存</h2><p>问题背景</p><p>Tair是一个高性能、分布式、可扩展、高可靠的NoSQL存储系统，在阿里巴巴集团内部有着大量的部署和使用。由于Tair的访问方式是客户端对请求的Key进行类一致性 Hash 计算后，再通过数据路由表查表定位到某台DataServer（数据节点服务器）进行读写的，所以对相同Key的读写请求必然固定映射到相同的DataServer上，如图 <img src="/cs-way/assets/mk-2020-07-12-11-45-22.679ca0a4.png" alt="" loading="lazy"></p><p>此时DataServer单节点的读写性能便成了单Key的读写性能瓶颈，且无法通过简单的水平扩展来解决。由于电商系的促销活动天然的存在热点数据，所以热点数据缓存的读写能力对整个缓存集群的稳定性和服务能力都起着至关重要的作用。</p><h3 id="热点读写" tabindex="-1"><a class="header-anchor" href="#热点读写" aria-hidden="true">#</a> 热点读写</h3><h4 id="热点识别" tabindex="-1"><a class="header-anchor" href="#热点识别" aria-hidden="true">#</a> 热点识别</h4><p>DataServer收到客户端的请求后，由每个具体处理请求的工作线程（Worker Thread）进行请求的统计。工作线程用来统计热点的数据结构均为ThreadLocal模式的数据结构，完全无锁化设计。热点识别算法使用精心设计的多级加权LRU链和HashMap组合的数据结构，在保证服务端请求处理效率的前提下进行请求的全统计，支持QPS热点和流量热点（即请求的QPS不大但是数据本身过大而造成的大流量所形成的热点）的精准识别。每个采样周期结束时，工作线程会将统计的数据结构转交到后台的统计线程池进行分析处理。统计工作异步在后台进行，不抢占正常的数据请求的处理资源。</p><h4 id="读热点" tabindex="-1"><a class="header-anchor" href="#读热点" aria-hidden="true">#</a> 读热点</h4><ol><li>服务端设计</li></ol><p>相同Key的读写请求必然落在固定的DataServer上，且无法通过水平扩展DataServer数量来解决。</p><p>通过在DataServer上划分一块HotZone存储区域的方式来解决热点数据的访问。该区域存储当前产生的所有读热点的数据，由客户端配置的缓存访问逻辑来处理各级缓存的访问。多级缓存架构如下：</p><p><img src="/cs-way/assets/mk-2020-07-12-12-00-19.4821f63a.png" alt="" loading="lazy"></p><p>所有DataServer的HotZone存储区域之间没有权重关系，每个HotZone都存储相同的读热点数据。客户端对热点数据Key的请求会随机到任意一台DataServer的HotZone区域，这样单点的热点请求就被散列到多个节点乃至整个集群。</p><p>DataServer的HotZone使用独立的网络IO线程与工作线程，监听独立的热点数据读写端口，并初始化独立的LocalTair 模式的Mdb实例，进行热点数据的存储。使用独立的Mdb实例的原因是该逻辑要同时兼容Mdb和Ldb引擎，为了一套代码通用，所以从IO线程到Worker线程再到具体的处理线程都是独立的代码逻辑，并使用独立的Mdb实例进行存储。</p><p><img src="/cs-way/assets/mk-2020-07-12-11-57-09.aeed485c.png" alt="" loading="lazy"></p><ol start="2"><li>客户端设计</li></ol><p>当客户端在第一次请求前初始化时，会获取整个Tair集群的节点信息以及完整的数据路由表，同时也会获取配置的热点散列机器数（即客户端访问的HotZone的节点范围）。随后客户端随机选择一个HotZone区域作为自身固定的读写HotZone区域。在DataServer数量和散列机器数配置未发生变化的情况下，不会改变选择。即每个客户端只访问唯一的HotZone区域。</p><h4 id="写热点" tabindex="-1"><a class="header-anchor" href="#写热点" aria-hidden="true">#</a> 写热点</h4><p>对于写热点，因为一致性的问题，难以使用多级缓存的方式来解决。</p><p>热点Key的写请求在IO线程被分发到专门的热点合并线程处理，该线程根据Key对写请求进行一定时间内的合并，随后由定时线程按照预设的合并周期将合并后的请求提交到引擎层。合并过程中请求结果暂时不返回给客户端，等请求合并写入引擎成功后统一返回。这样做不会有一致性的问题，不会出现写成功后却读到旧数据，也避免了LDB集群返回成功，数据并未落盘的情况（假写）。具体的合并周期在服务端可配置，并支持动态修改生效。</p><h1 id="分布式缓存面临的问题" tabindex="-1"><a class="header-anchor" href="#分布式缓存面临的问题" aria-hidden="true">#</a> 分布式缓存面临的问题</h1><h2 id="缓存与数据库双写不一致" tabindex="-1"><a class="header-anchor" href="#缓存与数据库双写不一致" aria-hidden="true">#</a> 缓存与数据库双写不一致</h2><p>一般来说，如果允许缓存可以稍微的跟数据库偶尔有不一致的情况，也就是说如果你的系统不是严格要求 “缓存+数据库” 必须保持一致性的话，最好不要做这个方案，即：读请求和写请求串行化，串到一个内存队列里去。</p><p>串行化可以保证一定不会出现不一致的情况，但是它也会导致系统的吞吐量大幅度降低，用比正常情况下多几倍的机器去支撑线上的一个请求。</p><h2 id="缓存穿透" tabindex="-1"><a class="header-anchor" href="#缓存穿透" aria-hidden="true">#</a> 缓存穿透</h2><p>访问一个不存在的 key，缓存不起作用，请求会穿透到 DB，流量大时 DB 会挂掉。</p><p>举个栗子。系统A，每秒 5000 个请求，结果其中 4000 个请求是黑客发出的恶意攻击。数据库 id 是从 1 开始的，而黑客发过来的请求 id 全部都是负数。这样的话，缓存中不会有，请求每次都“视缓存于无物”，直接查询数据库。这种恶意攻击场景的缓存穿透就会直接把数据库给打死。</p><p><img src="/cs-way/assets/mk-2020-07-12-16-48-39.d6e2c14d.png" alt="" loading="lazy"></p><p>解决方案：</p><ol><li>对查询结果为空的情况也进行缓存，缓存时间设置短一点，或者该 key 对应的数据 insert 之后再清理缓存。</li><li>对一定不存在的 key 进行过滤。可以把所有的可能存在的key放到一个大的Bitmap中，查询时通过该Bitmap过滤。</li></ol><h2 id="缓存雪崩" tabindex="-1"><a class="header-anchor" href="#缓存雪崩" aria-hidden="true">#</a> 缓存雪崩</h2><p>对于系统 A，假设每天高峰期每秒 5000 个请求，本来缓存在高峰期可以扛住每秒 4000 个请求，但是缓存机器意外发生了全盘宕机。缓存挂了，此时 1 秒 5000 个请求全部落数据库，数据库必然扛不住，它会报一下警，然后就挂了。此时，如果没有采用什么特别的方案来处理这个故障，DBA 很着急，重启数据库，但是数据库立马又被新的流量给打死了。</p><p><img src="/cs-way/assets/mk-2020-07-12-16-49-58.a0a0bcb7.png" alt="" loading="lazy"></p><p>解决方案：</p><ol><li>在缓存失效后，通过加锁或者队列来控制读数据库写缓存的线程数量。比如对某个 key 只允许一个线程查询数据和写缓存，其他线程等待。</li><li>不同的 key，设置不同的过期时间，让缓存失效的时间点尽量均匀。</li><li>做二级缓存，A1 为原始缓存，A2为拷贝缓存，A1 失效时，可以访问 A2，A1 缓存失效时间设置为短期，A2 设置为长期（此点为补充）</li></ol><p>缓存雪崩的事前事中事后的解决方案如下：</p><p>事前：Redis 高可用，主从+哨兵，Redis cluster，避免全盘崩溃。 事中：本地 ehcache 缓存 + hystrix 限流&amp;降级，避免 MySQL 被打死。 事后：Redis 持久化，一旦重启，自动从磁盘上加载数据，快速恢复缓存数据。</p><p><img src="/cs-way/assets/mk-2020-07-12-16-59-15.30745ae6.png" alt="" loading="lazy"></p><p>用户发送一个请求，系统 A 收到请求后，先查本地 ehcache 缓存，如果没查到再查 Redis。如果 ehcache 和 Redis 都没有，再查数据库，将数据库中的结果，写入 ehcache 和 Redis 中。</p><p>限流组件，可以设置每秒的请求，有多少能通过组件，剩余的未通过的请求，怎么办？走降级！可以返回一些默认的值，或者友情提示，或者空值。</p><p>好处：</p><ul><li>数据库绝对不会死，限流组件确保了每秒只有多少个请求能通过。</li><li>只要数据库不死，就是说，对用户来说，2/5 的请求都是可以被处理的。</li><li>只要有 2/5 的请求可以被处理，就意味着你的系统没死，对用户来说，可能就是点击几次刷不出来页面，但是多点几次，就可以刷出来了</li></ul><h2 id="缓存击穿" tabindex="-1"><a class="header-anchor" href="#缓存击穿" aria-hidden="true">#</a> 缓存击穿</h2><p>某个 key 非常热点，访问非常频繁，处于集中式高并发访问的情况，当这个 key 在失效的瞬间，大量的请求就击穿了缓存，直接请求数据库，就像是在一道屏障上凿开了一个洞。</p><p>解决方案：</p><ol><li>使用互斥锁 (mutex key)：感知到缓存失效，去查询 DB 时，使用分布式锁，使得只有一个线程去数据库加载数据，加锁失败的线程，等待即可。</li><li>手动过期：redis 上从不设置过期时间，功能上将过期时间存在 key 对应的 value 里，如果发现要过期，通过一个后台的异步线程进行缓存的构建，也就是“手动”过期。</li></ol><p>不同场景下的解决方式可如下：</p><ul><li>若缓存的数据是基本不会发生更新的，则可尝试将该热点数据设置为永不过期。</li><li>若缓存的数据更新不频繁，且缓存刷新的整个流程耗时较少的情况下，则可以采用基于 Redis、zookeeper 等分布式中间件的分布式互斥锁，或者本地互斥锁以保证仅少量的请求能请求数据库并重新构建缓存，其余线程则在锁释放后能访问到新缓存。</li><li>若缓存的数据更新频繁或者在缓存刷新的流程耗时较长的情况下，可以利用定时线程在缓存过期前主动地重新构建缓存或者延后缓存的过期时间，以保证所有的请求能一直访问到对应的缓存。</li></ul><h2 id="缓存并发竞争" tabindex="-1"><a class="header-anchor" href="#缓存并发竞争" aria-hidden="true">#</a> 缓存并发竞争</h2><p>某个时刻，多个系统实例都去更新某个 key。可以基于 zookeeper 实现分布式锁。每个系统通过 zookeeper 获取分布式锁，确保同一时间，只能有一个系统实例在操作某个 key，别人都不允许读和写。</p><p><img src="/cs-way/assets/mk-2020-07-12-17-11-50.23333229.png" alt="" loading="lazy"></p><p>要写入缓存的数据都是从 mysql 里查出来的，都得写入 mysql 中，写入 mysql 中的时候必须保存一个时间戳，从 mysql 查出来的时候，时间戳也要查出来。</p><p>每次要写之前，先判断一下当前这个 value 的时间戳是否比缓存里的 value 的时间戳要新。如果是的话，那么可以写，否则，就不能用旧的数据覆盖新的数据。</p><h1 id="常见缓存框架" tabindex="-1"><a class="header-anchor" href="#常见缓存框架" aria-hidden="true">#</a> 常见缓存框架</h1><h2 id="ehcache" tabindex="-1"><a class="header-anchor" href="#ehcache" aria-hidden="true">#</a> EhCache</h2><p>EhCache 是一个纯Java的进程内缓存框架，具有快速、精干等特点，是Hibernate中默认CacheProvider</p><h3 id="特性" tabindex="-1"><a class="header-anchor" href="#特性" aria-hidden="true">#</a> 特性</h3><ul><li>快速、简单</li><li>多种缓存策略</li><li>缓存数据有两级：内存和磁盘</li><li>缓存数据会在虚拟机重启的过程中写入磁盘</li><li>可以通过RMI、可插入API等方式进行分布式缓存</li><li>具有缓存和缓存管理器的侦听接口</li><li>支持多缓存管理器实例，以及一个实例的多个缓存区域</li><li>内存统计</li></ul><h3 id="瓶颈" tabindex="-1"><a class="header-anchor" href="#瓶颈" aria-hidden="true">#</a> 瓶颈</h3><ul><li><p>缓存漂移（Cache Drift） 每个应用节点只管理自己的缓存，在更新某个节点的时候，不会影响到其他的节点，这样数据之间可能就不同步了。</p></li><li><p>数据库瓶颈（Database Bottlenecks ） 对于单实例的应用来说，缓存可以保护数据库的读风暴；但是，在集群的环境下，每一个应用节点都要定期保持数据最新，节点越多，要维持这样的情况对数据库的开销也越大。</p></li></ul><h2 id="guava-cache" tabindex="-1"><a class="header-anchor" href="#guava-cache" aria-hidden="true">#</a> Guava Cache</h2><p>Guava Cache是Google开源的Java重用工具集库Guava里的一款缓存工具，它的设计灵感来源于ConcurrentHashMap，使用多个segments方式的细粒度锁，在保证线程安全的同时，支持高并发场景需求，同时支持多种类型的缓存清理策略，包括基于容量的清理、基于时间的清理、基于引用的清理等。 Guava cache是google开发的，目前被常用在单机上，如果是分布式，它就无能为力了</p><h3 id="特性-1" tabindex="-1"><a class="header-anchor" href="#特性-1" aria-hidden="true">#</a> 特性</h3><p>guava cache类似concurrentMap使用分段锁提高并发写的效率</p><ul><li>支持缓存三种缓存淘汰策略</li><li>支持缓存移除监听(移除、过期、gc回收)</li><li>支持key/value的软引用、弱引用缓存</li><li>命中率统计</li></ul><!--]--></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/5/17 12:22:19</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: chenwei.tjw@alibaba-inc.com">chenwei.tjw</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E6%9C%8D%E5%8A%A1.html" class="nav-link prev" aria-label="分布式服务"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->分布式服务</div></a><a href="/cs-way/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%AD%E9%97%B4%E4%BB%B6/%E5%88%86%E5%B8%83%E5%BC%8F%E6%B6%88%E6%81%AF.html" class="nav-link next" aria-label="分布式消息"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">分布式消息<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">默认页脚</div><div class="copyright">Copyright © 2022 Vika</div></footer><!--]--></div><!--]--><!----><!----><div id="pwa-install"><!----><div id="install-modal-wrapper" style="display:none;"><div class="background"></div><div class="install-modal"><div class="header"><button class="close-button" aria-label="关闭"><svg xmlns="http://www.w3.org/2000/svg" class="icon close-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="close icon"><path d="M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z"></path></svg></button><div class="logo"><!----><div class="title"><h1></h1><p class="desc">该应用可以安装在你的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和你的操作系统安全地进行交互。</p></div></div></div><div class="content"><div class="highlight"><!----><!----></div><div class="description"><h3>详情</h3><p></p></div></div><div class="button-wrapper"><button class="install-button">安装<span></span></button><button class="cancel-button">取消</button></div></div></div></div><!--]--></div>
    <script type="module" src="/cs-way/assets/app.005c29cc.js" defer></script>
  </body>
</html>
